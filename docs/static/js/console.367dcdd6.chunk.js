(this["webpackJsonpwatchmen-panels"]=this["webpackJsonpwatchmen-panels"]||[]).push([[4],{755:function(t,n,e){"use strict";e.r(n);var r=e(3),o=e(0),a=e(1),i=e.n(a),c=e(5),l=e(2),s=e(7),d=e(19),u=e.n(d),f=e(23),b=e(18),p=e(14),v=e(16),h=e.n(v),j=e.p+"static/media/console-spaces-background.f781711b.png",g=e(101),m=e(70),x=e(107),O=e(108),w=e(85);function C(){var t=Object(r.a)(["\n\tdisplay: block;\n\tfont-size: 2em;\n\tfont-family: var(--console-title-font-family);\n\topacity: 0;\n\theight: 0;\n\twidth: 100%;\n\ttransition: all 300ms ease-in-out;\n\ttext-align: center;\n\t&[data-visible=true] {\n\t\topacity: 0.5;\n\t\theight: 100px;\n\t}\n"]);return C=function(){return t},t}function y(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tgrid-row: span 2;\n\tgrid-column: 2;\n\tmargin: calc(var(--margin) / -2) 0 calc(var(--margin) / -2) 128px;\n\tpadding: 0 calc(var(--margin) / 2);\n\tfont-variant: petite-caps;\n\tbackground-color: var(--console-primary-color);\n\tcolor: var(--invert-color);\n\tcursor: pointer;\n\tbox-shadow: none;\n\ttransition: all 300ms ease-in-out;\n\toverflow: hidden;\n\t> svg {\n\t\tpadding-top: calc(var(--margin) / 2);\n\t\tflex-grow: 1;\n\t\tfont-size: 4.5em;\n\t}\n\t> span {\n\t\tfont-variant: petite-caps;\n\t\theight: 2em;\n\t\tjustify-self: flex-start;\n\t}\n"]);return y=function(){return t},t}function E(){var t=Object(r.a)(["\n\tgrid-row: 2;\n\tpadding: calc(var(--margin) / 2) 0 0;\n\topacity: 0.7;\n\tdisplay: flex;\n\tflex-direction: column;\n\t> span {\n\t\tfont-size: 0.8em;\n\t\tline-height: 20px;\n\t}\n"]);return E=function(){return t},t}function I(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 2em;\n\tfont-family: var(--console-title-font-family);\n"]);return I=function(){return t},t}function S(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 128px;\n\tborder-radius: var(--border-radius);\n\tpadding: calc(var(--margin) / 2) 0 calc(var(--margin) / 2) var(--margin);\n\tbox-shadow: var(--console-shadow);\n\toverflow: hidden;\n\ttransition: all 300ms ease-in-out;\n\t&:hover {\n\t\tbox-shadow: var(--console-hover-shadow);\n\t\t> div:last-child {\n\t\t\tmargin-left: 0;\n\t\t\tbox-shadow: var(--console-primary-hover-shadow);\n\t\t}\n\t}\n"]);return S=function(){return t},t}function T(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr;\n\tgrid-row-gap: var(--margin);\n\tmargin-top: 50px;\n"]);return T=function(){return t},t}var k=l.c.div(T()),N=l.c.div(S()),R=l.c.div(I()),L=l.c.div(E()),A=l.c.div(y()),D=l.c.div(C()),_=function(){var t=Object(c.g)(),n=Object(w.b)().spaces,e=n.initialized,r=n.connected,a=n.available,i=n.addSpace,l=function(n){return Object(f.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.a)(n.spaceId,"Noname-".concat(h()().format("YYYYMMDD")),m.f.PRIVATE);case 3:r=e.sent,i(r),t.push(Object(s.d)(s.a.CONSOLE_CONNECTED_SPACE,r.connectId)),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),console.groupCollapsed("%cError on connect space.","color:rgb(251,71,71)"),console.error("SpaceId: ",n.spaceId),console.error(e.t0),console.groupEnd();case 14:case"end":return e.stop()}}),e,null,[[0,8]])})))};return Object(o.jsxs)(O.a,{"background-image":j,children:[Object(o.jsx)(x.a,{title:"Available Spaces"}),Object(o.jsxs)(k,{children:[a.sort((function(t,n){return(t.name||"").toLowerCase().localeCompare((n.name||"").toLowerCase())})).map((function(t){var n=t.spaceId,e=t.name,a=t.topics,i=function(t,n){return t.filter((function(t){return t.spaceId==n})).length}(r,n);return Object(o.jsxs)(N,{children:[Object(o.jsx)(R,{children:e}),Object(o.jsxs)(L,{children:[Object(o.jsx)("span",{children:0===a.length?"No topic.":1===a.length?"1 topic contained.":"".concat(a.length," topics contained.")}),Object(o.jsx)("span",{children:0===i?"Not connect yet.":"Connected for ".concat(i," time(s).")})]}),Object(o.jsxs)(A,{onClick:l(t),children:[Object(o.jsx)(p.a,{icon:b.ib}),Object(o.jsx)("span",{children:"Connect"})]})]},n)})),Object(o.jsx)(D,{"data-visible":e&&0===a.length,children:"No available space, contact administrator for authorization please."}),Object(o.jsx)(D,{"data-visible":!e,children:"Loading..."})]})]})},M=e(15);function P(){var t=Object(r.a)(["\n\tdisplay: block;\n\tmin-height: 1px;\n\tmargin: 6px 0;\n\tbackground-color: var(--border-color);\n"]);return P=function(){return t},t}function F(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tmin-height: 30px;\n\tpadding: 0 calc(var(--margin) / 2);\n\tfont-size: 0.8em;\n\tcolor: var(--console-font-color);\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t&:hover {\n\t\tcolor: var(--console-primary-color);\n\t\ttext-decoration: underline;\n\t}\n\t> svg:first-child {\n\t\tmargin-right: calc(var(--margin) / 3);\n\t}\n\t> span {\n\t\tflex-grow: 1;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tmargin-top: -1px;\n\t\tmargin-left: 1px;\n\t}\n"]);return F=function(){return t},t}function H(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: fixed;\n\tfont-family: var(--font-family);\n\tmin-width: 200px;\n\tmax-width: 400px;\n\tbackground-color: var(--invert-color);\n\tborder-radius: var(--border-radius);\n\tborder: var(--border);\n\tbox-shadow: var(--console-hover-shadow);\n\ttransform-origin: top;\n\ttransition: transform 300ms ease-in-out, opacity 300ms ease-in-out;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\tz-index: 1000;\n"]);return H=function(){return t},t}function z(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\tdisplay: flex;\n"]);return z=function(){return t},t}function G(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: sticky;\n\ttop: 0;\n\talign-items: center;\n\tpadding: 0 calc(var(--margin) / 2);\n\theight: var(--console-space-header-height);\n\tbackground-color: var(--invert-color);\n\tborder-bottom: var(--border);\n\tz-index: 2;\n"]);return G=function(){return t},t}function U(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n"]);return U=function(){return t},t}var Y,B=l.c.div.attrs({"data-widget":"console-space-container"})(U()),V=l.c.div.attrs({"data-widget":"console-space-header"})(G()),W=l.c.div.attrs({"data-widget":"console-space-body"})(z());!function(t){t.LEFT="left",t.CENTER="center",t.RIGHT="right"}(Y||(Y={}));var X,q=l.c.div.attrs((function(t){var n=t.align,e=void 0===n?Y.LEFT:n,r=t.left,o=t.right,a=t.top,i=t.visible,c=t.itemCount,l=t.separatorCount,s=void 0===l?0:l;return{style:{left:e===Y.LEFT?r:e===Y.CENTER?(r+o)/2:"unset",right:e===Y.RIGHT?"calc(100vw - ".concat(o,"px)"):"unset",top:a,height:2+30*Math.min(10,c)+13*s,transform:"".concat(i?"scaleY(1)":"scaleY(0)"," ").concat(e===Y.CENTER?"translateX(-50%)":""),opacity:i?1:0,pointerEvents:i?"auto":"none"}}}))(H()),J=l.c.div(F()),Q=function(t){return t.getBoundingClientRect()},K=function(t){var n=t.containerRef,e=t.changeState,r=t.align,o=t.offsetX,a=void 0===o?0:o,i=t.offsetY,c=void 0===i?0:i,l=Q(n.current),s=l.top,d=l.left;e({visible:!1,align:r,left:d+a,right:d+l.width+a,top:s+l.height+c})},Z=function(t){var n=t.containerRef,e=t.state,r=t.changeState,o=t.offsetX,a=void 0===o?0:o,i=t.offsetY,c=void 0===i?0:i;if(!e.visible){var l=Q(n.current),s=l.top,d=l.left,u=l.width,f=l.height;r({visible:!e.visible,align:e.align,left:d+a,right:d+u+a,top:s+f+c})}},$=function(t){var n=t.containerRef,e=t.state,r=t.changeState,o=t.offsetX,i=void 0===o?0:o,c=t.offsetY,l=void 0===c?0:c;Object(a.useEffect)((function(){if(n.current){var t=Q(n.current),o=t.top,a=t.left,c=t.width,s=t.height;r({visible:!1,align:e.align,left:a+i,right:a+c+i,top:o+s+l})}}),[n,e.align,i,l,r]),Object(a.useEffect)((function(){if(e.visible){var t=function(t){Object(M.c)(n.current,t.target)&&K({containerRef:n,changeState:r,align:e.align,offsetX:i,offsetY:l})};return window.addEventListener("scroll",t,!0),window.addEventListener("click",t,!0),window.addEventListener("focus",t,!0),function(){window.removeEventListener("scroll",t,!0),window.removeEventListener("click",t,!0),window.removeEventListener("focus",t,!0)}}}),[e.visible,e.align,i,l,n,r])},tt=l.c.div(P()),nt=e(28),et=e(117),rt=e(9),ot=e(82);!function(t){t.TOPIC_MOVE="topic-move",t.TOPIC_SELECTION_CHANGE="topic-selection-change",t.TOPIC_RELATION_TRANSFORM="topic-relation-transform"}(X||(X={}));var at=i.a.createContext({});at.displayName="SpacePaletteContext";var it=function(t){var n=t.children,e=Object(a.useState)(new ot.EventEmitter),r=Object(rt.a)(e,1)[0],i=Object(a.useState)({topicMoved:function(t){return r.emit(X.TOPIC_MOVE,t)},addTopicMovedListener:function(t){return r.on(X.TOPIC_MOVE,t)},removeTopicMovedListener:function(t){return r.off(X.TOPIC_MOVE,t)},topicSelectionChanged:function(t){return r.emit(X.TOPIC_SELECTION_CHANGE,t)},addTopicSelectionChangedListener:function(t){return r.on(X.TOPIC_SELECTION_CHANGE,t)},removeTopicSelectionChangedListener:function(t){return r.off(X.TOPIC_SELECTION_CHANGE,t)},topicRelationTransformed:function(t){return r.emit(X.TOPIC_RELATION_TRANSFORM,t)},addTopicRelationTransformedListener:function(t){return r.on(X.TOPIC_RELATION_TRANSFORM,t)},removeTopicRelationTransformedListener:function(t){return r.off(X.TOPIC_RELATION_TRANSFORM,t)}}),c=Object(rt.a)(i,1)[0];return Object(o.jsx)(at.Provider,{value:c,children:n})},ct=function(){return i.a.useContext(at)},lt=e(97),st=e(134);function dt(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\theight: 32px;\n\tpadding: 0 calc(var(--margin) / 3) 0 calc(var(--margin) / 4);\n\tborder-bottom: var(--border);\n\t> div:first-child {\n\t\ttransform: scale(0.6);\n\t}\n\t> div:nth-child(2) {\n\t\tfont-size: 0.8em;\n\t\tflex-grow: 1;\n\t}\n\t> div:nth-child(3) {\n\t\tfont-size: 0.8em;\n\t\tcolor: var(--console-primary-color);\n\t\tcursor: pointer;\n\t}\n"]);return dt=function(){return t},t}function ut(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\t&::-webkit-scrollbar {\n\t\tbackground-color: transparent;\n\t\twidth: 4px;\n\t}\n\t&::-webkit-scrollbar-track {\n\t\tbackground-color: var(--scrollbar-background-color);\n\t\tborder-radius: 2px;\n\t}\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground-color: var(--console-favorite-color);\n\t\tborder-radius: 2px;\n\t}\n"]);return ut=function(){return t},t}function ft(){var t=Object(r.a)(["\n\tpadding: 0 calc(var(--margin) / 2);\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\topacity: 0.7;\n"]);return ft=function(){return t},t}function bt(){var t=Object(r.a)(["\n\tdisplay: flex;\n\theight: 40px;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 0 calc(var(--margin) / 2);\n\tborder-bottom: var(--border);\n\tborder-color: var(--console-primary-color);\n\t> div:first-child {\n\t\tfont-family: var(--console-title-font-family);\n\t}\n\t> svg {\n\t\tcursor: pointer;\n\t\t&:hover {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t}\n"]);return bt=function(){return t},t}function pt(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 420px;\n\twidth: 320px;\n\tborder-radius: calc(var(--border-radius) * 2);\n\tborder-style: solid;\n\tborder-color: var(--console-favorite-color);\n\tborder-width: 2px;\n\tbox-shadow: var(--console-shadow);\n\tbackground-color: var(--invert-color);\n\topacity: 0.95;\n\ttransition: all 300ms ease-in-out;\n"]);return pt=function(){return t},t}function vt(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: absolute;\n\talign-items: center;\n\tjustify-content: center;\n\tright: calc(var(--margin) / 2);\n\tbottom: calc(var(--margin) / 2);\n\tbackground-color: var(--console-favorite-color);\n\tcolor: var(--invert-color);\n\twidth: 64px;\n\theight: 64px;\n\tborder-radius: 100%;\n\tborder-style: solid;\n\tborder-color: var(--console-favorite-color);\n\tborder-width: 2px;\n\tfont-size: 2em;\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t&:hover {\n\t\tbox-shadow: var(--console-hover-shadow);\n\t}\n"]);return vt=function(){return t},t}function ht(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: absolute;\n\tright: 0;\n\tbottom: 0;\n\tpadding-right: calc(var(--margin) / 2);\n\tpadding-bottom: calc(var(--margin) / 2);\n\toverflow: hidden;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=false] {\n\t\twidth: 96px;\n\t\theight: 96px;\n\t\t> div:last-child {\n\t\t\tmargin-top: 80px;\n\t\t\tmargin-left: 80px;\n\t\t\theight: 0;\n\t\t\twidth: 0;\n\t\t\tpadding: 0;\n\t\t\topacity: 0;\n\t\t\tpointer-events: none;\n\t\t}\n\t}\n\t&[data-visible=true] {\n\t\theight: calc(var(--margin) + 420px);\n\t\twidth: calc(var(--margin) + 320px);\n\t\tpadding-top: calc(var(--margin) / 2);\n\t\tpadding-left: calc(var(--margin) / 2);\n\t\t> div:first-child {\n\t\t\theight: 420px;\n\t\t\twidth: 320px;\n\t\t\topacity: 0;\n\t\t\tpointer-events: none;\n\t\t\tborder-radius: 0;\n\t\t\tborder-color: var(--console-primary-color);\n\t\t}\n\t\t> div:last-child {\n\t\t\tborder-color: var(--console-primary-color);\n\t\t}\n\t}\n"]);return ht=function(){return t},t}var jt,gt=l.c.div(ht()),mt=l.c.div(vt()),xt=l.c.div(pt()),Ot=l.c.div(bt()),wt=l.c.div(ft()),Ct=l.c.div(ut()),yt=l.c.div(dt()),Et=function(t){var n=t.space,e=t.topic,r=t.factor,i=r.type,c=r.label,l=n.topicRelations,s=e.topicId,d=Object(a.useRef)(null),u=(l||[]).filter((function(t){return!(t.sourceTopicId!=s||!t.sourceFactorNames.includes(r.name))||!(t.targetTopicId!=s||!t.targetFactorNames.includes(r.name))})),f=Object(lt.c)({show:0!==u.length,tooltip:u.map((function(t){return t.sourceTopicId==s?n.topics.find((function(n){return t.targetTopicId==n.topicId})).name:t.targetTopicId==s?n.topics.find((function(n){return t.sourceTopicId==n.topicId})).name:null})).filter((function(t){return null!=t})).join(", "),ref:d,rect:function(){return{align:lt.b.RIGHT,offsetX:-13,offsetY:10}}}),v=f.mouseEnter,h=f.mouseLeave;return Object(o.jsxs)(yt,{children:[Object(o.jsx)(st.a,{name:i,showTooltip:!0}),Object(o.jsx)("div",{children:c}),0!==u.length?Object(o.jsx)("div",{onMouseEnter:v,onMouseLeave:h,ref:d,children:Object(o.jsx)(p.a,{icon:b.W})}):null]})},It=function(t){var n=t.space,e=Object(a.useRef)(null),r=Object(a.useState)(!1),i=Object(rt.a)(r,2),c=i[0],l=i[1],s=Object(a.useState)(null),d=Object(rt.a)(s,2),u=d[0],f=d[1],v=ct();Object(a.useEffect)((function(){var t=function(t){var e=t.topicId;if(t.visible){var r=n.topics.find((function(t){return t.topicId==e}));r!==u&&f(r)}else f(null)};return v.addTopicSelectionChangedListener(t),function(){v.removeTopicSelectionChangedListener(t)}}),[v,u,n.topics]);return Object(o.jsxs)(gt,{"data-visible":c,children:[Object(o.jsx)(mt,{ref:e,onClick:function(){return l(!0)},children:Object(o.jsx)(p.a,{icon:b.tb})}),Object(o.jsxs)(xt,{children:[Object(o.jsxs)(Ot,{children:[Object(o.jsx)("div",{children:(null===u||void 0===u?void 0:u.name)||"No Selection"}),Object(o.jsx)(p.a,{icon:b.Gb,onClick:function(){return l(!1)}})]}),Object(o.jsx)(Ct,{children:u?u.factors.sort((function(t,n){return t.label.localeCompare(n.label)})).map((function(t){return Object(o.jsx)(Et,{space:n,topic:u,factor:t},t.name)})):Object(o.jsx)(wt,{children:"No Data"})})]})]})};!function(t){t.TOPIC="topic",t.TOPIC_FRAME="topic-frame",t.TOPIC_NAME="topic-name",t.TOPIC_RELATION="topic-relation",t.TOPIC_RELATION_LINK="topic-relation-link",t.TOPIC_SELECTION="topic-selection"}(jt||(jt={}));var St=function(t){var n=t.rect,e=n.coordinate,r=n.frame;return{top:{x:e.x+r.x+r.width/2,y:e.y+r.y},right:{x:e.x+r.x+r.width,y:e.y+r.y+r.height/2},bottom:{x:e.x+r.x+r.width/2,y:e.y+r.y+r.height},left:{x:e.x+r.x,y:e.y+r.y+r.height/2}}},Tt=function(t,n){return t.topics.find((function(t){return t.topic.topicId==n}))},kt=function(t){var n=t.graphics,e=t.sourceTopicId,r=t.targetTopicId,o=St(Tt(n,e)),a=St(Tt(n,r)),i="M".concat(o.top.x,",").concat((o.top.y+o.bottom.y)/2," L").concat(a.top.x,",").concat((a.top.y+a.bottom.y)/2);switch(!0){case a.left.x-o.right.x<=200&&a.left.x-o.right.x>=0:switch(!0){case o.bottom.y<=a.top.y:i="M".concat(o.bottom.x,",").concat(o.bottom.y," Q").concat(o.bottom.x,",").concat(a.left.y," ").concat(a.left.x,",").concat(a.left.y);break;case o.top.y>=a.bottom.y:i="M".concat(o.top.x,",").concat(o.top.y," Q").concat(o.top.x,",").concat(a.left.y," ").concat(a.left.x,",").concat(a.left.y);break;default:i="M".concat(o.right.x,",").concat(o.right.y," L").concat(a.left.x,",").concat(a.left.y)}break;case a.left.x-o.right.x>200:switch(!0){case o.bottom.y<=a.top.y:case o.top.y>=a.bottom.y:i=["M".concat(o.right.x,",").concat(o.right.y),"C".concat(o.right.x+(a.left.x-o.right.x)/6,",").concat(o.right.y),"".concat(o.right.x+(a.left.x-o.right.x)/3,",").concat(o.right.y),"".concat(o.right.x+(a.left.x-o.right.x)/2,",").concat((o.right.y+a.left.y)/2),"C".concat(o.right.x+(a.left.x-o.right.x)/3*2,",").concat(a.left.y),"".concat(o.right.x+(a.left.x-o.right.x)/6*5,",").concat(a.left.y),"".concat(a.left.x,",").concat(a.left.y)].join(" ");break;default:i="M".concat(o.right.x,",").concat(o.right.y," L").concat(a.left.x,",").concat(a.left.y)}break;case o.left.x-a.right.x<=200&&o.left.x-a.right.x>=0:switch(!0){case o.bottom.y<=a.top.y:i="M".concat(o.bottom.x,",").concat(o.bottom.y," Q").concat(o.bottom.x,",").concat(a.right.y," ").concat(a.right.x,",").concat(a.right.y);break;case o.top.y>=a.bottom.y:i="M".concat(o.top.x,",").concat(o.top.y," Q").concat(o.top.x,",").concat(a.right.y," ").concat(a.right.x,",").concat(a.right.y);break;default:i="M".concat(o.left.x,",").concat(o.left.y," L").concat(a.right.x,",").concat(a.right.y)}break;case o.left.x-a.right.x>200:switch(!0){case o.bottom.y<=a.top.y:case o.top.y>=a.bottom.y:i=["M".concat(o.left.x,",").concat(o.left.y),"C".concat(a.right.x+(o.left.x-a.right.x)/6*5,",").concat(o.left.y),"".concat(a.right.x+(o.left.x-a.right.x)/3*2,",").concat(o.left.y),"".concat(a.right.x+(o.left.x-a.right.x)/2,",").concat((o.left.y+a.right.y)/2),"C".concat(a.right.x+(o.left.x-a.right.x)/3,",").concat(a.right.y),"".concat(a.right.x+(o.left.x-a.right.x)/6,",").concat(a.right.y),"".concat(a.right.x,",").concat(a.right.y)].join(" ");break;default:i="M".concat(o.left.x,",").concat(o.left.y," L").concat(a.right.x,",").concat(a.right.y)}break;case a.top.y-o.bottom.y<=100&&a.top.y-o.bottom.y>=0:case o.top.y-a.bottom.y<=100&&o.top.y-a.bottom.y>=0:var c=Math.min(o.left.x,a.left.x)-150,l=!1;c<=5&&(l=!0),i=l?["M".concat(o.right.x,",").concat(o.right.y),"Q".concat(Math.min(o.right.x,a.right.x)+150,",").concat((o.right.y+a.right.y)/2),"".concat(a.right.x,",").concat(a.right.y)].join(" "):["M".concat(o.left.x,",").concat(o.left.y),"Q".concat(c,",").concat((o.left.y+a.left.y)/2),"".concat(a.left.x,",").concat(a.left.y)].join(" ");break;case a.top.y-o.bottom.y>100:i="M".concat(o.bottom.x,",").concat(o.bottom.y," L").concat(a.top.x,",").concat(a.top.y);break;case o.top.y-a.bottom.y>100:i="M".concat(o.top.x,",").concat(o.top.y," L").concat(a.bottom.x,",").concat(a.bottom.y);break;case a.top.y>=o.top.y:i=["M".concat(o.top.x,",").concat(o.top.y),"C".concat(o.top.x-300,",").concat(o.top.y-300),"".concat(a.bottom.x-300,",").concat(a.bottom.y+300),"".concat(a.bottom.x,",").concat(a.bottom.y)].join(" ");break;case a.top.y<o.top.y:i=["M".concat(o.bottom.x,",").concat(o.bottom.y),"C".concat(o.bottom.x+300,",").concat(o.bottom.y+300),"".concat(a.top.x+300,",").concat(a.top.y-300),"".concat(a.top.x,",").concat(a.top.y)].join(" ")}return{drawn:i}},Nt=function(t){var n=t.graphics,e=t.topicId,r=Tt(n,e);return{x:r.rect.coordinate.x-6,y:r.rect.coordinate.y-6,width:r.rect.frame.width+12,height:r.rect.frame.height+12}};function Rt(){var t=Object(r.a)(["\n\tfill: var(--console-font-color);\n\ttext-anchor: middle;\n\tfont-family: var(--console-title-font-family);\n\tfont-size: 1.1em;\n\tuser-select: none;\n"]);return Rt=function(){return t},t}function Lt(){var t=Object(r.a)(["\n\tstroke: var(--console-primary-color);\n\tstroke-width: 2px;\n\tfill: var(--invert-color);\n"]);return Lt=function(){return t},t}function At(){var t=Object(r.a)([""]);return At=function(){return t},t}var Dt=l.c.g.attrs((function(t){var n=t.coordinate,e=n.x,r=n.y;return{transform:"translate(".concat(e,", ").concat(r,")")}}))(At()),_t=l.c.rect.attrs((function(t){var n=t.frame;return{x:n.x,y:n.y,width:n.width,height:n.height,rx:6,ry:6,cursor:t.dnd?"move":"pointer"}}))(Lt()),Mt=l.c.text.attrs((function(t){var n=t.dnd,e=t.pos;return{x:e.x,y:e.y,cursor:n?"move":"pointer"}}))(Rt()),Pt=function(t){var n=t.topic,e=n.topic,r=n.rect,i=r.coordinate,c=r.frame,l=r.name,s=ct(),d=Object(M.f)(),u=Object(a.useState)(!1),f=Object(rt.a)(u,2),b=f[0],p=f[1];return Object(o.jsxs)(Dt,{onMouseDown:function(t){if(0===t.button){var e=t.clientX,o=t.clientY,a=e-i.x,c=o-i.y,l=function(t){var e=t.clientX,o=t.clientY;r.coordinate={x:e-a,y:o-c},d(),s.topicMoved(n)},u=function(t){for(var n=t.parentElement;"SVG"!==n.tagName.toUpperCase();)n=n.parentElement;return n}(t.target),f=function t(){u.removeEventListener("mousemove",l),u.removeEventListener("mouseleave",t),u.removeEventListener("mouseup",t),p(!1)};u.addEventListener("mousemove",l),u.addEventListener("mouseleave",f),u.addEventListener("mouseup",f),p(!0)}},coordinate:i,"data-topic-id":e.topicId,"data-topic-code":e.code,"data-role":jt.TOPIC,children:[Object(o.jsx)(_t,{frame:c,dnd:b,"data-topic-id":e.topicId,"data-topic-code":e.code,"data-role":jt.TOPIC_FRAME}),Object(o.jsx)(Mt,{pos:l,dnd:b,"data-role":jt.TOPIC_NAME,children:e.name})]})};function Ft(){var t=Object(r.a)(["\n\tstroke: var(--console-primary-color);\n\tstroke-width: 2px;\n\tfill: transparent;\n"]);return Ft=function(){return t},t}var Ht=l.c.path.attrs((function(t){return{d:t.lattice.drawn}}))(Ft()),zt=function(t){var n=t.graphics,e=t.relation,r=e.relation,i=ct(),c=Object(a.useRef)(null),l=Object(M.f)();return Object(a.useEffect)((function(){var t=function(t){var o=t.topic,a=r.sourceTopicId,c=r.targetTopicId;o.topicId!=a&&o.topicId!=c||(e.points=kt({graphics:n,sourceTopicId:a,targetTopicId:c}),l(),i.topicRelationTransformed(e))};return i.addTopicMovedListener(t),function(){return i.removeTopicMovedListener(t)}}),[i,e,r,n,l]),Object(o.jsx)("g",{ref:c,"data-topic-relation-id":r.relationId,"data-role":jt.TOPIC_RELATION,children:Object(o.jsx)(Ht,{lattice:e.points,"data-role":jt.TOPIC_RELATION_LINK})})};function Gt(){var t=Object(r.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 8px;\n\theight: 8px;\n\tbackground-color: var(--console-favorite-color);\n\tborder-radius: 100%;\n\toffset-distance: 0;\n\tanimation: "," 2s ease-in-out 0s infinite normal none;\n"]);return Gt=function(){return t},t}function Ut(){var t=Object(r.a)(["\n\tfrom {\n\t\toffset-distance: 0;\n\t}\n\tto {\n\t\toffset-distance: 100%;\n\t}\n"]);return Ut=function(){return t},t}var Yt=Object(l.d)(Ut()),Bt=l.c.div.attrs((function(t){var n=t.lattice.drawn;return{style:{display:t.visible?"block":"none",offsetPath:'path("'.concat(n,'")')}}}))(Gt(),Yt),Vt=function(t){var n=t.graphics,e=t.relation,r=e.relation,i=ct(),c=Object(M.f)(),l=Object(a.useState)(!1),s=Object(rt.a)(l,2),d=s[0],u=s[1];return Object(a.useEffect)((function(){var t=function(t){var n=t.topicId;!t.visible||n!=r.sourceTopicId&&n!=r.targetTopicId?u(!1):u(!0)},n=function(t){t.relation.relationId==r.relationId&&c()};return i.addTopicSelectionChangedListener(t),i.addTopicRelationTransformedListener(n),function(){i.removeTopicSelectionChangedListener(t),i.removeTopicRelationTransformedListener(n)}}),[i,n,r,c]),Object(o.jsx)(Bt,{lattice:e.points,visible:d})};function Wt(){var t=Object(r.a)(["\n\tstroke: var(--console-favorite-color);\n\tstroke-width: 2px;\n\tstroke-dasharray: 3px 3px;\n\tfill: transparent;\n\tz-index: -1;\n\tpointer-events: none;\n"]);return Wt=function(){return t},t}function Xt(){var t=Object(r.a)([""]);return Xt=function(){return t},t}var qt=l.c.g.attrs((function(t){return{style:{display:t.visible?"block":"none"}}}))(Xt()),Jt=l.c.rect.attrs((function(t){var n=t.rect;return{x:n.x,y:n.y,rx:8,ry:8,width:n.width,height:n.height}}))(Wt()),Qt=function(t){var n=t.graphics,e=t.selection,r=ct(),i=Object(M.f)();return Object(a.useEffect)((function(){var t=function(){return i()},o=function(t){var r=t.topic.topicId;r==e.topicId&&(e.topicId=r,e.visible=!0,e.rect=Nt({graphics:n,topicId:r}),i())};return r.addTopicSelectionChangedListener(t),r.addTopicMovedListener(o),function(){r.removeTopicSelectionChangedListener(t),r.removeTopicMovedListener(o)}}),[r,e,n,i]),Object(o.jsx)(qt,{"data-role":jt.TOPIC_SELECTION,visible:e.visible,children:Object(o.jsx)(Jt,{rect:e.rect,"data-topic-id":e.topicId})})};function Kt(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n"]);return Kt=function(){return t},t}function Zt(){var t=Object(r.a)(["\n\tposition: relative;\n\tflex-grow: 1;\n\tbackground-image: radial-gradient(var(--console-waive-color) 1px, transparent 0);\n\tbackground-size: 48px 48px;\n\toverflow: hidden;\n"]);return Zt=function(){return t},t}var $t=l.c.div(Zt()),tn=l.c.svg(Kt()),nn=function(t){return t.topics.reduce((function(t,n){return t.set(n.topic.topicId,n),t}),new Map)},en=function(t){var n=t.graphics,e=t.repaint,r=t.svg,o=t.size,a=o.width,i=o.height,c=nn(n);Array.from(r.querySelectorAll("g[data-role=".concat(jt.TOPIC,"]"))).forEach((function(t){var n,e,r=t.getAttribute("data-topic-id"),o=t.querySelector("text[data-role='".concat(jt.TOPIC_NAME,"']")).getBBox(),a=c.get(r).rect;a.frame=Object(nt.a)(Object(nt.a)({},a.frame),(n=o,{width:Math.max(n.width+32,150),height:n.height+16})),a.name={x:(e=a.frame).width/2,y:e.height/2+6.2}})),Array.from(c.values()).forEach((function(t){var n=30+Math.random()*(a-t.rect.frame.width-60),e=15+Math.random()*(i-t.rect.frame.height-30);t.rect.coordinate={x:n,y:e}})),n.topicRelations.forEach((function(t){var e=t.relation,r=e.sourceTopicId,o=e.targetTopicId;t.points=kt({graphics:n,sourceTopicId:r,targetTopicId:o})})),e()},rn=function(t){var n=t.space,e=n.topics,r=n.topicRelations,i=void 0===r?[]:r,c=ct(),l=Object(a.useRef)(null),s=Object(M.f)(),d=Object(a.useState)({width:300,height:300}),u=Object(rt.a)(d,2),f=u[0],b=u[1],p=Object(a.useState)(function(t){var n=t.topics,e=t.topicRelations,r=void 0===e?[]:e;return{topics:n.map((function(t){return{topic:t,rect:{coordinate:{x:0,y:0},frame:{x:0,y:0,width:150,height:32},name:{x:75,y:16}}}})),topicRelations:r.map((function(t){return{relation:t,points:{drawn:"M0,0 L0,0"}}})),topicSelection:{visible:!1,rect:{x:0,y:0,width:0,height:0}}}}(n)),v=Object(rt.a)(p,1)[0];Object(a.useEffect)((function(){var t=l.current;if(t){var n=t.parentElement,e=function(){return b({width:n.clientWidth,height:n.clientHeight})},r=new ResizeObserver(e);return r.observe(n),e(),en({graphics:v,repaint:s,svg:t,size:{width:n.clientWidth,height:n.clientHeight}}),function(){return r.disconnect()}}}),[]);var h=nn(v),j=function(t){return t.topicRelations.reduce((function(t,n){return t.set(n.relation.relationId,n),t}),new Map)}(v),g=function(){delete v.topicSelection.topicId,v.topicSelection.visible=!1,c.topicSelectionChanged(v.topicSelection)};return Object(o.jsxs)(a.Fragment,{children:[Object(o.jsxs)(tn,{width:f.width,height:f.height,viewBox:"0 0 ".concat(f.width," ").concat(f.height),onMouseDown:function(t){var n=t.button,e=t.target;if(2!==n&&1!==n){var r=e;if("SVG"!==r.tagName.toUpperCase())switch(r.getAttribute("data-role")||""){case jt.TOPIC_FRAME:case jt.TOPIC_NAME:var o=r.parentElement.getAttribute("data-topic-id");v.topicSelection.topicId=o,v.topicSelection.visible=!0,v.topicSelection.rect=Nt({graphics:v,topicId:o}),c.topicSelectionChanged(v.topicSelection);break;default:g()}else g()}},ref:l,children:[i.map((function(t){var n=j.get(t.relationId);return Object(o.jsx)(zt,{graphics:v,relation:n},t.relationId)})),e.map((function(t){var n=h.get(t.topicId);return Object(o.jsx)(Pt,{topic:n},t.code)})),Object(o.jsx)(Qt,{graphics:v,selection:v.topicSelection})]}),i.map((function(t){var n=j.get(t.relationId);return Object(o.jsx)(Vt,{graphics:v,relation:n},t.relationId)})),Object(o.jsx)(It,{space:n})]})},on=function(t){var n=t.space;return Object(o.jsx)($t,{children:Object(o.jsx)(it,{children:Object(o.jsx)(rn,{space:n})})})};function an(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 40px;\n\tborder-left: var(--border);\n\talign-items: center;\n\t> svg {\n\t\theight: 40px;\n\t\topacity: 0.7;\n\t}\n\t> div {\n\t\tposition: relative;\n\t\twriting-mode: vertical-lr;\n\t\tpadding: calc(var(--margin) / 2) 0;\n\t\tfont-family: var(--console-title-font-family);\n\t\tuser-select: none;\n\t\t&:not(:last-child):after {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\tbottom: 0;\n\t\t\tleft: 10%;\n\t\t\twidth: 80%;\n\t\t\theight: 1px;\n\t\t\tbackground-color: var(--border-color);\n\t\t}\n\t\t&:nth-child(2) > span:first-child {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t\t&:last-child > span:first-child {\n\t\t\tcolor: var(--console-success-color);\n\t\t}\n\t\t> span:first-child {\n\t\t\tpadding-bottom: calc(var(--margin) / 4);\n\t\t\tfont-weight: var(--font-bold);\n\t\t\tfont-size: 1.2em;\n\t\t}\n\t\t> span:last-child {\n\t\t\topacity: 0.7;\n\t\t}\n\t}\n"]);return an=function(){return t},t}var cn=l.c.div(an()),ln=function(t){var n=t.space.topics;return Object(o.jsxs)(cn,{children:[Object(o.jsx)(p.a,{icon:b.i}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:n.length}),Object(o.jsx)("span",{children:"Topics"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"5"}),Object(o.jsx)("span",{children:"Reports"})]})]})};function sn(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tmin-height: 100%;\n\twidth: 100%;\n"]);return sn=function(){return t},t}var dn,un=l.c.div(sn()),fn=function(t){var n=t.space;return Object(o.jsxs)(un,{children:[Object(o.jsx)(on,{space:n}),Object(o.jsx)(ln,{space:n})]})},bn=function(t){var n=t.visible,e=Object(et.a)(t,["visible"]);return n?Object(o.jsx)(fn,Object(nt.a)({},e)):null},pn=e(80),vn=e(76),hn=e(39),jn=e(8),gn=e(29),mn=function(t){var n=h()(t),e=h()().diff(n,"day");return e>365?"ancient":e>30?"year":e>7?"month":e>1?"week":"recent"},xn=function(t,n){return n.findIndex((function(n){return n.subjectId==t.subjectId}))},On=function(t,n){return-1!==xn(t,n.subjects)?void 0:n.groups.find((function(n){return-1!==xn(t,n.subjects)}))},wn=function(t){return function(){var n=Object(f.a)(u.a.mark((function n(e){var r,i,c,l,s,d,b,p;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.dialog,i=t.space,c=t.group,l=t.subject,s=t.onDeleted,e.preventDefault(),e.stopPropagation(),d=c?"".concat(i.name," / ").concat(c.name," / ").concat(l.name):"".concat(i.name," / ").concat(l.name),b=function(){var t=Object(f.a)(u.a.mark((function t(n){var e,r,o,a,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.space,r=n.group,o=n.subject,t.prev=1,t.next=4,Object(g.f)(o);case 4:t.next=14;break;case 6:t.prev=6,t.t0=t.catch(1),console.groupCollapsed("%cError on delete group.","color:rgb(251,71,71)"),console.error("Space: ",e),console.error("Group: ",r),console.error("Subject:",o),console.error(t.t0),console.groupEnd();case 14:r?(i=xn(o,r.subjects),r.subjects.splice(i,1)):(a=xn(o,e.subjects),e.subjects.splice(a,1));case 15:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b({space:i,group:c,subject:l});case 2:s({space:i,group:c,subject:l}),r.hide();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.show(Object(o.jsxs)("div",{"data-widget":"dialog-console-delete",children:[Object(o.jsx)("span",{children:"Are you sure to delete subject?"}),Object(o.jsx)("span",{"data-widget":"dialog-console-object",children:d})]}),Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:p,children:"Yes"}),Object(o.jsx)(jn.c,{inkType:jn.b.DEFAULT,onClick:r.hide,children:"Cancel"})]}));case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},Cn=function(t){return function(){var n=Object(f.a)(u.a.mark((function n(e){var r,i,c,l,s,d;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.dialog,i=t.space,c=t.group,l=t.onDeleted,e.preventDefault(),e.stopPropagation(),s=function(){var t=Object(f.a)(u.a.mark((function t(n){var e,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.space,r=n.group,t.prev=1,t.next=4,Object(g.e)(r);case 4:t.next=13;break;case 6:t.prev=6,t.t0=t.catch(1),console.groupCollapsed("%cError on delete group.","color:rgb(251,71,71)"),console.error("Space: ",e),console.error("Group: ",r),console.error(t.t0),console.groupEnd();case 13:o=e.groups.findIndex((function(t){return t===r})),e.groups.splice(o,1);case 15:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(n){return t.apply(this,arguments)}}(),d=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s({space:i,group:c});case 2:l({space:i,group:c}),r.hide();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.show(Object(o.jsxs)("div",{"data-widget":"dialog-console-delete",children:[Object(o.jsx)("span",{children:"Are you sure to delete group?"}),Object(o.jsxs)("span",{"data-widget":"dialog-console-object",children:[i.name," / ",c.name]})]}),Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:d,children:"Yes"}),Object(o.jsx)(jn.c,{inkType:jn.b.DEFAULT,onClick:r.hide,children:"Cancel"})]}));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},yn=function(t){return function(){var n=Object(f.a)(u.a.mark((function n(e){var r,i,c,l,s,d,b,p,v,h,j,g;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.dialog,i=t.space,c=t.group,l=t.subject,s=t.asFullName,d=t.renameObject,b=t.onRenamed,e.preventDefault(),e.stopPropagation(),p="",v=function(t){p=t.target.value,h(j(!p.trim()))},h=function(t){r.show(t,Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:g,children:"Yes"}),Object(o.jsx)(jn.c,{inkType:jn.b.DEFAULT,onClick:r.hide,children:"Cancel"})]}))},j=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(o.jsxs)("div",{"data-widget":"dialog-console-rename",children:[Object(o.jsxs)("span",{children:["Rename ",Object(o.jsx)("span",{"data-widget":"dialog-console-object",children:s({space:i,group:c,subject:l})})," to:"]}),Object(o.jsx)(gn.a,{onChange:v,value:p,"data-error":t,placeholder:"new name..."}),Object(o.jsx)("span",{children:"Name is required."})]})},g=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p.trim()){t.next=3;break}return h(j(!0)),t.abrupt("return");case 3:d({space:i,group:c,subject:l},p.trim()),b({space:i,group:c,subject:l}),r.hide();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h(j());case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()};!function(t){t.GROUP_CLOSED="group-closed",t.GROUP_RENAMED="group-renamed",t.SUBJECT_CLOSED="subject-closed",t.SUBJECT_RENAMED="subject-renamed"}(dn||(dn={}));var En=i.a.createContext({});En.displayName="SpaceContext";var In,Sn=function(t){var n=t.children,e=Object(c.h)(),r=Object(c.g)(),i=Object(a.useState)(new ot.EventEmitter),l=Object(rt.a)(i,1)[0],d=Object(a.useState)([]),u=Object(rt.a)(d,1)[0],f=Object(a.useState)([]),b=Object(rt.a)(f,1)[0],p=Object(a.useState)({}),v=Object(rt.a)(p,1)[0];return Object(o.jsx)(En.Provider,{value:{store:v,isGroupOpened:function(t){return u.some((function(n){return n.groupId==t.groupId}))},openGroupIfCan:function(t){var n=t.space,e=t.group;-1===u.findIndex((function(t){return t.groupId==e.groupId}))&&u.push(e),v.activeGroupId=e.groupId,r.push(Object(s.g)(s.a.CONSOLE_CONNECTED_SPACE_GROUP,n.connectId,e.groupId))},closeGroupIfCan:function(t){var n=t.space,o=t.group,a=u.findIndex((function(t){return t.groupId==o.groupId}));if(-1!==a){u.splice(a,1);var i=Object(c.f)(e.pathname,s.a.CONSOLE_CONNECTED_SPACE_GROUP);i&&i.params.groupId==o.groupId?0===u.length?(delete v.activeGroupId,r.push(Object(s.d)(s.a.CONSOLE_CONNECTED_SPACE_OVERALL,n.connectId))):0!==a?(v.activeGroupId=u[a-1].groupId,r.push(Object(s.g)(s.a.CONSOLE_CONNECTED_SPACE_GROUP,n.connectId,u[a-1].groupId))):(v.activeGroupId=u[0].groupId,r.push(Object(s.g)(s.a.CONSOLE_CONNECTED_SPACE_GROUP,n.connectId,u[0].groupId))):(v.activeGroupId==o.groupId&&(0===u.length?delete v.activeGroupId:v.activeGroupId=0!==a?u[a-1].groupId:u[0].groupId),l.emit(dn.GROUP_CLOSED,{space:n,group:o}))}},addGroupClosedListener:function(t){return l.on(dn.GROUP_CLOSED,t)},removeGroupClosedListener:function(t){return l.off(dn.GROUP_CLOSED,t)},groupRenamed:function(t){var n=t.space,e=t.group;l.emit(dn.GROUP_RENAMED,{space:n,group:e})},addGroupRenamedListener:function(t){return l.on(dn.GROUP_RENAMED,t)},removeGroupRenamedListener:function(t){return l.off(dn.GROUP_RENAMED,t)},isSubjectOpened:function(t){return b.some((function(n){return n.subjectId==t.subjectId}))},openSubjectIfCan:function(t){var n=t.space,e=t.subject;-1===b.findIndex((function(t){return t.subjectId==e.subjectId}))&&b.push(e),v.activeSubjectId=e.subjectId,r.push(Object(s.h)(s.a.CONSOLE_CONNECTED_SPACE_SUBJECT,n.connectId,e.subjectId))},closeSubjectIfCan:function(t){var n=t.space,o=t.group,a=t.subject,i=b.findIndex((function(t){return t.subjectId==a.subjectId}));if(-1!==i){b.splice(i,1);var d=Object(c.f)(e.pathname,s.a.CONSOLE_CONNECTED_SPACE_SUBJECT);d&&d.params.subjectId==a.subjectId?0===b.length?(delete v.activeSubjectId,r.push(Object(s.d)(s.a.CONSOLE_CONNECTED_SPACE_OVERALL,n.connectId))):0!==i?(v.activeSubjectId=b[i-1].subjectId,r.push(Object(s.h)(s.a.CONSOLE_CONNECTED_SPACE_SUBJECT,n.connectId,b[i-1].subjectId))):(v.activeSubjectId=b[0].subjectId,r.push(Object(s.h)(s.a.CONSOLE_CONNECTED_SPACE_SUBJECT,n.connectId,b[0].subjectId))):(v.activeSubjectId==a.subjectId&&(0===b.length?delete v.activeSubjectId:v.activeSubjectId=0!==i?b[i-1].subjectId:b[0].subjectId),l.emit(dn.SUBJECT_CLOSED,{space:n,group:o,subject:a}))}},addSubjectClosedListener:function(t){return l.on(dn.SUBJECT_CLOSED,t)},removeSubjectClosedListener:function(t){return l.off(dn.SUBJECT_CLOSED,t)},subjectRenamed:function(t){var n=t.space,e=t.group,r=t.subject;l.emit(dn.SUBJECT_RENAMED,{space:n,group:e,subject:r})},addSubjectRenamedListener:function(t){return l.on(dn.SUBJECT_RENAMED,t)},removeSubjectRenamedListener:function(t){return l.off(dn.SUBJECT_RENAMED,t)}},children:n})},Tn=function(){return i.a.useContext(En)};function kn(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tposition: relative;\n\tgrid-template-columns: 1fr auto;\n\tgrid-column-gap: 8px;\n\tgrid-row-gap: 8px;\n\tborder-radius: calc(var(--border-radius) * 2);\n\tborder: var(--border);\n\tpadding: 0 calc(var(--margin) / 2) calc(var(--margin) / 2);\n\tbox-shadow: var(--console-shadow);\n\tcursor: pointer;\n\tmargin-bottom: calc(var(--margin) / 2);\n\ttransition: all 300ms ease-in-out;\n\t&:last-child {\n\t\tmargin-bottom: 0;\n\t}\n\t&:hover {\n\t\tbox-shadow: var(--console-hover-shadow);\n\t\t> div:first-child {\n\t\t\t> button {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n\t&:before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: -1px;\n\t\tleft: -1px;\n\t\twidth: calc(100% + 2px);\n\t\theight: calc(100% + 2px);\n\t\tborder-radius: calc(var(--border-radius) * 2);\n\t\tbackground-color: transparent;\n\t\tz-index: 1;\n\t\t//opacity: 0.2;\n\t\tpointer-events: none;\n\t}\n\t&[data-visit-advice=recent] {\n\t\tborder-color: transparent;\n\t\t&:before {\n\t\t\tbackground-color: var(--console-bg-color-recent);\n\t\t}\n\t}\n\t&[data-visit-advice=week] {\n\t\tborder-color: transparent;\n\t\t&:before {\n\t\t\tbackground-color: var(--console-bg-color-week);\n\t\t}\n\t}\n\t&[data-visit-advice=month] {\n\t\tborder-color: transparent;\n\t\t&:before {\n\t\t\tbackground-color: var(--console-bg-color-month);\n\t\t}\n\t}\n\t&[data-visit-advice=year] {\n\t\tborder-color: transparent;\n\t\t&:before {\n\t\t\tbackground-color: var(--console-bg-color-year);\n\t\t}\n\t}\n\t&[data-visit-advice=ancient] {\n\t\tborder-color: transparent;\n\t\t&:before {\n\t\t\tbackground-color: var(--console-bg-color-ancient);\n\t\t}\n\t}\n\t> div {\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\t> div:first-child {\n\t\tgrid-column: span 2;\n\t\tfont-family: var(--console-title-font-family);\n\t\theight: 40px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tborder-bottom: var(--border);\n\t\t> button {\n\t\t\topacity: 0;\n\t\t}\n\t}\n\t> div:not(:first-child) {\n\t\tfont-size: 0.8em;\n\t}\n\t> div:nth-child(2n + 1):not(:first-child) {\n\t\tjustify-self: end;\n\t}\n"]);return kn=function(){return t},t}function Nn(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\tpadding: calc(var(--margin) / 2) calc(var(--margin) / 2);\n\t&::-webkit-scrollbar {\n\t\tbackground-color: transparent;\n\t\twidth: 4px;\n\t}\n\t&::-webkit-scrollbar-track {\n\t\tbackground-color: var(--scrollbar-background-color);\n\t\tborder-radius: 2px;\n\t}\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground-color: var(--console-favorite-color);\n\t\tborder-radius: 2px;\n\t}\n"]);return Nn=function(){return t},t}function Rn(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n\tflex-direction: column;\n"]);return Rn=function(){return t},t}function Ln(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\theight: 40px;\n\tpadding: 0 calc(var(--margin) / 2);\n\tborder-bottom: var(--border);\n\ttransition: all 300ms ease-in-out;\n\t> div:first-child {\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tfont-family: var(--console-title-font-family);\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n\t> button {\n\t\theight: 20px;\n\t\t&:hover {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t}\n"]);return Ln=function(){return t},t}function An(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 300px;\n\theight: 100%;\n\tborder-right: var(--border);\n\tbox-shadow: var(--console-hover-shadow);\n\ttransition: all 300ms ease-in-out;\n\toverflow: hidden;\n\t&[data-min=true] {\n\t\twidth: 0;\n\t\tborder-right-width: 0;\n\t}\n"]);return An=function(){return t},t}function Dn(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\twidth: 100%;\n\t&[data-min=true] {\n\t\t> button {\n\t\t\topacity: 1;\n\t\t\tpointer-events: auto;\n\t\t\t&:hover {\n\t\t\t\tbox-shadow: var(--console-primary-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\t> button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\topacity: 0;\n\t\tfont-family: var(--console-title-font-family);\n\t\tcolor: var(--invert-color);\n\t\tbackground-color: var(--console-primary-color);\n\t\ttop: calc(var(--margin) / 2);\n\t\tleft: calc(var(--margin) / 2);\n\t\twhite-space: nowrap;\n\t\tpadding: 6px calc(var(--margin) / 2);\n\t\tborder-radius: var(--border-radius);\n\t\tbox-shadow: var(--console-primary-shadow);\n\t\tpointer-events: none;\n\t\tz-index: 1;\n\t\ttransition: all 300ms ease-in-out;\n\t\t&:hover:before {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n"]);return Dn=function(){return t},t}!function(t){t.BY_NAME_ASC="by-name-asc",t.BY_NAME_DESC="by-name-desc",t.BY_VISIT_ASC="by-visit-asc",t.BY_VISIT_DESC="by-visit-desc"}(In||(In={}));var _n,Mn,Pn=l.c.div.attrs({"data-widget":"console-group-view"})(Dn()),Fn=l.c.div.attrs({"data-widget":"console-group-view-subject-list"})(An()),Hn=l.c.div.attrs({"data-widget":"console-group-view-subject-list-header"})(Ln()),zn=l.c.div.attrs({"data-widget":"console-group-view-subject-list-body"})(Rn()),Gn=l.c.div(Nn()),Un=l.c.div(kn()),Yn=function(t){var n=t.space,e=t.visible,r=Object(c.i)().groupId,i=Object(hn.b)(),l=Tn(),s=l.closeGroupIfCan,d=l.groupRenamed,v=l.openSubjectIfCan,j=l.closeSubjectIfCan,m=Object(M.f)(),x=Object(a.useState)(!1),O=Object(rt.a)(x,2),w=O[0],C=O[1],y=Object(a.useState)(In.BY_VISIT_ASC),E=Object(rt.a)(y,2),I=E[0],S=E[1];if(!e)return null;var T=n.groups.find((function(t){return t.groupId==r})),k=T.subjects.sort((function(t,n){switch(I){case In.BY_NAME_ASC:return t.name.toUpperCase().localeCompare(n.name.toUpperCase());case In.BY_NAME_DESC:return n.name.toUpperCase().localeCompare(t.name.toUpperCase());case In.BY_VISIT_DESC:return t.lastVisitTime.toUpperCase().localeCompare(n.lastVisitTime.toUpperCase());case In.BY_VISIT_ASC:default:return n.lastVisitTime.toUpperCase().localeCompare(t.lastVisitTime.toUpperCase())}})),N=Cn({dialog:i,space:n,group:T,onDeleted:function(t){var n=t.space,e=t.group;return s({space:n,group:e})}}),R=yn({dialog:i,space:n,group:T,asFullName:function(){return"".concat(n.name," / ").concat(T.name)},renameObject:function(t,n){return T.name=n},onRenamed:function(){d({space:n,group:T}),Object(g.m)(T.groupId,T.name),m()}}),L=function(){var t=Object(f.a)(u.a.mark((function t(){var e,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=h()().format("YYYY-MM-DD HH:mm:ss"),r={subjectId:"",name:"Noname",topicCount:0,graphicsCount:0,lastVisitTime:e,createdAt:e},T.subjects.push(r),t.next=5,Object(g.c)({space:n,group:T,subject:r});case 5:v({space:n,group:T,subject:r});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(t){return function(){return v({space:n,group:T,subject:t})}},D=function(t){return wn({dialog:i,space:n,group:On(t,n),subject:t,onDeleted:function(t){var n=t.space,e=t.group,r=t.subject;return j({space:n,group:e,subject:r})}})};return Object(o.jsxs)(Pn,{"data-min":w,children:[Object(o.jsxs)(Fn,{"data-min":w,children:[Object(o.jsxs)(Hn,{children:[Object(o.jsx)("div",{children:T.name}),Object(o.jsx)(vn.a,{onClick:R,ignoreHorizontalPadding:!0,tooltip:"Rename",center:!0,children:Object(o.jsx)(p.a,{icon:b.fb})}),Object(o.jsx)(vn.a,{onClick:N,ignoreHorizontalPadding:!0,tooltip:"Delete Group",center:!0,children:Object(o.jsx)(p.a,{icon:pn.g})}),Object(o.jsx)(vn.a,{onClick:function(){return C(!0)},ignoreHorizontalPadding:!0,tooltip:"Minimize",center:!0,children:Object(o.jsx)(p.a,{icon:b.Gb})})]}),Object(o.jsxs)(Hn,{children:[Object(o.jsx)("div",{children:"Subjects"}),Object(o.jsx)(vn.a,{onClick:L,ignoreHorizontalPadding:!0,tooltip:"Add Subject",center:!0,children:Object(o.jsx)(p.a,{icon:b.kb})}),Object(o.jsx)(vn.a,{onClick:function(){return S(In.BY_NAME_ASC)},ignoreHorizontalPadding:!0,tooltip:"Sort by Name, Ascending",center:!0,children:Object(o.jsx)(p.a,{icon:b.wb})}),Object(o.jsx)(vn.a,{onClick:function(){return S(In.BY_NAME_DESC)},ignoreHorizontalPadding:!0,tooltip:"Sort by Name, Descending",center:!0,children:Object(o.jsx)(p.a,{icon:b.vb})}),Object(o.jsx)(vn.a,{onClick:function(){return S(In.BY_VISIT_ASC)},ignoreHorizontalPadding:!0,tooltip:"Sort by Visit, Latest on Top",center:!0,children:Object(o.jsx)(p.a,{icon:b.P,style:{transform:"rotateY(180deg)"}})}),Object(o.jsx)(vn.a,{onClick:function(){return S(In.BY_VISIT_DESC)},ignoreHorizontalPadding:!0,tooltip:"Sort by Visit, Latest on Bottom",center:!0,children:Object(o.jsx)(p.a,{icon:b.P})})]}),Object(o.jsx)(zn,{children:Object(o.jsx)(Gn,{children:0===k.length?Object(o.jsx)("div",{children:"No Subject."}):k.map((function(t){var n=mn(t.lastVisitTime);return Object(o.jsxs)(Un,{"data-visit-advice":n,onClick:A(t),children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:t.name}),Object(o.jsx)(vn.a,{onClick:D(t),ignoreHorizontalPadding:!0,tooltip:"Delete Subject",center:!0,children:Object(o.jsx)(p.a,{icon:pn.g})})]}),Object(o.jsx)("div",{children:"Topics:"}),Object(o.jsx)("div",{children:t.topicCount}),Object(o.jsx)("div",{children:"Graphics:"}),Object(o.jsx)("div",{children:t.graphicsCount}),Object(o.jsx)("div",{children:"Created At:"}),Object(o.jsx)("div",{children:h()(t.createdAt).fromNow()}),Object(o.jsx)("div",{children:"Last Visit:"}),Object(o.jsx)("div",{children:h()(t.lastVisitTime).fromNow()})]},t.subjectId)}))})})]}),Object(o.jsx)(vn.a,{onClick:function(){return C(!1)},ignoreHorizontalPadding:!0,tooltip:"Show Group View Menus",children:Object(o.jsx)(p.a,{icon:b.f})})]})};!function(t){t.BY_GROUP="by-group",t.BY_VISIT="by-visit"}(_n||(_n={})),function(t){t.COLLAPSED_CHANGED="collapsed-changed",t.FILTER_TEXT_CHANGED="filter-text-changed",t.FILTER_CLEARED="filter-cleared"}(Mn||(Mn={}));var Bn=i.a.createContext({});Bn.displayName="SpaceListContext";var Vn=function(t){var n=t.children,e=Object(a.useState)(new ot.EventEmitter),r=Object(rt.a)(e,1)[0],i=Object(M.f)(),c=Object(a.useState)({filter:""}),l=Object(rt.a)(c,1)[0],s=Object(a.useState)(_n.BY_GROUP),d=Object(rt.a)(s,2),u=d[0],f=d[1],b=Object(a.useState)({toggleCollapsed:function(t){return r.emit(Mn.COLLAPSED_CHANGED,t)},addCollapsedChangedListener:function(t){return r.on(Mn.COLLAPSED_CHANGED,t)},removeCollapsedChangedListener:function(t){return r.off(Mn.COLLAPSED_CHANGED,t)},filterTextChanged:function(t){var n=(t||"").trim();l.filter!==n&&(l.filter=n,r.emit(Mn.FILTER_TEXT_CHANGED,n))},addFilterTextChangedListener:function(t){return r.on(Mn.FILTER_TEXT_CHANGED,t)},removeFilterTextChangedListener:function(t){return r.off(Mn.FILTER_TEXT_CHANGED,t)},clearFilter:function(){return r.emit(Mn.FILTER_CLEARED)},addFilterClearedListener:function(t){return r.on(Mn.FILTER_CLEARED,t)},removeFilterClearedListener:function(t){return r.off(Mn.FILTER_CLEARED,t)},groupDeleted:function(t){return i()},subjectDeleted:function(t){return i()}}),p=Object(rt.a)(b,1)[0];return Object(o.jsx)(Bn.Provider,{value:Object(nt.a)({store:l,viewType:u,setViewType:f},p),children:n})},Wn=function(){return i.a.useContext(Bn)};function Xn(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 80px 80px 120px 120px 32px;\n\tgrid-column-gap: calc(var(--margin) / 3);\n\talign-items: center;\n\theight: var(--console-subject-height);\n\tmargin: 0 calc(var(--margin) / 2) 1px;\n\tpadding: 0 calc(var(--margin) / 2);\n\tbackground-color: var(--bg-color);\n\tcursor: pointer;\n\t&:nth-child(2) {\n\t\tborder-top-left-radius: calc(var(--border-radius));\n\t\tborder-top-right-radius: calc(var(--border-radius));\n\t}\n\t&:last-child {\n\t\tborder-bottom-left-radius: calc(var(--border-radius));\n\t\tborder-bottom-right-radius: calc(var(--border-radius));\n\t\tmargin-bottom: 0;\n\t}\n\t&:hover {\n\t\tbox-shadow: var(--console-hover-shadow);\n\t\tz-index: 1;\n\t\t> div:first-child {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t\t> div:last-child:not(:first-child) {\n\t\t\topacity: 0.9;\n\t\t\tpointer-events: auto;\n\t\t\t&:hover {\n\t\t\t\topacity: 1;\n\t\t\t\tcolor: var(--console-primary-color);\n\t\t\t}\n\t\t}\n\t}\n\t> div {\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tfont-size: 0.8em;\n\t}\n\t> div:not(:first-child) {\n\t\topacity: 0.6;\n\t\tfont-family: var(--console-title-font-family);\n\t}\n\t> div:last-child:not(:first-child) {\n\t\tjustify-self: end;\n\t\tfont-size: 1em;\n\t\topacity: 0;\n\t\ttransition: all 300ms ease-in-out;\n\t\tpointer-events: none;\n\t}\n\t> div[data-visit-advice=week] {\n\t\tcolor: var(--console-color-week);\n\t}\n\t> div[data-visit-advice=month] {\n\t\tcolor: var(--console-color-month);\n\t}\n\t> div[data-visit-advice=year] {\n\t\tcolor: var(--console-color-year);\n\t}\n\t> div[data-visit-advice=ancient] {\n\t\tcolor: var(--console-color-ancient);\n\t}\n"]);return Xn=function(){return t},t}var qn=l.c.div.attrs({"data-widget":"console-list-view-subject"})(Xn()),Jn=function(t){var n=t.space,e=t.subject,r=Object(hn.b)(),i=Wn(),c=Tn(),l=c.openSubjectIfCan,s=c.closeSubjectIfCan,d=Object(a.useRef)(null),u=Object(lt.c)({show:!0,tooltip:"Delete Subject",ref:d,rect:function(){return{align:lt.b.RIGHT,offsetY:10,offsetX:-13}}}),f=u.mouseEnter,b=u.mouseLeave,v=mn(e.lastVisitTime),j=wn({dialog:r,space:n,group:On(e,n),subject:e,onDeleted:function(t){var n=t.space,e=t.group,r=t.subject;i.subjectDeleted({space:n,group:e,subject:r}),s({space:n,group:e,subject:r})}});return Object(o.jsxs)(qn,{onClick:function(){var t;-1===xn(e,n.subjects)&&(t=On(e,n)),l({space:n,group:t,subject:e})},children:[Object(o.jsx)("div",{children:Object(o.jsx)("span",{children:e.nameAs||e.name})}),"-1"==e.subjectId?null:Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{children:e.topicCount}),Object(o.jsx)("div",{children:e.graphicsCount}),Object(o.jsx)("div",{"data-visit-advice":v,children:h()(e.lastVisitTime).fromNow()}),Object(o.jsx)("div",{children:h()(e.createdAt).fromNow()}),Object(o.jsx)("div",{children:Object(o.jsx)(p.a,{icon:pn.g,onClick:j,forwardedRef:d,onMouseEnter:f,onMouseLeave:b})})]})]})},Qn=function(t){return!!t},Kn=function(t){return t.startsWith("g:")},Zn=function(t,n){return t.toUpperCase().includes(n.toUpperCase())};function $n(){var t=Object(r.a)(["\n\tdisplay: grid;\n\talign-items: center;\n\tgrid-template-columns: 1fr 80px 80px 120px 120px 32px;\n\tgrid-column-gap: calc(var(--margin) / 3);\n\tfont-family: var(--console-title-font-family);\n\tfont-size: 0.8em;\n\tpadding: 0 calc(var(--margin) / 2);\n\tmargin: 0 calc(var(--margin) / 2);\n\theight: 1.6em;\n\tmargin-bottom: 0.5em;\n\t> div:not(:first-child) {\n\t\topacity: 0.5;\n\t}\n"]);return $n=function(){return t},t}function te(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\ttransition: all 300ms ease-in-out;\n\tmargin: 0 calc(var(--margin) / -2);\n\toverflow: hidden;\n"]);return te=function(){return t},t}function ne(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t&[data-openable=true]:hover {\n\t\tcursor: pointer;\n\t\t> span {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t\t> svg {\n\t\t\tcolor: var(--console-primary-color);\n\t\t\topacity: 1;\n\t\t\tpointer-events: auto;\n\t\t}\n\t}\n\t> svg {\n\t\tmargin-left: calc(var(--margin) / 4);\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t\ttransition: all 300ms ease-in-out;\n\t}\n"]);return ne=function(){return t},t}function ee(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\theight: 44px;\n\t> div:first-child {\n\t\tfont-family: var(--console-title-font-family);\n\t}\n\t> div:last-child {\n\t\tdisplay: flex;\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t\ttransition: all 300ms ease-in-out;\n\t\t&[data-collapsed=true] {\n\t\t\t> button:last-child > svg {\n\t\t\t\ttransform: rotateZ(180deg);\n\t\t\t}\n\t\t}\n\t\t> button {\n\t\t\tfont-size: 0.8em;\n\t\t\tfont-weight: var(--font-bold);\n\t\t\tcolor: var(--console-primary-color);\n\t\t\topacity: 0.6;\n\t\t\t&:hover {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t\t&:last-child {\n\t\t\t\t> svg {\n\t\t\t\t\ttransition: all 300ms ease-in-out;\n\t\t\t\t}\n\t\t\t}\n\t\t\t> svg {\n\t\t\t\tmargin-right: calc(var(--margin) / 4);\n\t\t\t}\n\t\t}\n\t}\n"]);return ee=function(){return t},t}function re(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\tborder-radius: calc(var(--border-radius) * 2);\n\tbackground-color: ",";\n\tpadding: 0 calc(var(--margin) / 2);\n\tmargin-bottom: var(--margin);\n\toverflow: hidden;\n\ttransition: all 300ms ease-in-out;\n\t&:before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 4px;\n\t\theight: 100%;\n\t\tbackground-color: ",";\n\t}\n\t&:hover {\n\t\tdiv[data-widget='console-list-view-header-buttons'] {\n\t\t\topacity: 1;\n\t\t\tpointer-events: auto;\n\t\t}\n\t\tdiv[data-widget='console-list-view-subject-header'] {\n\t\t\t> div:first-child > button {\n\t\t\t\topacity: 1;\n\t\t\t\tpointer-events: auto;\n\t\t\t}\n\t\t}\n\t}\n\t&[data-visible=false] {\n\t\tmargin-bottom: 0;\n\t\t> div {\n\t\t\theight: 0;\n\t\t}\n\t}\n"]);return re=function(){return t},t}var oe=l.c.div.attrs({"data-widget":"console-list-view-group"})(re(),(function(t){var n=t.colorSuffix;return n?"var(--console-bg-color-".concat(n,")"):"var(--console-group-bg-color)"}),(function(t){var n=t.colorSuffix;return n?"var(--console-color-".concat(n,")"):"var(--console-group-quote-color)"})),ae=l.c.div.attrs({"data-widget":"console-list-view-group-header"})(ee()),ie=l.c.div(ne()),ce=l.c.div.attrs((function(t){var n=t.theme,e=t.itemCount,r=t.visible,o=n;return{"data-widget":"console-list-view-group-body",style:{height:r?"calc(1.9em + ".concat(e," * ").concat(o.consoleSubjectHeight+1,"px - 1px)"):0,marginBottom:r?"calc(var(--margin) / 2)":0}}}))(te()),le=l.c.div.attrs({"data-widget":"console-list-view-subject-header"})($n()),se=function(t,n){return 0===t.length?[{subjectId:"-1",name:n?"No matched.":"No subject.",topicCount:0,graphicsCount:0,lastVisitTime:"",createdAt:""}]:t},de=function(t){var n=t.space,e=t.group,r=t.colorSuffix,i=t.openable,c=void 0===i||i,l=t.removable,s=void 0===l||l,d=t.canAddSubject,v=void 0===d||d,j=e.subjects,m=Object(hn.b)(),x=Tn(),O=x.openGroupIfCan,w=x.closeGroupIfCan,C=x.openSubjectIfCan,y=Wn(),E=Object(M.f)(),I=Object(a.useState)(!1),S=Object(rt.a)(I,2),T=S[0],k=S[1];Object(a.useEffect)((function(){var t=function(t){t!==T&&k(t)},n=function(){return E()};return y.addCollapsedChangedListener(t),y.addFilterTextChangedListener(n),function(){y.removeCollapsedChangedListener(t),y.removeFilterTextChangedListener(n)}}),[y,T,E]);var N=function(){var t=Object(f.a)(u.a.mark((function t(){var r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=h()().format("YYYY-MM-DD HH:mm:ss"),o={subjectId:"",name:"Noname",topicCount:0,graphicsCount:0,lastVisitTime:r,createdAt:r},e.subjects.push(o),t.next=5,Object(g.c)({space:n,group:e,subject:o});case 5:C({space:n,group:e,subject:o});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(t){var n=t.filter,e=t.subjects,r=t.group;if(Qn(n)){if(Kn(n)){var o=function(t){return t.substr(2)}(n);return Zn(r.name,o)?{visible:!0,subjects:se(e,!1)}:{visible:!1,subjects:se(e,!1)}}return{visible:!0,subjects:se(e.filter((function(t){return Zn(t.name,n)})),!0)}}return{visible:!0,subjects:se(e,!1)}}({filter:y.store.filter,subjects:j,group:e}),L=R.visible,A=R.subjects,D=Cn({dialog:m,space:n,group:e,onDeleted:function(t){var n=t.space,e=t.group;y.groupDeleted({space:n,group:e}),w({space:n,group:e})}});return Object(o.jsxs)(oe,{"data-visible":L,colorSuffix:r,children:[Object(o.jsxs)(ae,{children:[Object(o.jsxs)(ie,{"data-openable":c,onClick:c?function(){return O({space:n,group:e})}:void 0,children:[Object(o.jsx)("span",{children:e.name}),c?Object(o.jsx)(p.a,{icon:b.K}):null]}),Object(o.jsxs)("div",{"data-widget":"console-list-view-header-buttons","data-collapsed":T,children:[v?Object(o.jsxs)(vn.a,{onClick:N,children:[Object(o.jsx)(p.a,{icon:b.M}),Object(o.jsx)("span",{children:"Add Subject"})]}):null,s?Object(o.jsxs)(vn.a,{onClick:D,children:[Object(o.jsx)(p.a,{icon:b.Hb}),Object(o.jsx)("span",{children:"Delete Group"})]}):null,Object(o.jsxs)(vn.a,{onClick:function(){return k(!T)},children:[Object(o.jsx)(p.a,{icon:T?b.I:b.y}),T?"Expand":"Collapse"]})]})]}),Object(o.jsxs)(ce,{visible:!T&&L,itemCount:A.length,children:[Object(o.jsxs)(le,{children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{children:"Relevant Topics"}),Object(o.jsx)("div",{children:"Graphics"}),Object(o.jsx)("div",{children:"Last Visit"}),Object(o.jsx)("div",{children:"Created At"})]}),A.map((function(t){return Object(o.jsx)(Jn,{space:n,group:e,subject:t},t.subjectId)}))]})]})};function ue(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n"]);return ue=function(){return t},t}var fe=l.c.div.attrs({"data-widget":"console-list-by-group"})(ue()),be=function(t){var n=t.space,e=n.subjects,r=n.groups,a=Wn().viewType,i=null;return e&&0!==e.length&&(i={groupId:"-1",name:"Ungrouped",subjects:e}),Object(o.jsxs)(fe,{"data-visible":a===_n.BY_GROUP,children:[i?Object(o.jsx)(de,{space:n,group:i,colorSuffix:"ungroup",openable:!1,removable:!1}):null,r.map((function(t){return Object(o.jsx)(de,{space:n,group:t},t.groupId)}))]})},pe=e(74);function ve(){var t=Object(r.a)(["\n\tdisplay: inline-block;\n\topacity: 0.5;\n\tmargin-left: calc(var(--margin) / 3);\n\ttransform-origin: left bottom;\n\ttransform: scale(0.8);\n"]);return ve=function(){return t},t}function he(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n"]);return he=function(){return t},t}var je=l.c.div.attrs({"data-widget":"console-list-by-visit"})(he()),ge=l.c.span(ve()),me=function(t){var n=t.space,e=n.subjects,r=n.groups,i=Wn().viewType,c=[{groupId:"-1",name:"Most Recently",subjects:[],colorSuffix:"recent"},{groupId:"-2",name:"In A Week",subjects:[],colorSuffix:"week"},{groupId:"-3",name:"In A Month",subjects:[],colorSuffix:"month"},{groupId:"-4",name:"In A Year",subjects:[],colorSuffix:"year"},{groupId:"-5",name:"Long Long Ago",subjects:[],colorSuffix:"ancient"}],l=h()();return[].concat(Object(pe.a)(e),Object(pe.a)(r.reduce((function(t,n){return t.push.apply(t,Object(pe.a)(n.subjects.map((function(t){return Object(nt.a)(Object(nt.a)({},t),{},{nameAs:Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("span",{children:t.name}),Object(o.jsx)(ge,{children:n.name})]})})})))),t}),[]))).forEach((function(t){var n=t.lastVisitTime,e=l.diff(h()(n),"day");e>365?c[4].subjects.push(t):e>30?c[3].subjects.push(t):e>7?c[2].subjects.push(t):e>1?c[1].subjects.push(t):c[0].subjects.push(t)})),c.forEach((function(t){return t.subjects.sort((function(t,n){return n.lastVisitTime.localeCompare(t.lastVisitTime)}))})),Object(o.jsx)(je,{"data-visible":i===_n.BY_VISIT,children:c.map((function(t){return Object(o.jsx)(de,{space:n,group:t,colorSuffix:t.colorSuffix,openable:!1,removable:!1,canAddSubject:!1},t.groupId)}))})};function xe(){var t=Object(r.a)(["\n\talign-self: center;\n\tfont-size: 0.8em;\n\theight: 0;\n\tmargin-bottom: 0;\n\toverflow: hidden;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=true] {\n\t\theight: 16px;\n\t\tmargin-bottom: var(--margin);\n\t}\n\t> span {\n\t\ttext-decoration: underline;\n\t\tcursor: pointer;\n\t}\n"]);return xe=function(){return t},t}function Oe(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return Oe=function(){return t},t}var we=l.c.div.attrs({"data-widget":"console-list-view-body"})(Oe()),Ce=l.c.div(xe()),ye=function(){var t=Wn(),n=t.store.filter,e=Object(M.f)();Object(a.useEffect)((function(){return t.addFilterTextChangedListener(e),function(){t.removeFilterTextChangedListener(e)}}),[t,n,e]);var r=Qn(n),i=Kn(n);return Object(o.jsxs)(Ce,{"data-visible":r,children:[i?"Groups":"Subjects"," are hidden. To show all contents, ",Object(o.jsx)("span",{onClick:function(){return t.clearFilter()},children:"clear filter"})]})},Ee=function(t){var n=t.space,e=Wn().viewType;return Object(o.jsxs)(we,{children:[e===_n.BY_GROUP?Object(o.jsx)(be,{space:n}):null,e===_n.BY_VISIT?Object(o.jsx)(me,{space:n}):null,Object(o.jsx)(ye,{})]})};function Ie(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: relative;\n\twidth: 22px;\n\theight: 22px;\n\tborder: var(--border);\n\tborder-width: 2px;\n\tborder-radius: 100%;\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t&:hover {\n\t\tborder-color: var(--primary-color);\n\t}\n\t&:before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder-radius: 100%;\n\t\ttransition: all 300ms ease-in-out;\n\t}\n\t&[data-selected=true] {\n\t\t&:before {\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t\tbackground-color: var(--border-color);\n\t\t}\n\t\t&:hover:before {\n\t\t\tbackground-color: var(--primary-color);\n\t\t}\n\t}\n"]);return Ie=function(){return t},t}var Se=l.c.div.attrs((function(){return{"data-widget":"radio"}}))(Ie()),Te=function(t){var n=t.selected,e=t.onSelected;return Object(o.jsx)(Se,{"data-selected":n,onClick:function(){return!n&&e&&e()}})};function ke(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\theight: 24px;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin: 0 calc(var(--margin) / -4);\n\tpadding: 0 calc(var(--margin) / 4);\n\tborder: 0;\n\tborder-radius: var(--border-radius);\n\tfont-family: var(--console-font-family);\n\tfont-size: 0.8em;\n\tfont-weight: var(--font-demi-bold);\n\tappearance: none;\n\toutline: none;\n\tcolor: var(--console-font-color);\n\tbackground-color: transparent;\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=false] {\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n\t&:hover {\n\t\tcolor: var(--console-primary-color);\n\t\tbackground-color: var(--invert-color);\n\t\tbox-shadow: var(--console-hover-shadow);\n\t}\n\t> svg {\n\t\tmargin-right: calc(var(--margin) / 4);\n\t}\n"]);return ke=function(){return t},t}function Ne(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tborder-radius: var(--border-radius);\n\tcursor: pointer;\n\t&:hover {\n\t\tcolor: var(--console-primary-color);\n\t\t> div:first-child {\n\t\t\tborder-color: var(--console-primary-color);\n\t\t\t&:before {\n\t\t\t\tbackground-color: var(--console-primary-color);\n\t\t\t}\n\t\t}\n\t}\n\t> div:first-child {\n\t\tmargin-top: 2px;\n\t\tmargin-right: calc(var(--margin) / 5);\n\t\ttransform: scale(0.7);\n\t\ttransform-origin: center center;\n\t\t&:hover {\n\t\t\tborder-color: var(--console-primary-color);\n\t\t\t&:before {\n\t\t\t\tbackground-color: var(--console-primary-color);\n\t\t\t}\n\t\t}\n\t}\n\t> span {\n\t\tfont-size: 0.8em;\n\t\tfont-weight: var(--font-demi-bold);\n\t\ttransition: all 300ms ease-in-out;\n\t}\n"]);return Ne=function(){return t},t}function Re(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t> div {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\talign-items: center;\n\t\tpadding: 0 calc(var(--margin) / 3);\n\t\t&:not(:first-child) {\n\t\t\t&:before {\n\t\t\t\tcontent: '';\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 20%;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 1px;\n\t\t\t\theight: 60%;\n\t\t\t\tbackground-color: var(--border-color);\n\t\t\t}\n\t\t}\n\t\t> *:not(:first-child) {\n\t\t\tmargin-left: calc(var(--margin) / 4);\n\t\t}\n\t}\n"]);return Re=function(){return t},t}function Le(){var t=Object(r.a)(["\n\tmin-width: 200px;\n\tfont-size: 0.8em;\n\t&:hover {\n\t\tborder-color: var(--console-primary-color);\n\t}\n\t&:focus {\n\t\tborder-color: var(--console-primary-color);\n\t\tbox-shadow: var(--console-hover-shadow);\n\t}\n"]);return Le=function(){return t},t}function Ae(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: calc(var(--margin) / 2);\n\t> div:first-child {\n\t\tflex-grow: 1;\n\t}\n"]);return Ae=function(){return t},t}var De=l.c.div.attrs({"data-widget":"console-list-view-header"})(Ae()),_e=Object(l.c)(gn.a)(Le()),Me=l.c.div(Re()),Pe=l.c.div(Ne()),Fe=l.c.button(ke()),He=null,ze=function(){null!=He&&clearTimeout(He)},Ge=function(t){var n=Wn(),e=n.viewType,r=n.setViewType,i=n.toggleCollapsed,c=Object(a.useRef)(null),l=Wn(),s=Object(lt.c)({show:!0,ref:c,tooltip:'Filter group by "g:name"',rect:function(){return{align:lt.b.LEFT,offsetY:8}}}),d=s.mouseEnter,u=s.mouseLeave;Object(a.useEffect)((function(){var t=function(){c.current.value="",l.filterTextChanged("")};return l.addFilterClearedListener(t),function(){l.removeFilterClearedListener(t)}}),[l]);var f=function(t){return function(){t!==e&&r(t)}};return Object(o.jsxs)(De,{children:[Object(o.jsx)("div",{children:Object(o.jsx)(_e,{placeholder:"Filter by name...",onChange:function(t){var n=(t.target.value||"").trim();ze(),He=setTimeout((function(){ze(),l.filterTextChanged(n)}),300)},ref:c,onMouseEnter:d,onMouseLeave:u})}),Object(o.jsxs)(Me,{children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)(Pe,{onClick:f(_n.BY_GROUP),children:[Object(o.jsx)(Te,{selected:e===_n.BY_GROUP}),Object(o.jsx)("span",{children:"By Group"})]}),Object(o.jsxs)(Pe,{onClick:f(_n.BY_VISIT),children:[Object(o.jsx)(Te,{selected:e===_n.BY_VISIT}),Object(o.jsx)("span",{children:"By Visit"})]})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)(Fe,{onClick:function(){return i(!0)},children:"Collapse All"}),Object(o.jsx)(Fe,{onClick:function(){return i(!1)},children:"Expand All"})]})]})]})};function Ue(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 100%;\n\twidth: 100%;\n\tpadding: calc(var(--margin) / 2) var(--margin);\n"]);return Ue=function(){return t},t}var Ye=l.c.div.attrs({"data-widget":"console-list-view-container"})(Ue()),Be=function(t){var n=t.visible,e=t.space;return n?Object(o.jsx)(Vn,{children:Object(o.jsxs)(Ye,{children:[Object(o.jsx)(Ge,{space:e}),Object(o.jsx)(Ee,{space:e})]})}):null},Ve=e(25),We=e(92);function Xe(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\t&::-webkit-scrollbar {\n\t\tbackground-color: transparent;\n\t\twidth: 4px;\n\t}\n\t&::-webkit-scrollbar-track {\n\t\tbackground-color: var(--scrollbar-background-color);\n\t\tborder-radius: 2px;\n\t}\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground-color: var(--console-favorite-color);\n\t\tborder-radius: 2px;\n\t}\n"]);return Xe=function(){return t},t}function qe(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n\tflex-direction: column;\n\tborder-bottom: var(--border);\n\ttransition: all 300ms ease-in-out;\n\t&:last-child {\n\t\tborder-bottom: 0;\n\t}\n\t&[data-visible=false] {\n\t\tflex-grow: 0;\n\t\tmargin-top: -1px;\n\t}\n"]);return qe=function(){return t},t}function Je(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\theight: 40px;\n\tpadding: 0 calc(var(--margin) / 2);\n\tborder-bottom: var(--border);\n\ttransition: all 300ms ease-in-out;\n\t> div:first-child {\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tfont-family: var(--console-title-font-family);\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\t> span:nth-child(2) {\n\t\t\tmargin-left: calc(var(--margin) / 4);\n\t\t\tfont-size: 0.8em;\n\t\t\tbackground-color: var(--console-primary-color);\n\t\t\tcolor: var(--invert-color);\n\t\t\tpadding: 1px 10px;\n\t\t\tborder-radius: 0.8em;\n\t\t\theight: 1.6em;\n\t\t\ttransform: scale(0.7,0.7);\n\t\t\topacity: 0.7;\n\t\t}\n\t}\n\t> button {\n\t\theight: 20px;\n\t\t&:hover {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t}\n"]);return Je=function(){return t},t}var Qe,Ke=l.c.div.attrs({"data-widget":"console-subject-view-panel-header"})(Je()),Ze=l.c.div.attrs({"data-widget":"console-subject-view-panel-body"})(qe()),$e=l.c.div.attrs({"data-widget":"console-subject-panel-body-wrapper"})(Xe());!function(t){t.SELECTION_CHANGED="selection-changed",t.REPAINT_SELECTION="repaint-selection",t.FIX_COLUMN_CHANGED="fix-column-changed",t.COMPRESS_COLUMN_WIDTH="compress-column-width",t.DRAG_COLUMN_VISIBLE_CHANGED="drag-column-visible-changed",t.REPLY_DRAG_COLUMN_VISIBLE="reply-drag-column-visible",t.DETERMINE_DRAG_COLUMN_VISIBLE="determine-drag-column-visible",t.DRAG_COLUMN_STATE_CHANGED="drag-column-state-changed"}(Qe||(Qe={}));var tr=i.a.createContext({});tr.displayName="DataSetTableContext";var nr=function(t){var n=t.children,e=Object(a.useState)(new ot.EventEmitter),r=Object(rt.a)(e,1)[0];return Object(o.jsx)(tr.Provider,{value:{selectionChange:function(t,n,e){return r.emit(Qe.SELECTION_CHANGED,t,n,e)},addSelectionChangeListener:function(t){return r.on(Qe.SELECTION_CHANGED,t)},removeSelectionChangeListener:function(t){return r.off(Qe.SELECTION_CHANGED,t)},repaintSelection:function(){return r.emit(Qe.REPAINT_SELECTION)},addRepaintSelectionHandler:function(t){return r.on(Qe.REPAINT_SELECTION,t)},removeRepaintSelectionHandler:function(t){return r.off(Qe.REPAINT_SELECTION,t)},fixColumnChange:function(t,n){return r.emit(Qe.FIX_COLUMN_CHANGED,t,n)},addFixColumnChangeListener:function(t){return r.on(Qe.FIX_COLUMN_CHANGED,t)},removeFixColumnChangeListener:function(t){return r.off(Qe.FIX_COLUMN_CHANGED,t)},compressColumnWidth:function(){return r.emit(Qe.COMPRESS_COLUMN_WIDTH)},addColumnWidthCompressHandler:function(t){return r.on(Qe.COMPRESS_COLUMN_WIDTH,t)},removeColumnWidthCompressHandler:function(t){return r.off(Qe.COMPRESS_COLUMN_WIDTH,t)},dragColumnVisibleChange:function(t){return r.emit(Qe.DRAG_COLUMN_VISIBLE_CHANGED,t)},addDragColumnVisibleChangeListener:function(t){return r.on(Qe.DRAG_COLUMN_VISIBLE_CHANGED,t)},removeDragColumnVisibleChangeListener:function(t){return r.off(Qe.DRAG_COLUMN_VISIBLE_CHANGED,t)},determineDragColumnVisible:function(){return new Promise((function(t){r.once(Qe.REPLY_DRAG_COLUMN_VISIBLE,(function(n){return t(n)})),r.emit(Qe.DETERMINE_DRAG_COLUMN_VISIBLE,(function(t){return r.emit(Qe.REPLY_DRAG_COLUMN_VISIBLE,t)}))}))},addDragColumnVisibleDeterminationHandler:function(t){return r.on(Qe.DETERMINE_DRAG_COLUMN_VISIBLE,t)},removeDragColumnVisibleDeterminationHandler:function(t){return r.off(Qe.DETERMINE_DRAG_COLUMN_VISIBLE,t)},dragColumnStateChange:function(t){return r.emit(Qe.DRAG_COLUMN_STATE_CHANGED,t)},addDragColumnStateChangeListener:function(t){return r.on(Qe.DRAG_COLUMN_STATE_CHANGED,t)},removeDragColumnStateChangeListener:function(t){return r.off(Qe.DRAG_COLUMN_STATE_CHANGED,t)}},children:n})},er=function(){return i.a.useContext(tr)};function rr(){var t=Object(r.a)(["\n\t> div:first-child {\n\t\tflex-grow: 0;\n\t\tmargin-right: var(--margin);\n\t}\n\t> div:nth-child(2) {\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\tfont-family: var(--console-title-font-family);\n\t\tfont-size: 0.8em;\n\t\tmargin-right: var(--margin);\n\t\t> div {\n\t\t\tpadding: 0 calc(var(--margin) / 4);\n\t\t\tfont-variant: petite-caps;\n\t\t\t> span {\n\t\t\t\tfont-variant: unicase;\n\t\t\t}\n\t\t}\n\t\t> button {\n\t\t\tfont-weight: normal;\n\t\t\tcolor: inherit;\n\t\t\twidth: 24px;\n\t\t\theight: 24px;\n\t\t}\n\t\t> button[data-visible=false] {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\t> button {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tmargin-left: calc(var(--margin) / 8);\n\t}\n"]);return rr=function(){return t},t}var or=Object(l.c)(Ke)(rr()),ar=function(t){var n=t.subject,e=t.columnDefs,r=t.data,a=t.onHide,i=t.fetchData,c=er(),l=c.selectionChange,s=c.compressColumnWidth,d=function(t){var r=[""].concat(Object(pe.a)(e.fixed.map((function(t){return t.alias||t.factor.label||t.factor.name}))),Object(pe.a)(e.data.map((function(t){return t.alias||t.factor.label||t.factor.name})))).join("\t"),o=t.data.map((function(t,n){return"".concat(n+1,"\t").concat(t.join("\t"))})).join("\n"),a="".concat(r,"\n").concat(o,"\n"),i=document.createElement("a");i.href="data:text/csv;charset=utf-8,"+encodeURI(a),i.target="_blank",i.download="".concat(n.name,"-Page").concat(t.pageNumber,"-TotalItemCount").concat(t.data.length,"-").concat(h()().format("YYYYMMDDHHmmss"),".csv"),i.click()},v=function(){var t=Object(f.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.k)({subjectId:n.subjectId,pageNumber:1,pageSize:5e4});case 2:e=t.sent,d(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.jsxs)(or,{children:[Object(o.jsxs)("div",{children:["Dataset of ",n.name]}),Object(o.jsxs)("div",{children:[1!==r.pageNumber?Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Previous Page",center:!0,offsetY:6,onClick:function(){i(r.pageNumber-1),l(!1,-1,-1)},children:Object(o.jsx)(p.a,{icon:b.a})}):null,Object(o.jsxs)("div",{children:[r.itemCount," Row",1!==r.itemCount?"s":""," Total, ",Object(o.jsx)("span",{children:"#"}),r.pageNumber," of ",r.pageCount," Pages."]}),r.pageNumber!==r.pageCount?Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Next Page",center:!0,offsetY:6,onClick:function(){i(r.pageNumber+1),l(!1,-1,-1)},children:Object(o.jsx)(p.a,{icon:b.b})}):null]}),Object(o.jsx)(vn.a,{onClick:s,ignoreHorizontalPadding:!0,tooltip:"Compress Columns",right:!0,offsetX:-6,children:Object(o.jsx)(p.a,{icon:b.y,transform:{rotate:45}})}),Object(o.jsx)(vn.a,{onClick:function(){d(r)},ignoreHorizontalPadding:!0,tooltip:"Download Current Page",right:!0,offsetX:-6,children:Object(o.jsx)(p.a,{icon:b.d})}),Object(o.jsx)(vn.a,{onClick:v,ignoreHorizontalPadding:!0,tooltip:"Download All Pages",right:!0,offsetX:-6,children:Object(o.jsx)(p.a,{icon:b.u})}),Object(o.jsx)(vn.a,{onClick:a,ignoreHorizontalPadding:!0,tooltip:"Minimize",right:!0,offsetX:-6,children:Object(o.jsx)(p.a,{icon:b.Gb})})]})};function ir(){var t=Object(r.a)(["\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tz-index: 15;\n\toverflow-y: hidden;\n\toverflow-x: scroll;\n"]);return ir=function(){return t},t}function cr(){var t=Object(r.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\theight: 100%;\n\tz-index: 15;\n\toverflow-x: hidden;\n\toverflow-y: scroll;\n"]);return cr=function(){return t},t}function lr(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: absolute;\n\tz-index: 20;\n\ttop: 0;\n\tleft: 0;\n\twidth: 0;\n\theight: 100%;\n\t//background-color: rgba(0, 0, 0, 0.05);\n\t&[data-visible=true] {\n\t\twidth: 100%;\n\t}\n"]);return lr=function(){return t},t}function sr(){var t=Object(r.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tbackground-color: var(--console-favorite-color);\n\topacity: 0.05;\n\tpointer-events: none;\n\ttransition: left 300ms ease-in-out;\n\tz-index: 10;\n"]);return sr=function(){return t},t}function dr(){var t=Object(r.a)(["\n\tposition: absolute;\n\tleft: 0;\n\tbackground-color: var(--console-favorite-color);\n\topacity: 0.1;\n\tpointer-events: none;\n\ttransition: top 300ms ease-in-out;\n\tz-index: 10;\n"]);return dr=function(){return t},t}function ur(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tfont-size: 0.8em;\n\tpadding: 0 8px;\n\tbackground-color: var(--invert-color);\n\tborder-right: var(--border);\n\tbox-shadow: -1px 0 0 0 var(--border-color);\n\t&[data-rowno=true] {\n\t\t&:hover {\n\t\t\tcursor: e-resize;\n\t\t}\n\t\t> span {\n\t\t\tfont-family: var(--console-title-font-family);\n\t\t\ttransform: scale(0.8);\n\t\t\ttransform-origin: left;\n\t\t}\n\t}\n\t&[data-last-row=true] {\n\t\tbox-shadow: -1px 0 0 0 var(--border-color), 0 1px 0 0 var(--border-color);\n\t}\n\t&[data-dragging=true] {\n\t\tdisplay: none;\n\t}\n\t> span {\n\t\tflex-grow: 1;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n"]);return ur=function(){return t},t}function fr(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tjustify-items: stretch;\n\talign-items: stretch;\n\tgrid-auto-rows: ","px;\n"]);return fr=function(){return t},t}function br(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: absolute;\n\theight: 31px;\n\ttop: 0;\n\tright: 0;\n\tpadding: calc(var(--margin) / 8);\n\tbackground-color: var(--bg-color);\n\topacity: 0;\n\tpointer-events: none;\n\t> button {\n\t\tfont-size: 0.9em;\n\t\twidth: 24px;\n\t}\n"]);return br=function(){return t},t}function pr(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tfont-size: 0.8em;\n\tfont-family: var(--console-title-font-family);\n\tbackground-color: var(--bg-color);\n\tpadding: 0 8px;\n\tborder-right: var(--border);\n\tborder-bottom: var(--border);\n\tbox-shadow: -1px 0 0 0 var(--border-color);\n\t&:not([data-rowno=true]):not([data-filler=true]) {\n\t\t&:hover {\n\t\t\t> div[data-widget='console-subject-view-dataset-table-header-cell-buttons'] {\n\t\t\t\topacity: 1;\n\t\t\t\tpointer-events: auto;\n\t\t\t\ttransition: all 300ms ease-in-out;\n\t\t\t}\n\t\t}\n\t}\n\t&[data-dragging=true] {\n\t\tdisplay: none;\n\t}\n\t> span {\n\t\tflex-grow: 1;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\t> button {\n\t\topacity: 0.7;\n\t\tfont-size: 0.9em;\n\t\t> svg:nth-child(2) {\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\tz-index: 1;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\ttransform: translate(-50%, -50%) scale(0.8);\n\t\t\ttransform-origin: center center;\n\t\t}\n\t}\n"]);return pr=function(){return t},t}function vr(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tposition: sticky;\n\ttop: 0;\n\tjustify-items: stretch;\n\talign-items: stretch;\n\theight: ","px;\n\tz-index: 1;\n"]);return vr=function(){return t},t}function hr(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\t&:first-child {\n\t\toverflow-x: hidden;\n\t\toverflow-y: auto;\n\t\t> div:nth-child(2) > div:after {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--console-primary-color);\n\t\t\topacity: 0.02;\n\t\t}\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tright: 0;\n\t\t\twidth: 1px;\n\t\t\theight: ","px;\n\t\t\tbackground-color: var(--border-color);\n\t\t}\n\t\t&::-webkit-scrollbar {\n\t\t\tbackground-color: transparent;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\t&:nth-child(2) {\n\t\tflex-grow: 1;\n\t\toverflow: auto;\n\t}\n\t&[data-scrollable=false]:nth-child(2) {\n\t\toverflow: hidden;\n\t}\n"]);return hr=function(){return t},t}function jr(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: absolute;\n\ttop: ","px;\n\tleft: 0;\n\twidth: 100%;\n\theight: calc(100% - ","px);\n\t&[data-resize-state=pick-column],\n\t&[data-resize-state=ready-to-drag],\n\t&[data-resize-state=dragging] {\n\t\tcursor: move;\n\t}\n\t&[data-resize-state=can-resize],\n\t&[data-resize-state=resizing] {\n\t\tcursor: col-resize;\n\t}\n"]);return jr=function(){return t},t}var gr=32,mr=24,xr=l.c.div.attrs({"data-widget":"console-subject-view-dataset-table-wrapper"})(jr(),40,40),Or=l.c.div.attrs((function(t){var n=t.columns,e=t.autoFill,r=n.reduce((function(t,n){return t+n.width}),0);return{"data-widget":"console-subject-view-dataset-table",style:{minWidth:e?"unset":r}}}))(hr(),(function(t){var n=t.rowCount;return mr*n})),wr=l.c.div.attrs((function(t){var n=t.columns;return{"data-widget":"console-subject-view-dataset-table-header",style:{gridTemplateColumns:t.autoFill?"0 ".concat(n.map((function(t){return"".concat(t.width,"px 0")})).join(" ")," minmax(").concat(40,"px, 1fr)"):"0 ".concat(n.map((function(t){return"".concat(t.width,"px 0")})).join(" "))}}}))(vr(),gr),Cr=l.c.div.attrs((function(t){return{"data-widget":"console-subject-view-dataset-table-header-cell",style:{gridColumn:t.column,borderRightColor:t.filler?"transparent":"var(--border-color)"}}}))(pr()),yr=l.c.div.attrs({"data-widget":"console-subject-view-dataset-table-header-cell-buttons"})(br()),Er=l.c.div.attrs((function(t){var n=t.columns;return{"data-widget":"console-subject-view-dataset-table-body",style:{gridTemplateColumns:t.autoFill?"0 ".concat(n.map((function(t){return"".concat(t.width,"px 0")})).join(" ")," minmax(").concat(40,"px, 1fr)"):"0 ".concat(n.map((function(t){return"".concat(t.width,"px 0")})).join(" "))}}}))(fr(),mr),Ir=l.c.div.attrs((function(t){var n=t.lastRow;return{"data-widget":"console-subject-view-dataset-table-body-cell",style:{gridColumn:t.column,borderBottom:n?0:"var(--border)",borderRightColor:t.filler?"transparent":"var(--border-color)"}}}))(ur()),Sr=l.c.div.attrs((function(t){var n=t.index,e=t.top,r=t.height,o=t.scroll;return{"data-widget":"console-subject-view-dataset-table-row-selection",style:{display:-1===n?"none":"block",top:e,width:"calc(100% - ".concat(o,"px)"),height:r+1}}}))(dr()),Tr=l.c.div.attrs((function(t){var n=t.index,e=t.left,r=t.width,o=t.height,a=t.scroll;return{"data-widget":"console-subject-view-dataset-table-column-selection",style:{display:-1!==n?"block":"none",left:e,width:r,height:0===o?"calc(100% + 1px - ".concat(a,"px)"):o}}}))(sr()),kr=l.c.div(lr()),Nr=l.c.div.attrs((function(t){var n=t.width,e=t.heightOffset,r=t.visible;return{style:{width:n,height:"calc(100% - ".concat(e,"px)"),display:r?"block":"none"}}}))(cr()),Rr=l.c.div.attrs((function(t){var n=t.left,e=t.height,r=t.widthOffset;return{style:{display:t.visible?"block":"none",left:n,width:"calc(100% - ".concat(n,"px - ").concat(r,"px)"),height:e}}}))(ir()),Lr=function(t){var n=t.column,e=t.isFixTable,r=t.last,i=t.gridColumnIndex,c=t.selectColumn,l=t.fixColumn,s=t.unfixColumn,d=t.sortColumnAsc,u=t.sortColumnDesc,f=t.dragging,v=Object(a.useRef)(null);return Object(o.jsxs)(Cr,{lastColumn:r,column:i,onClick:c,"data-dragging":f,"data-last-column":r,ref:v,children:[Object(o.jsx)("span",{children:n.alias||n.factor.label||n.factor.name}),Object(o.jsxs)(yr,{children:[Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Sort Ascending",right:!0,offsetX:-6,offsetY:6,onClick:d,children:Object(o.jsx)(p.a,{icon:b.yb})}),Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Sort Descending",right:!0,offsetX:-6,offsetY:6,onClick:u,children:Object(o.jsx)(p.a,{icon:b.xb})}),e?Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Unfix Me and Follows",right:!0,offsetX:-6,offsetY:6,onClick:s,children:Object(o.jsx)(p.a,{icon:b.Z})}):Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Fix Columns to Here",right:!0,offsetX:-6,offsetY:6,onClick:l,children:Object(o.jsx)(p.a,{icon:b.Y})})]})]})},Ar=Object(a.forwardRef)((function(t,n){var e=t.displayColumns,r=t.isFixTable,i=t.rowNoColumnWidth,c=t.data,l=c.data,s=c.pageNumber,d=c.pageSize,u=t.onColumnFixChange,f=t.onColumnSort,b=t.dragColumn,p=er().selectionChange,v=function(t,n){return function(e){e.preventDefault(),e.stopPropagation(),p(r,t,n)}},h=function(t,n){return function(e){e.preventDefault(),e.stopPropagation(),u(n,t)}},j=function(t,n){return function(e){e.preventDefault(),e.stopPropagation(),f(n,t)}},g=Object(pe.a)(e);r&&g.unshift({fixed:!0,width:i});var m=!r;return Object(o.jsxs)(Or,{columns:g,autoFill:m,rowCount:l.length,"data-scrollable":!b,ref:n,children:[Object(o.jsxs)(wr,{columns:g,autoFill:m,children:[r?Object(o.jsx)(Cr,{lastColumn:0===e.length,column:2,"data-rowno":!0,children:Object(o.jsx)("span",{children:"#"})}):null,e.map((function(t,n,e){var a=r&&n===e.length-1;return Object(o.jsx)(Lr,{column:t,isFixTable:r,last:a,gridColumnIndex:2*(n+(r?1:0)+1),selectColumn:v(-1,n),fixColumn:h(!0,t),unfixColumn:h(!1,t),sortColumnAsc:j(!0,t),sortColumnDesc:j(!1,t),dragging:t===b},"0-".concat(n))})),m?Object(o.jsx)(Cr,{lastColumn:!1,column:2*g.length+2,"data-filler":!0}):null]}),Object(o.jsx)(Er,{columns:g,autoFill:m,children:l.map((function(t,n,i){var c=i.length-1===n;return Object(o.jsxs)(a.Fragment,{children:[r?Object(o.jsx)(Ir,{lastRow:c,lastColumn:0===e.length,column:2,onClick:v(n,-1),"data-last-row":c,"data-rowno":!0,children:Object(o.jsx)("span",{children:d*(s-1)+n+1})}):null,e.map((function(e,a,i){var l=r&&a===i.length-1;return Object(o.jsx)(Ir,{lastRow:c,lastColumn:l,column:2*(a+(r?1:0)+1),onClick:v(n,a),"data-dragging":e===b,"data-last-row":c,"data-last-column":l,children:Object(o.jsx)("span",{children:"".concat(t[e.index])})},"".concat(n,"-").concat(a))})),m?Object(o.jsx)(Ir,{lastRow:c,lastColumn:!1,column:2*g.length+2,"data-last-row":c,"data-filler":!0}):null]},"".concat(n))}))})]})}));function Dr(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tfont-size: 0.8em;\n\tpadding: 1px 8px 0;\n\tbackground-color: var(--invert-color);\n\tborder: var(--border);\n\tborder-top: 0;\n\t> span {\n\t\tflex-grow: 1;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n"]);return Dr=function(){return t},t}function _r(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tjustify-items: stretch;\n\talign-items: stretch;\n\tgrid-auto-rows: ","px;\n"]);return _r=function(){return t},t}function Mr(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tfont-size: 0.8em;\n\tfont-family: var(--console-title-font-family);\n\tbackground-color: var(--bg-color);\n\tpadding: 0 8px;\n\twidth: 100%;\n\tborder: var(--border);\n\t> span {\n\t\tflex-grow: 1;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n"]);return Mr=function(){return t},t}function Pr(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: stretch;\n\tmin-height: ","px;\n\tz-index: 1;\n"]);return Pr=function(){return t},t}function Fr(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: absolute;\n\toverflow: hidden;\n\tborder-bottom: var(--border);\n\tz-index: 30;\n\tcursor: move;\n\tpointer-events: none;\n\ttransform-origin: center center;\n\tbox-shadow: var(--console-favorite-shadow);\n\t&[data-visible=false] {\n\t\tdisplay: none;\n\t}\n\t&:after {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: var(--console-favorite-color);\n\t\topacity: 0.1;\n\t\tz-index: 2;\n\t}\n"]);return Fr=function(){return t},t}var Hr,zr,Gr=l.c.div.attrs((function(t){var n=t.left,e=void 0===n?10:n,r=t.width,o=t.height,a=t.movementX,i=Math.max(-10,Math.min(10,a/10));return{"data-widget":"console-subject-view-dataset-drag-column",style:{top:-1,left:e,width:r,height:o+1,transform:"translateY(".concat(gr,"px) rotate(").concat(i,"deg)")}}}))(Fr()),Ur=l.c.div.attrs({"data-widget":"console-subject-view-dataset-drag-column-header"})(Pr(),33),Yr=l.c.div.attrs({"data-widget":"console-subject-view-dataset-drag-column-header-cell"})(Mr()),Br=l.c.div.attrs((function(t){return{"data-widget":"console-subject-view-dataset-drag-column-body",style:{marginTop:0-t.firstRowOffsetY}}}))(_r(),mr),Vr=l.c.div.attrs({"data-widget":"console-subject-view-dataset-drag-column-body-cell"})(Dr()),Wr=Object(a.forwardRef)((function(t,n){var e=t.column,r=t.data.data,i=er(),c=i.addDragColumnStateChangeListener,l=i.removeDragColumnStateChangeListener,s=i.addDragColumnVisibleChangeListener,d=i.removeDragColumnVisibleChangeListener,u=i.addDragColumnVisibleDeterminationHandler,f=i.removeDragColumnVisibleDeterminationHandler,b=Object(a.useState)(!1),p=Object(rt.a)(b,2),v=p[0],h=p[1],j=Object(a.useState)({left:0,height:0,startRowIndex:0,endRowIndex:0,firstRowOffsetY:0,movementX:0}),g=Object(rt.a)(j,2),m=g[0],x=g[1];if(Object(a.useEffect)((function(){var t=function(t){return t(v)},n=function(t){return x(Object(nt.a)(Object(nt.a)({},m),t))};return u(t),s(h),c(n),function(){f(t),d(h),l(n)}}),[u,s,c,v,m,f,d,l]),!e||!m)return null;var O=e.width,w=m.left,C=m.height,y=m.startRowIndex,E=m.endRowIndex,I=m.firstRowOffsetY,S=m.movementX;return Object(o.jsxs)(Gr,{left:w,width:O,height:C,movementX:S,"data-visible":v,ref:n,children:[Object(o.jsx)(Ur,{children:Object(o.jsx)(Yr,{children:Object(o.jsx)("span",{children:e.factor.label||e.factor.name})})}),Object(o.jsx)(Br,{firstRowOffsetY:I,children:r.map((function(t,n){return n<y||n>E?null:Object(o.jsx)(Vr,{children:Object(o.jsx)("span",{children:"".concat(t[e.index])})},"".concat(n))}))})]})})),Xr=function(t){var n=t.wrapperRef,e=t.dataTableRef,r=t.visible,i=n.current,c=e.current,l=Object(a.useRef)(null),s=Object(a.useRef)(null);if(Object(a.useEffect)((function(){if(r&&c&&l.current&&s.current){var t=c.scrollTop,n=c.scrollLeft;l.current.scrollTop=t,s.current.scrollLeft=n}})),!i||!c)return null;var d=i.getBoundingClientRect().left,u=c.clientWidth,f=c.clientHeight,b=c.scrollWidth,p=c.scrollHeight,v=c.offsetWidth,h=c.offsetHeight,j=c.getBoundingClientRect().left;return Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)(Nr,{width:v-u,heightOffset:h-f,visible:r,ref:l,children:Object(o.jsx)("div",{style:{width:1,height:p}})}),Object(o.jsx)(Rr,{left:j-d,height:h-f,widthOffset:v-u,visible:r,ref:s,children:Object(o.jsx)("div",{style:{width:b,height:1}})}),Object(o.jsx)("div",{style:{display:r?"block":"none",position:"absolute",bottom:0,left:0,width:j-d,height:h-f,borderTop:"var(--border)",backgroundColor:"var(--bg-color)"}}),Object(o.jsx)("div",{style:{display:r?"block":"none",position:"absolute",bottom:0,right:0,width:v-u,height:h-f,backgroundColor:"var(--bg-color)"}})]})},qr=function(t){var n=t.rowIndex;if(-1===n)return{rowTop:0,rowHeight:0};var e=t.scrollTop,r=t.clientHeight,o=-1===n?0:31+24*n-e,a=mr;return o+a<=31||o>r?{rowTop:0,rowHeight:0}:(o<31&&(a-=31-o,a=Math.max(0,a),o=31),o+a>r&&(a=r-o),{rowTop:o,rowHeight:a})},Jr=function(t){var n=t.columnIndex;if(-1===n)return{columnLeft:0,columnWidth:0,columnHeight:0};var e,r=t.inFixTable,o=t.scrollLeft,a=t.dataTableClientWidth,i=t.verticalScroll,c=t.data,l=t.columnDefs,s=t.rowNoColumnWidth,d=r?l.fixed[n]:l.data[n],u=(null===d||void 0===d?void 0:d.width)||0,f=(r?l.fixed:l.data).reduce((function(t,e,r){return r<n&&(t+=e.width),t}),0),b=u,p=l.fixed.reduce((function(t,n){return t+n.width}),s),v=p+a;if(r)e=f+s;else{if((e=p+f-o)+b<=p||e>=v)return{columnLeft:0,columnWidth:0,columnHeight:0};e<p&&(b-=p-e,b=Math.max(0,b),e=p)}return b+e>v&&(b=v-e),{columnLeft:e,columnWidth:b,columnHeight:i?0:c.data.length*mr+gr}},Qr=Object(a.forwardRef)((function(t,n){var e=t.data,r=t.columnDefs,i=t.dataTableRef,c=t.rowNoColumnWidth,l=er(),s=l.addSelectionChangeListener,d=l.removeSelectionChangeListener,u=l.addFixColumnChangeListener,f=l.removeFixColumnChangeListener,b=Object(a.useRef)(null),p=Object(a.useRef)(null),v=function(t){var n=t.data,e=t.columnDefs,r=t.rowNoColumnWidth,o=t.dataTableRef,i=t.rowSelectionRef,c=t.columnSelectionRef,l=er(),s=l.addRepaintSelectionHandler,d=l.removeRepaintSelectionHandler,u=Object(a.useState)({row:-1,rowTop:0,rowHeight:0,column:-1,columnLeft:0,columnWidth:0,columnHeight:0,inFixTable:!1,verticalScroll:0,horizontalScroll:0}),f=Object(rt.a)(u,2),b=f[0],p=f[1];return Object(a.useEffect)((function(){var t=function(){if(o.current){var t=o.current,a=b.inFixTable,l=b.row,s=b.column,d=b.rowTop,u=b.rowHeight,f=b.columnLeft,v=b.columnWidth;if(-1!==l&&i.current){var h=t.scrollTop,j=t.clientHeight,g=qr({rowIndex:l,scrollTop:h,clientHeight:j}),m=g.rowTop,x=g.rowHeight,O=i.current;O.style.transition="none",O.style.top="".concat(m,"px"),O.style.height="".concat(x,"px"),d=m,u=x}if(-1!==s&&c.current){var w=t.scrollLeft,C=t.clientWidth,y=t.offsetHeight,E=t.clientHeight,I=Jr({inFixTable:a,columnIndex:s,scrollLeft:w,dataTableClientWidth:C,verticalScroll:y!==E,data:n,columnDefs:e,rowNoColumnWidth:r}),S=I.columnLeft,T=I.columnWidth,k=c.current;k.style.transition="none",k.style.left="".concat(S,"px"),k.style.width="".concat(T,"px"),f=S,v=T}-1===l&&-1===s||setTimeout((function(){p(Object(nt.a)(Object(nt.a)({},b),{},{rowTop:d,rowHeight:u,columnLeft:f,columnWidth:v})),i.current&&(i.current.style.transition=""),c.current&&(c.current.style.transition="")}),5)}},a=o.current;return null===a||void 0===a||a.addEventListener("scroll",t),s(t),function(){null===a||void 0===a||a.removeEventListener("scroll",t),d(t)}})),{selection:b,select:function(t,a,i){if(o.current){var c=o.current,l=c.offsetWidth,s=c.offsetHeight,d=c.clientWidth,u=c.clientHeight,f=c.scrollTop,b=c.scrollLeft,v={verticalScroll:l-d,horizontalScroll:s-u},h=qr({rowIndex:a,scrollTop:f,clientHeight:u}),j=Jr({inFixTable:t,columnIndex:i,scrollLeft:b,dataTableClientWidth:d,verticalScroll:l!==d,data:n,columnDefs:e,rowNoColumnWidth:r});p(Object(nt.a)(Object(nt.a)(Object(nt.a)({row:a},h),{},{column:i},j),{},{inFixTable:t},v))}}}}({data:e,columnDefs:r,rowNoColumnWidth:c,dataTableRef:i,rowSelectionRef:b,columnSelectionRef:p}),h=v.selection,j=v.select;return Object(a.useImperativeHandle)(n,(function(){return{selection:function(){return h}}})),Object(a.useEffect)((function(){var t=function(t,n){var e=h.column,o=h.inFixTable;if(-1!==e)if(o){if(t)return;if(e<r.fixed.length)return;j(!1,h.row,e-r.fixed.length)}else t?e>=n?j(!1,h.row,e-n):j(!0,h.row,r.fixed.length-n+e):j(!1,h.row,e+n)};return s(j),u(t),function(){d(j),f(t)}})),Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)(Sr,{index:h.row,top:h.rowTop,height:h.rowHeight,scroll:h.verticalScroll,ref:b}),Object(o.jsx)(Tr,{index:h.column,left:h.columnLeft,width:h.columnWidth,height:h.columnHeight,scroll:h.horizontalScroll,ref:p})]})}));!function(t){t.ASC="asc",t.DESC="desc"}(Hr||(Hr={})),function(t){t.NONE="none",t.PICK_COLUMN="pick-column",t.CAN_RESIZE="can-resize",t.RESIZING="resizing",t.READY_TO_DRAG="ready-to-drag",t.DRAGGING="dragging"}(zr||(zr={}));var Kr=function(t){return"console-subject-view-dataset-table"!==t.getAttribute("data-widget")?t.closest('div[data-widget="console-subject-view-dataset-table"]'):t},Zr=function(t){for(var n=t.map((function(t){return t.width})),e=1,r=n.length;e<r;e++)n[e]+=n[e-1];return n},$r=function(t){var n,e=t.wrapperLeft,r=t.table,o=t.mouseClientX,a=t.columnDefs,i=t.isFixTable,c=t.rowNoColumnWidth,l=t.matchColumnIndex,s=i?a.fixed:a.data;n=i?o-r.getBoundingClientRect().left-c:o-r.getBoundingClientRect().left+r.scrollLeft;var d=l(Zr(s),n);return{column:s[d],offsetX:o-e,originalWidth:s[d].width}},to=function(t){var n=t.columnDefs,e=t.data,r=er(),i=r.fixColumnChange,c=r.repaintSelection,l=r.selectionChange,s=r.dragColumnVisibleChange,d=r.dragColumnStateChange,b=r.determineDragColumnVisible,p=r.addColumnWidthCompressHandler,v=r.removeColumnWidthCompressHandler,h=Object(a.useRef)(null),j=Object(a.useRef)(null),g=Object(a.useRef)(null),m=Object(a.useRef)(null),x=Object(a.useState)(40),O=Object(rt.a)(x,1)[0],w=Object(a.useState)(zr.NONE),C=Object(rt.a)(w,2),y=C[0],E=C[1],I=Object(a.useState)(null),S=Object(rt.a)(I,2),T=S[0],k=S[1],N=Object(M.f)(),R=function(t){var n=t.fixTableRef,e=t.dataTableRef,r=function(){if(e.current&&n.current){var t=e.current,r=n.current,o=t.offsetHeight-t.clientHeight;r.style.height="calc(100% - ".concat(o,"px)"),r.style.boxShadow="0 1px 0 0 var(--border-color)"}};return Object(a.useEffect)((function(){if(e.current&&n.current){var t=e.current,o=n.current,a=function(){r(),o.scrollTop=t.scrollTop};setTimeout(r,100),t.addEventListener("scroll",a);var i=function(){return t.scrollTop=o.scrollTop};return o.addEventListener("scroll",i),function(){t.removeEventListener("scroll",a),o.removeEventListener("scroll",i)}}})),r}({fixTableRef:j,dataTableRef:g});Object(a.useEffect)((function(){var t=function(){n.fixed.forEach((function(t){return t.width=100})),n.data.forEach((function(t){return t.width=100})),N()};return p(t),function(){return v(t)}}));var L=function(t){var e=t.table;if(e){var r=t.mouseClientX,o=t.mouseClientY,a=t.avoidResize;!function(t){var n=t.table,e=t.mouseClientX,r=t.mouseClientY,o=t.isFixTable,a=t.rowNoColumnWidth,i=t.displayColumns,c=t.fixColumns,l=t.changeBehavior,s=n.getBoundingClientRect(),d=s.top,u=s.left;if(r-d>gr)l(zr.NONE);else{var f=e-u;if(o&&f<=a)l(zr.NONE);else{var b=Zr(i);if(!o&&f>b[b.length-1]+3-n.scrollLeft)l(zr.NONE);else{var p=o?f-a:f;l((o?b.some((function(t){return Math.abs(t-p)<=3})):0!==c.length&&p<=3||b.some((function(t){return Math.abs(t-p-n.scrollLeft)<=3})))?zr.CAN_RESIZE:zr.PICK_COLUMN)}}}}({table:e,mouseClientX:r,mouseClientY:o,isFixTable:e===j.current,rowNoColumnWidth:O,displayColumns:e===j.current?n.fixed:n.data,fixColumns:n.fixed,changeBehavior:a?function(t){E(t===zr.CAN_RESIZE?zr.PICK_COLUMN:t)}:E})}},A=function(t){var n=t.element,e=t.columns,r=t.isFixTable,o=2*e.length;return n.style.gridTemplateColumns.split(" ").map((function(t,n){return function(t){return r?t>1&&t<o+3:t<o+1}(n)?n%2===0?"0px":"".concat(e[function(t){return r?(t-3)/2:(t-1)/2}(n)].width,"px"):t}))},D=function(t){var e=t.mouseClientX,r=t.sourceTable,o=t.sourceColumns,a=t.targetTable,i=t.targetColumns,c=t.pickedColumn,l=o.indexOf(c),s=r.querySelector('div[data-widget="console-subject-view-dataset-table-header"]'),d=r.querySelector('div[data-widget="console-subject-view-dataset-table-body"]'),u=r===j.current,f=A({element:s,columns:o,isFixTable:u});u?f[2*(l+1)+1]="0":f[2*(l+1)-1]="0";var b,p,v,h=a===j.current,m=Zr(i),x=a.getBoundingClientRect().left,w=a.scrollLeft,C=m.findIndex((function(t){return t-w>e-x-(h?O:0)}));if(r===a?(b=s,p=d,v=f):(b=a.querySelector('div[data-widget="console-subject-view-dataset-table-header"]'),p=a.querySelector('div[data-widget="console-subject-view-dataset-table-body"]'),v=A({element:b,columns:i,isFixTable:h})),-1===C)h?v[2*(i.length+1)]="".concat(c.width,"px"):v[2*i.length+1]="".concat(c.width,"px");else{var y=m[C],E=y-i[C].width;e-x>(y+E)/2-w?v[2*(C+1)+(h?2:0)]="".concat(c.width,"px"):v[2*(C+1)+(h?2:0)-2]="".concat(c.width,"px")}var I=r===a;if(!I){var S=f.join(" ");s.style.gridTemplateColumns=S,d.style.gridTemplateColumns=S}var T,k,N,R=v.join(" ");if(b.style.gridTemplateColumns=R,p.style.gridTemplateColumns=R,u)if(T=f.map((function(t){return parseInt(t)})).reduce((function(t,n){return t+n}),0),I){k=r;var L=(N=g.current).querySelector('div[data-widget="console-subject-view-dataset-table-header"]'),D=N.querySelector('div[data-widget="console-subject-view-dataset-table-body"]'),_="0 ".concat(n.data.map((function(t){return"".concat(t.width,"px 0")})).join(" ")," minmax(").concat(40,"px, 1fr)");L.style.gridTemplateColumns=_,D.style.gridTemplateColumns=_}else k=r,N=a;else if(I){var M=(k=j.current).querySelector('div[data-widget="console-subject-view-dataset-table-header"]'),P=k.querySelector('div[data-widget="console-subject-view-dataset-table-body"]'),F="0 ".concat(O,"px 0 ").concat(n.fixed.map((function(t){return"".concat(t.width,"px 0")})).join(" "));M.style.gridTemplateColumns=F,P.style.gridTemplateColumns=F,T=n.fixed.reduce((function(t,n){return t+n.width}),O),N=r}else T=v.map((function(t){return parseInt(t)})).reduce((function(t,n){return t+n}),0),k=a,N=r;k.style.minWidth="unset",k.style.width="".concat(T,"px"),N.style.left="".concat(T,"px"),N.style.position="absolute",N.style.width="calc(100% - ".concat(T,"px)")},_=function(t,e){var r,o,a,i,c,l,s=g.current,d=j.current,u=s.getBoundingClientRect().left;return n.data.includes(e)?(r=!1,a=s,i=n.data):(r=!0,a=d,i=n.fixed),t>=u?(o=!1,c=s,l=n.data):(o=!0,c=d,l=n.fixed),{fromFixTable:r,toFixTable:o,sourceTable:a,sourceColumns:i,targetTable:c,targetColumns:l}},P=function(){var t=Object(f.a)(u.a.mark((function t(n){var e,r,o,a,i,c,f,p,v,j,g,x;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T){t.next=2;break}return t.abrupt("return");case 2:return r=h.current,o=r.getBoundingClientRect(),a=o.left,i=n-a-T.offsetX,t.next=7,b();case 7:if((c=t.sent)||!(Math.abs(i)<=10)){t.next=10;break}return t.abrupt("return");case 10:null===(e=window.getSelection())||void 0===e||e.removeAllRanges(),d({left:n-a-T.column.width/2,movementX:i}),y!==zr.DRAGGING&&(f=m.current.selection(),l(f.inFixTable,f.row,-1),E(zr.DRAGGING)),c||s(!0),p=_(n,T.column),v=p.sourceTable,j=p.sourceColumns,g=p.targetTable,x=p.targetColumns,D({mouseClientX:n,sourceTable:v,sourceColumns:j,targetTable:g,targetColumns:x,pickedColumn:T.column});case 16:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),F=function(t,r){var o,a=t===j.current,i=h.current.getBoundingClientRect().left,c=(o={wrapperLeft:i,table:t,mouseClientX:r,columnDefs:n,isFixTable:a,rowNoColumnWidth:O},$r(Object(nt.a)(Object(nt.a)({},o),{},{matchColumnIndex:function(t,n){return t.findIndex((function(e,r){return e>n&&(0===r||t[r-1]<n)}))}})));k(c);var l=t.scrollTop,s=Math.min(t.clientHeight,gr+e.data.length*mr),u=Math.floor(l/mr),f=u+Math.ceil((s-gr)/mr+2);d({height:s,startRowIndex:u,endRowIndex:f,firstRowOffsetY:l%mr,movementX:0}),E(zr.READY_TO_DRAG)},H=function(t,e){k(function(t){var n=t.wrapperLeft,e=t.table,r=t.mouseClientX,o=t.columnDefs;return!t.isFixTable&&r-e.getBoundingClientRect().left<=3?{column:o.fixed[o.fixed.length-1],offsetX:r-n,originalWidth:o.fixed[o.fixed.length-1].width}:$r(Object(nt.a)(Object(nt.a)({},t),{},{matchColumnIndex:function(t,n){return t.findIndex((function(t){return Math.abs(t-n)<=3}))}}))}({wrapperLeft:h.current.getBoundingClientRect().left,table:t,mouseClientX:e,columnDefs:n,isFixTable:t===j.current,rowNoColumnWidth:O})),E(zr.RESIZING)},z=function(t){if(T){var e,r=T.column,o=_(t,r),a=o.fromFixTable,i=o.toFixTable;a?(e=n.fixed.indexOf(r),n.fixed.splice(e,1)):(e=n.data.indexOf(r),n.data.splice(e,1));var c,d=j.current,u=g.current;if(i){var f=d.querySelector('div[data-widget="console-subject-view-dataset-table-header"]'),b=d.querySelector('div[data-widget="console-subject-view-dataset-table-body"]'),p=f.style.gridTemplateColumns.split(" ").filter((function(t,n){return n>=2&&n%2===0})).map((function(t){return parseInt(t)})).findIndex((function(t){return 0!==t}));c=a?p===e||p-1===e?e:p<e?p:p-1:p,n.fixed.splice(c,0,r);var v="0 ".concat(O,"px 0 ").concat(n.fixed.map((function(t){return"".concat(t.width,"px 0")})).join(" "));f.style.gridTemplateColumns=v,b.style.gridTemplateColumns=v}else{var h=u.querySelector('div[data-widget="console-subject-view-dataset-table-header"]'),x=u.querySelector('div[data-widget="console-subject-view-dataset-table-body"]'),w=h.style.gridTemplateColumns.split(" ").filter((function(t,n){return n%2===0})).map((function(t){return parseInt(t)})).findIndex((function(t){return 0!==t}));c=a?w:w===e||w-1===e?e:w<e?w:w-1,n.data.splice(c,0,r);var C="0 ".concat(n.data.map((function(t){return"".concat(t.width,"px 0")})).join(" ")," minmax(").concat(40,"px, 1fr)");h.style.gridTemplateColumns=C,x.style.gridTemplateColumns=C}d.style.minWidth="".concat(n.fixed.reduce((function(t,n){return t+n.width}),O),"px"),d.style.width="",u.style.left="",u.style.position="",u.style.width="",k(null),s(!1),E(zr.NONE);var y=m.current.selection();l(i,y.row,c)}},G=function(t,e){if(e){var r=n.data.indexOf(t);n.fixed=[].concat(Object(pe.a)(n.fixed),Object(pe.a)(n.data.splice(0,r+1))),i(e,r+1),N()}else{var o=n.fixed.indexOf(t),a=n.fixed.length-o;n.data=[].concat(Object(pe.a)(n.fixed.splice(o)),Object(pe.a)(n.data)),i(e,a),N()}},U=function(t,r){var o=t.index;r&&t.sort===Hr.ASC||(r||t.sort!==Hr.DESC)&&(e.data.sort((function(t,n){var e,a=t[o],i=n[o];return e=null==a?-1:null==i?1:"number"===typeof a&&"number"===typeof i?a-i:"boolean"===typeof a&&"boolean"===typeof i?a?i?0:1:-1:"".concat(a).toUpperCase().localeCompare("".concat(i).toUpperCase()),r?e:-1*e})),t.sort=r?Hr.ASC:Hr.DESC,n.fixed.filter((function(n){return n!==t})).forEach((function(t){return delete t.sort})),n.data.filter((function(n){return n!==t})).forEach((function(t){return delete t.sort})),N())};return Object(o.jsxs)(xr,{"data-resize-state":y,onMouseMove:function(t){y===zr.RESIZING&&T?function(t){if(T){var e=t-h.current.getBoundingClientRect().left-T.offsetX;T.column.width=Math.min(Math.max(100,T.originalWidth+e),500);var r=n.fixed.includes(T.column),o=r?j.current:g.current,a=r?n.fixed:n.data,i=o.querySelector('div[data-widget="console-subject-view-dataset-table-header"]'),l=o.querySelector('div[data-widget="console-subject-view-dataset-table-body"]'),s=i.style.gridTemplateColumns.split(" ");s[2*(a.indexOf(T.column)+(r?1:0))+1]="".concat(T.column.width,"px");var d=s.join(" ");if(i.style.gridTemplateColumns=d,l.style.gridTemplateColumns=d,r){var u=g.current,f=s.map((function(t){return parseInt(t)})).reduce((function(t,n){return t+n}),0);u.style.left="".concat(f,"px"),u.style.position="absolute",u.style.width="calc(100% - ".concat(f,"px)")}c(),R()}}(t.clientX):y!==zr.READY_TO_DRAG&&y!==zr.DRAGGING||!T?L({table:Kr(t.target),mouseClientX:t.clientX,mouseClientY:t.clientY,avoidResize:!1}):P(t.clientX)},onMouseDown:function(t){y===zr.CAN_RESIZE?H(Kr(t.target),t.clientX):y===zr.PICK_COLUMN&&F(Kr(t.target),t.clientX)},onMouseUp:function(t){if(y===zr.RESIZING){var e=g.current;e.style.left="",e.style.position="",e.style.width="";var r=n.fixed.some((function(t){return t===(null===T||void 0===T?void 0:T.column)}))?j.current:g.current;k(null),L({table:r,mouseClientX:t.clientX,mouseClientY:t.clientY,avoidResize:!0})}else y===zr.READY_TO_DRAG?(k(null),s(!1),E(zr.PICK_COLUMN)):y===zr.DRAGGING&&z(t.clientX)},onMouseLeave:function(t){if(y===zr.RESIZING){var n=g.current;n.style.left="",n.style.position="",n.style.width="",k(null),E(zr.NONE)}else y===zr.READY_TO_DRAG?(k(null),s(!1),E(zr.PICK_COLUMN)):y===zr.DRAGGING&&z(t.clientX)},ref:h,children:[Object(o.jsx)(Ar,{displayColumns:n.fixed,isFixTable:!0,rowNoColumnWidth:O,data:e,onColumnFixChange:G,onColumnSort:U,dragColumn:y===zr.DRAGGING?null===T||void 0===T?void 0:T.column:void 0,ref:j}),Object(o.jsx)(Ar,{displayColumns:n.data,isFixTable:!1,rowNoColumnWidth:O,data:e,onColumnFixChange:G,onColumnSort:U,dragColumn:y===zr.DRAGGING?null===T||void 0===T?void 0:T.column:void 0,ref:g}),Object(o.jsx)(Qr,{data:e,columnDefs:n,rowNoColumnWidth:O,dataTableRef:g,ref:m}),Object(o.jsx)(kr,{"data-visible":y===zr.RESIZING||y===zr.DRAGGING}),Object(o.jsx)(Wr,{data:e,column:null===T||void 0===T?void 0:T.column}),Object(o.jsx)(Xr,{wrapperRef:h,dataTableRef:g,visible:y===zr.DRAGGING})]})},no=function(t){var n=t.columns,e=t.factorMap;return n.map((function(t,n){var r=t.factorId;if(!r)return null;var o=e.get(r)||{},a=o.topic,i=o.factor;if(!a||!i)return null;var c=t.operator;if(c&&c!==m.a.NONE){var l=t.secondaryFactorId;if(!l)return null;var s=e.get(l)||{},d=s.topic,u=s.factor;return d&&u?{topic:a,factor:i,secondaryTopic:d,secondaryFactor:u,fixed:!1,width:200,index:n,alias:t.alias}:null}return{topic:a,factor:i,fixed:!1,width:200,index:n,alias:t.alias}})).filter((function(t){return t}))},eo=function(t){return t.reduce((function(t,n){return n.factors.forEach((function(e){t.set(e.factorId,{topic:n,factor:e})})),t}),new Map)};function ro(){var t=Object(r.a)(["\n\tdisplay: none;\n\talign-items: center;\n\tjustify-content: center;\n\tposition: absolute;\n\ttop: 40px;\n\tleft: 0;\n\theight: calc(100% - 40px);\n\twidth: 100%;\n\tfont-size: 1.4em;\n\tz-index: 1;\n\t&[data-visible=true] {\n\t\tdisplay: flex;\n\t}\n\t&:before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: var(--invert-color);\n\t\topacity: 0.3;\n\t}\n\t> svg {\n\t\tfont-size: 5em;\n\t\topacity: 0.3;\n\t}\n"]);return ro=function(){return t},t}function oo(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tposition: absolute;\n\ttop: 40px;\n\tleft: 0;\n\theight: calc(100% - 40px);\n\twidth: 100%;\n\tfont-family: var(--console-title-font-family);\n\tfont-size: 1.4em;\n\t> span > span {\n\t\ttext-decoration: underline;\n\t\tcursor: pointer;\n\t}\n"]);return oo=function(){return t},t}function ao(){var t=Object(r.a)(["\n\talign-self: flex-end;\n\tdisplay: flex;\n\tposition: absolute;\n\tflex-direction: column;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: var(--bg-color);\n\ttransition: top 300ms ease-in-out, height 300ms ease-in-out, opacity 300ms ease-in-out;\n\toverflow: hidden;\n\t&[data-visible=false] {\n\t\topacity: 0;\n\t\ttop: 100%;\n\t\theight: 0;\n\t\tpointer-events: none;\n\t}\n"]);return ao=function(){return t},t}var io=l.c.div.attrs({"data-widget":"console-subject-view-dataset"})(ao()),co=l.c.div(oo()),lo=l.c.div(ro()),so=function(t){var n=t.space,e=t.subject,r=t.visible,i=t.onVisibleChanged,c=t.switchToDefinition,l=e.dataset,s=(void 0===l?{}:l).columns,d=void 0===s?[]:s,v=Object(a.useState)(!1),h=Object(rt.a)(v,2),j=h[0],m=h[1],x=Object(a.useState)({itemCount:0,pageNumber:1,pageSize:1,pageCount:1,data:[]}),O=Object(rt.a)(x,2),w=O[0],C=O[1],y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(f.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(!0),n.next=4,Object(g.k)({subjectId:e.subjectId,pageNumber:t,pageSize:100});case 4:r=n.sent,C(r),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),console.groupCollapsed("%cError on fetch subject data.","color:rgb(251,71,71)"),console.error(n.t0),console.groupEnd();case 13:return n.prev=13,m(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,8,13,16]])})))()},E=Object(a.useState)((function(){var t;return{fixed:[],data:no({columns:(null===(t=e.dataset)||void 0===t?void 0:t.columns)||[],factorMap:eo(n.topics)})}})),I=Object(rt.a)(E,2),S=I[0],T=I[1];Object(a.useEffect)((function(){var t;r&&(T({fixed:[],data:no({columns:(null===(t=e.dataset)||void 0===t?void 0:t.columns)||[],factorMap:eo(n.topics)})}),y())}),[r]);var k=0!==d.length;return Object(o.jsx)(nr,{children:Object(o.jsxs)(io,{"data-visible":r,children:[Object(o.jsx)(ar,{subject:e,data:w,columnDefs:S,onHide:function(){return i(!1)},fetchData:y}),k?Object(o.jsx)(to,{space:n,subject:e,columnDefs:S,data:w}):Object(o.jsx)(co,{children:Object(o.jsxs)("span",{children:["No column defined yet, switch to ",Object(o.jsx)("span",{onClick:function(){return c()},children:"definition"}),"?"]})}),Object(o.jsx)(lo,{"data-visible":j,children:Object(o.jsx)(p.a,{icon:b.zb,spin:!0})})]})})},uo=e(79);function fo(){var t=Object(r.a)(["\n\tbackground-color: var(--console-subject-topic-bg-color);\n\tflex-grow: 1;\n\tflex-basis: 0;\n\t//max-width: calc(50% - 15px);\n\t> div,\n\t> div[data-widget=dropdown]:focus {\n\t\tfont-size: 0.8em;\n\t\tborder-radius: 0;\n\t\tmargin-left: -1px;\n\t\twidth: calc(100% + 1px);\n\t}\n"]);return fo=function(){return t},t}var bo=l.c.div(fo()),po=function(t){var n=t.column,e=t.onFactorChanged,r=Object(rt.a)(t.propNames,2),a=r[0],i=r[1],c=n[a],l=n[i],s=Object(We.b)().defs.factors,d=function(){var t=Object(f.a)(u.a.mark((function t(r){var o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=r.value,n[i]=o,e();case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(bo,{children:Object(o.jsx)(uo.a,{options:s[c||""]||[],value:l,onChange:d})})};function vo(){var t=Object(r.a)(["\n\tbackground-color: var(--console-subject-topic-bg-color);\n\tflex-grow: 1;\n\tflex-basis: 0;\n\toverflow: hidden;\n\t//max-width: calc(50% - 16px);\n\t&:first-child {\n\t\tborder-top-left-radius: var(--border-radius);\n\t\tborder-bottom-left-radius: var(--border-radius);\n\t}\n\t&:not(:first-child) > div[data-widget=dropdown] {\n\t\tborder-top-left-radius: 0;\n\t\tborder-bottom-left-radius: 0;\n\t\tmargin-left: -1px;\n\t\twidth: calc(100% + 1px);\n\t}\n\t> div,\n\t> div[data-widget=dropdown]:focus {\n\t\tfont-size: 0.8em;\n\t\tborder-top-right-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\t}\n"]);return vo=function(){return t},t}var ho=l.c.div(vo()),jo=function(t){var n=t.column,e=t.onTopicChanged,r=Object(rt.a)(t.propNames,2),a=r[0],i=r[1],c=Object(We.b)().defs.topics,l=function(){var t=Object(f.a)(u.a.mark((function t(r){var o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=r.value,c=n[a],n[a]=o,c!=n[a]&&(delete n[i],e());case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(ho,{children:Object(o.jsx)(uo.a,{options:c,please:"Topic?",value:n[a],onChange:l})})};function go(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tpadding: 0 calc(var(--margin) / 2);\n\tmargin-top: calc(var(--margin) / 4);\n\t&:last-child {\n\t\tmargin-bottom: calc(var(--margin) / 4);\n\t}\n\t&[data-show-factor=false] {\n\t\t> div:nth-child(2),\n\t\t> div:nth-child(2) > div[data-widget=dropdown] {\n\t\t\tflex-grow: 0;\n\t\t\twidth: 0;\n\t\t\tborder: 0;\n\t\t\tpadding: 0;\n\t\t}\n\t}\n\t&[data-show-factor=true] {\n\t\t> div:nth-child(2) {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\t&[data-show-secondary-topic=false] {\n\t\t> div:nth-child(4),\n\t\t> div:nth-child(4) > div[data-widget=dropdown],\n\t\t> div:nth-child(5),\n\t\t> div:nth-child(5) > div[data-widget=dropdown] {\n\t\t\tflex-grow: 0;\n\t\t\twidth: 0;\n\t\t\tborder: 0;\n\t\t\tpadding: 0;\n\t\t}\n\t}\n\t&[data-show-secondary-topic=true] {\n\t\t> div:nth-child(4) {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\t&[data-show-secondary-factor=false] {\n\t\t> div:nth-child(5),\n\t\t> div:nth-child(5) > div[data-widget=dropdown] {\n\t\t\tflex-grow: 0;\n\t\t\twidth: 0;\n\t\t\tborder: 0;\n\t\t\tpadding: 0;\n\t\t}\n\t}\n\t&[data-show-secondary-factor=true] {\n\t\t> div:nth-child(5) {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\t> div[data-widget=dropdown] {\n\t\tfont-size: 0.8em;\n\t\tflex-grow: 0;\n\t\tborder-radius: 0;\n\t\tborder-left-color: transparent;\n\t\tmargin-left: -1px;\n\t\tmax-width: 100px;\n\t}\n\t> input {\n\t\tborder-radius: 0;\n\t\tborder-left-color: transparent;\n\t\tmargin-left: -1px;\n\t\tfont-size: 0.8em;\n\t}\n\t> button {\n\t\tmin-width: 32px;\n\t\tborder: var(--border);\n\t\tborder-left-color: transparent;\n\t\tborder-top-right-radius: var(--border-radius);\n\t\tborder-bottom-right-radius: var(--border-radius);\n\t\tmargin-left: -1px;\n\t\t&:hover:before {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n"]);return go=function(){return t},t}var mo=l.c.div.attrs({"data-widget":"console-subject-view-column-row"})(go()),xo=[{value:m.a.NONE,label:"As is"},{value:m.a.ADD,label:"Add"},{value:m.a.SUBTRACT,label:"Subtract"},{value:m.a.MULTIPLY,label:"Multiply"},{value:m.a.DIVIDE,label:"Divide"},{value:m.a.MODULUS,label:"Modulus"}],Oo=function(t){var n=t.column,e=t.removeColumn,r=Object(M.f)(),a=function(){var t=Object(f.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.operator=e.value,r();case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),i=!!n.topicId,c=!!n.operator&&n.operator!==m.a.NONE,l=c&&!!n.secondaryTopicId;return Object(o.jsxs)(mo,{"data-show-factor":i,"data-show-secondary-topic":c,"data-show-secondary-factor":l,children:[Object(o.jsx)(jo,{column:n,propNames:["topicId","factorId"],onTopicChanged:r}),Object(o.jsx)(po,{column:n,propNames:["topicId","factorId"],onFactorChanged:r}),Object(o.jsx)(uo.a,{value:n.operator||m.a.NONE,options:xo,onChange:a}),Object(o.jsx)(jo,{column:n,propNames:["secondaryTopicId","secondaryFactorId"],onTopicChanged:r}),Object(o.jsx)(po,{column:n,propNames:["secondaryTopicId","secondaryFactorId"],onFactorChanged:r}),Object(o.jsx)(gn.a,{placeholder:"Alias",value:n.alias||"",onChange:function(t){n.alias=t.target.value,r()}}),Object(o.jsx)(vn.a,{onClick:function(){return e(n)},ignoreHorizontalPadding:!0,tooltip:"Remove Column",center:!0,children:Object(o.jsx)(p.a,{icon:b.Gb})})]})},wo=function(t){var n=t.subject,e=t.collapsed,r=t.onCollapsedChanged,i=n.dataset,c=(void 0===i?{}:i).columns,l=void 0===c?[]:c,s=Object(We.b)().defs.space,d=Object(M.f)(),u=function(t){var n=l.indexOf(t);l.splice(n,1),d()};return Object(o.jsxs)(a.Fragment,{children:[Object(o.jsxs)(Ke,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Columns"}),Object(o.jsx)("span",{children:l.length})]}),Object(o.jsx)(vn.a,{onClick:function(){l.push({}),r(!1),d()},ignoreHorizontalPadding:!0,tooltip:"Add Column",center:!0,children:Object(o.jsx)(p.a,{icon:b.jb})}),Object(o.jsx)(vn.a,{onClick:function(){l.sort((function(t,n){if(t.topicId){if(n.topicId){if(t.topicId==n.topicId){if(!t.factorId)return n.factorId?1:0;if(!n.factorId)return-1;if(t.factorId==n.factorId)return 0;var e=s.topics.find((function(n){return n.topicId==t.topicId})),r=e.factors.find((function(n){return n.factorId==t.factorId})),o=e.factors.find((function(t){return t.factorId==n.factorId}));return r.label.toUpperCase().localeCompare(o.label.toUpperCase())}var a=s.topics.find((function(n){return n.topicId==t.topicId})),i=s.topics.find((function(t){return t.topicId==n.topicId}));return a.name.toUpperCase().localeCompare(i.name.toUpperCase())}return-1}return n.topicId?1:0})),d()},ignoreHorizontalPadding:!0,tooltip:"Sort",center:!0,children:Object(o.jsx)(p.a,{icon:b.vb})}),Object(o.jsx)(vn.a,{onClick:function(){return r(!e)},ignoreHorizontalPadding:!0,tooltip:"".concat(e?"Expand":"Collapse"," Columns Definition"),center:!0,children:Object(o.jsx)(p.a,{icon:e?b.I:b.y})})]}),Object(o.jsx)(Ze,{"data-visible":!e,children:Object(o.jsx)($e,{children:l.map((function(t,n){var e=t.topicId,r=t.factorId;return Object(o.jsx)(Oo,{column:t,removeColumn:u},"".concat(e,"-").concat(r,"-").concat(n))}))})})]})};function Co(){var t=Object(r.a)(["\n\tbackground-color: var(--console-subject-topic-bg-color);\n\tmin-width: 0;\n\tflex-grow: 0;\n\tflex-basis: 0;\n\toverflow-x: hidden;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=true] {\n\t\tmin-width: 150px;\n\t}\n\t&[data-grow=true] {\n\t\tflex-grow: 1;\n\t}\n\t> div,\n\t> div[data-widget=dropdown]:focus {\n\t\tfont-size: 0.8em;\n\t\tborder-radius: 0;\n\t\tmargin-left: -1px;\n\t\twidth: calc(100% + 1px);\n\t}\n"]);return Co=function(){return t},t}var yo=l.c.div(Co()),Eo=function(t){var n=t.filter,e=t.onFactorChanged,r=t.visible,a=t.grow,i=Object(We.b)().defs.factors,c=n.topicId,l=n.factorId,s=i["".concat(c)]||[],d=function(){var t=Object(f.a)(u.a.mark((function t(r){var o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.factorId=r.value,(o=r.factor.type)===m.g.BOOLEAN?(n.operator=m.i.EQUALS,n.value="true"):o===m.g.DATETIME||o===m.g.ENUM?(n.operator=m.i.EQUALS,delete n.value):(delete n.operator,delete n.value),e();case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(yo,{"data-visible":r,"data-grow":a,children:Object(o.jsx)(uo.a,{options:s,value:l,onChange:d})})},Io=function(t){return!!t.jointType},So=[m.i.YEAR_OF,m.i.HALF_YEAR_OF,m.i.QUARTER_OF,m.i.MONTH_OF,m.i.WEEK_OF_YEAR,m.i.WEEK_OF_MONTH,m.i.WEEKDAYS,m.i.TILL_NOW],To=function(t){return!!t&&!So.includes(t)};function ko(){var t=Object(r.a)(["\n\tflex-grow: 0;\n\tflex-basis: 0;\n\tdisplay: flex;\n\toverflow-x: hidden;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=true] {\n\t\tmin-width: 150px;\n\t}\n\t&[data-grow=true] {\n\t\tflex-grow: 1;\n\t}\n\t> div,\n\t> div[data-widget=dropdown]:focus {\n\t\tfont-size: 0.8em;\n\t\tborder-radius: 0;\n\t\tmargin-left: -1px;\n\t\twidth: calc(100% + 1px);\n\t}\n"]);return ko=function(){return t},t}var No=[{value:m.i.EQUALS,label:"Is"},{value:m.i.NOT_EQUALS,label:"Is not"},{value:m.i.LESS,label:"Less than"},{value:m.i.LESS_EQUALS,label:"Less than or equal to"},{value:m.i.MORE,label:"Greater than"},{value:m.i.MORE_EQUALS,label:"Greater than or equal to"},{value:m.i.IN,label:"In set"},{value:m.i.NOT_IN,label:"Not in set"},{value:m.i.TILL_NOW,label:"Till now"},{value:m.i.YEAR_OF,label:"Year of"},{value:m.i.HALF_YEAR_OF,label:"Half year of"},{value:m.i.QUARTER_OF,label:"Quarter of"},{value:m.i.MONTH_OF,label:"Month of"},{value:m.i.WEEK_OF_YEAR,label:"Week of year"},{value:m.i.WEEK_OF_MONTH,label:"Week of month"},{value:m.i.WEEKDAYS,label:"Weekday"}],Ro=l.c.div(ko()),Lo=function(t){var n=t.filter,e=t.onOperatorChanged,r=t.visible,a=t.grow,i=n.topicId,c=n.factorId,l=(((Object(We.b)().defs.factors["".concat(i)]||[]).find((function(t){return t.value==c}))||{}).factor||{}).type,s=No;s=l===m.g.BOOLEAN?s.filter((function(t){return[m.i.EQUALS].includes(t.value)})):l===m.g.DATETIME?s.filter((function(t){return![m.i.IN,m.i.NOT_IN].includes(t.value)})).map((function(t){var n=t.value,e=t.label;switch(n){case m.i.LESS:e="Earlier than";break;case m.i.LESS_EQUALS:e="Earlier than or is";break;case m.i.MORE:e="Later than";break;case m.i.MORE_EQUALS:e="Later than or is"}return{value:n,label:e}})):l===m.g.ENUM?s.filter((function(t){return[m.i.EQUALS,m.i.NOT_EQUALS].includes(t.value)})):s.filter((function(t){return!So.includes(t.value)}));var d=function(){var t=Object(f.a)(u.a.mark((function t(r){var o,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=r.value,a=n.operator,n.operator=o,l!==m.g.DATETIME||!a||a===n.operator||To(a)&&To(n.operator)||delete n.value,e();case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(Ro,{"data-visible":r,"data-grow":a,children:Object(o.jsx)(uo.a,{options:s,value:n.operator,onChange:d})})};function Ao(){var t=Object(r.a)(["\n\tbackground-color: var(--console-subject-topic-bg-color);\n\tmin-width: 150px;\n\tflex-grow: 0;\n\tflex-basis: 0;\n\tborder-top-left-radius: var(--border-radius);\n\tborder-bottom-left-radius: var(--border-radius);\n\ttransition: all 300ms ease-in-out;\n\t&[data-grow=true] {\n\t\tflex-grow: 1;\n\t}\n\t> div,\n\t> div[data-widget=dropdown]:focus {\n\t\tfont-size: 0.8em;\n\t\tborder-top-right-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\t}\n"]);return Ao=function(){return t},t}var Do=l.c.div(Ao()),_o=function(t){var n=t.filter,e=t.onTopicChanged,r=t.grow,a=Object(We.b)().defs.topics,i=function(){var t=Object(f.a)(u.a.mark((function t(r){var o,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=r.value,a=n.topicId,n.topicId=o,a!=n.topicId&&(delete n.factorId,delete n.operator,delete n.value,e());case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(Do,{"data-grow":r,children:Object(o.jsx)(uo.a,{options:a,value:n.topicId,onChange:i,please:"Topic?"})})};function Mo(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: absolute;\n\tbottom: -1px;\n\tright: -1px;\n\t> div {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 0 calc(var(--margin) / 3);\n\t\tmin-width: 80px;\n\t\theight: 32px;\n\t\tbackground-color: var(--primary-color);\n\t\tcolor: var(--invert-color);\n\t\tbox-shadow: 0 0 11px 0 rgba(0, 0, 0, 0.1);\n\t\tcursor: pointer;\n\t\tz-index: 1;\n\t}\n\t> div:first-child {\n\t\tborder-top-left-radius: var(--border-radius);\n\t}\n\t> div:last-child {\n\t\tborder-bottom-right-radius: var(--border-radius);\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 25%;\n\t\t\tleft: 0;\n\t\t\twidth: 1px;\n\t\t\theight: 50%;\n\t\t\tbackground-color: var(--invert-color);\n\t\t}\n\t}\n"]);return Mo=function(){return t},t}function Po(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: auto 1fr;\n\t> div:first-child {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgrid-row: span 2;\n\t\tborder-right: var(--border);\n\t\t> span {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\theight: 32px;\n\t\t\tpadding: 0 calc(var(--margin) / 2);\n\t\t\tcursor: pointer;\n\t\t\tuser-select: none;\n\t\t\ttransition: all 300ms ease-in-out;\n\t\t\t&:hover {\n\t\t\t\tbackground-color: var(--hover-color);\n\t\t\t}\n\t\t}\n\t}\n\t> div:nth-last-child(2) {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\theight: 32px;\n\t\tpadding: 0 calc(var(--margin) / 2);\n\t\t> span {\n\t\t\tfont-weight: var(--font-bold);\n\t\t}\n\t\t> div {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\t> span {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tfont-weight: var(--font-bold);\n\t\t\t\tborder-radius: var(--border-radius);\n\t\t\t\tuser-select: none;\n\t\t\t\ttransition: all 300ms ease-in-out;\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground-color: var(--hover-color);\n\t\t\t\t}\n\t\t\t\t&:first-child {\n\t\t\t\t\ttransform: scale(0.8);\n\t\t\t\t\ttransform-origin: right;\n\t\t\t\t\tpadding: 2px 6px;\n\t\t\t\t}\n\t\t\t\t&:not(:first-child) {\n\t\t\t\t\theight: 20px;\n\t\t\t\t\twidth: 24px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t> div:last-child {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(7, 32px);\n\t\tgrid-template-rows: repeat(7, 32px);\n\t\t> span {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tposition: relative;\n\t\t\ttext-align: center;\n\t\t\t&:nth-child(-n + 7) {\n\t\t\t\tcolor: var(--primary-color);\n\t\t\t\tfont-weight: var(--font-bold);\n\t\t\t\topacity: 0.7;\n\t\t\t}\n\t\t\t&:first-child,\n\t\t\t&:nth-child(7) {\n\t\t\t\tcolor: var(--danger-color);\n\t\t\t}\n\t\t\t&:not(:nth-child(-n + 7)) {\n\t\t\t\t&:before {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 4px;\n\t\t\t\t\tleft: 4px;\n\t\t\t\t\theight: 24px;\n\t\t\t\t\twidth: 24px;\n\t\t\t\t\tborder-radius: 100%;\n\t\t\t\t\tbackground-color: var(--hover-color);\n\t\t\t\t\topacity: 0;\n\t\t\t\t\tz-index: -1;\n\t\t\t\t\ttransition: all 300ms ease-in-out;\n\t\t\t\t}\n\t\t\t\t&:hover:before {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t&[data-current-month=false] {\n\t\t\t\tcolor: var(--hover-color);\n\t\t\t\t&:hover {\n\t\t\t\t\tcolor: var(--primary-color);\n\t\t\t\t}\n\t\t\t}\n\t\t\t&[data-today=true] {\n\t\t\t\tfont-weight: var(--font-bold);\n\t\t\t\tcolor: var(--primary-color);\n\t\t\t}\n\t\t\t&[data-current=true] {\n\t\t\t\tcolor: var(--invert-color);\n\t\t\t\t&:before {\n\t\t\t\t\tbackground-color: var(--invert-color);\n\t\t\t\t\tbox-shadow: 0 0 11px 0 rgba(0, 0, 0, 0.1);\n\t\t\t\t\topacity: 1;\n\t\t\t\t\tz-index: -2;\n\t\t\t\t}\n\t\t\t\t&:after {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 7px;\n\t\t\t\t\tleft: 7px;\n\t\t\t\t\theight: 18px;\n\t\t\t\t\twidth: 18px;\n\t\t\t\t\tborder-radius: 100%;\n\t\t\t\t\tbackground-color: var(--primary-color);\n\t\t\t\t\tz-index: -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return Po=function(){return t},t}function Fo(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tborder-bottom: var(--border);\n\theight: 32px;\n\tpadding: 0 0 0 calc(var(--margin) / 2);\n\t> svg {\n\t\twidth: 32px;\n\t\tmargin-right: calc(var(--margin) / 2);\n\t}\n\t> span:nth-child(2) {\n\t\tmargin-right: calc(var(--margin) / 2);\n\t\tfont-weight: var(--font-bold);\n\t}\n\t> span:nth-child(4) {\n\t\tflex-grow: 1;\n\t}\n\t> span:nth-child(5),\n\t> span:nth-child(6) {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 0 calc(var(--margin) / 3);\n\t\theight: 33px;\n\t\tmin-width: 50px;\n\t\tmargin-top: -1px;\n\t\tbackground-color: var(--primary-color);\n\t\tcolor: var(--invert-color);\n\t\tcursor: pointer;\n\t}\n\t> span:nth-child(6) {\n\t\tmargin-right: -1px;\n\t\tborder-top-right-radius: var(--border-radius);\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 25%;\n\t\t\tleft: 0;\n\t\t\twidth: 1px;\n\t\t\theight: 50%;\n\t\t\tbackground-color: var(--invert-color);\n\t\t}\n\t}\n"]);return Fo=function(){return t},t}function Ho(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: fixed;\n\twidth: 364px;\n\tpointer-events: none;\n\topacity: 0;\n\tbackground-color: var(--bg-color);\n\tborder: var(--border);\n\ttransition: opacity 300ms ease-in-out;\n\tz-index: 999;\n"]);return Ho=function(){return t},t}function zo(){var t=Object(r.a)(["\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\toverflow-x: hidden;\n\tflex-grow: 1;\n"]);return zo=function(){return t},t}var Go=function(t){var n=t.getBoundingClientRect();return{top:n.top,left:n.left,width:n.width,height:n.height}},Uo=function(t,n){switch(n+1){case 4:case 6:case 9:case 11:return 30;case 2:return t%400===0?29:t%100===0?28:t%4===0?29:28;default:return 31}},Yo=l.c.div.attrs((function(){return{"data-widget":"calendar"}}))((function(t){var n=t.top+t.height+290<window.innerHeight;return"\n\t\tposition: relative;\n\t\tpadding: 6px var(--input-indent);\n\t\toutline: none;\n\t\tappearance: none;\n\t\tborder: var(--border);\n\t\tborder-radius: var(--border-radius);\n\t\tfont-size: var(--font-size);\n\t\theight: var(--height);\n\t\tline-height: var(--line-height);\n\t\tcolor: var(--font-color);\n\t\tbackground-color: transparent;\n\t\ttransition: all 300ms ease-in-out;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\t\twidth: 100%;\n\t\t> svg {\n\t\t\topacity: 0;\n\t\t\tmargin-left: var(--letter-gap);\n\t\t\ttransition: all 300ms ease-in-out;\n\t\t}\n\t\t&:hover,\n\t\t&:focus {\n\t\t\t> svg {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t\t&[data-options-visible=true]:focus {\n\t\t\tborder-bottom-left-radius: ".concat(n?0:"var(--border-radius)",";\n\t\t\tborder-bottom-right-radius: ").concat(n?0:"var(--border-radius)",";\n\t\t\tborder-top-left-radius: ").concat(n?"var(--border-radius)":0,";\n\t\t\tborder-top-right-radius: ").concat(n?"var(--border-radius)":0,";\n\t\t\t> div:last-child {\n\t\t\t\topacity: 1;\n\t\t\t\tpointer-events: auto;\n\t\t\t}\n\t\t}\n\t")})),Bo=l.c.span(zo()),Vo=l.c.div.attrs((function(t){var n=t.top,e=t.left,r=t.width,o=t.height,a=n+o+290<window.innerHeight;return{style:{top:a?n+o-1:"unset",bottom:a?"unset":"calc(100vh - ".concat(n+1,"px)"),left:e,borderTopLeftRadius:a?0:"var(--border-radius)",borderTopRightRadius:a&&r>=364?0:"var(--border-radius)",borderBottomLeftRadius:a?"var(--border-radius)":0,borderBottomRightRadius:a||r<364?"var(--border-radius)":0}}}))(Ho()),Wo=l.c.div(Fo()),Xo=l.c.div(Po()),qo=l.c.div(Mo()),Jo=function(t){var n=t.className,e=t.onChange,r=t.value,i=Object(et.a)(t,["className","onChange","value"]),c=Object(a.useRef)(null),l=Object(a.useState)({active:!1,top:0,left:0,width:0,height:0,value:void 0}),s=Object(rt.a)(l,2),d=s[0],v=s[1];Object(a.useEffect)((function(){var t=function(){if(d.active){var t=Go(c.current),n=t.top,e=t.left,r=t.width,o=t.height;v(Object(nt.a)(Object(nt.a)({},d),{},{top:n,left:e,width:r,height:o}))}};return window.addEventListener("scroll",t,!0),function(){window.removeEventListener("scroll",t,!0)}}));var j=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.initValue!==d.value){t.next=4;break}v(Object(nt.a)(Object(nt.a)({},d),{},{active:!1})),t.next=7;break;case 4:return v(Object(nt.a)(Object(nt.a)({},d),{},{active:!1})),t.next=7,e(d.value.format("YYYY/MM/DD HH:mm:ss"));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(t){return function(){return v(Object(nt.a)(Object(nt.a)({},d),{},{value:t.clone()}))}},m=g(h()()),x=g(h()().subtract(1,"day")),O=g(h()().day(6)),w=g(h()().day(6).subtract(1,"week")),C=g(h()().date(1).add(1,"month").subtract(1,"day")),y=g(h()().date(1).subtract(1,"day")),E=g(h()().month(11).date(31)),I=g(h()().month(11).date(31).subtract(1,"year")),S=d.value||h()(),T=S.format("DD/MM/YYYY"),k=S.format("HH:mm:ss"),N=S.year(),R=S.month(),L=S.date(),A=d.displayValue||h()(),D=A.format("MMM YYYY"),_=A.clone().date(1),M=A.year(),P=A.month(),F=function(t){var n=t.day(),e=t.year(),r=t.month(),o=Uo(e,r),a=new Array(o).fill(1).map((function(t,n){return{year:e,month:r,date:n+1}}));if(0!==n)for(var i=0===r?11:r-1,c=0===r?e-1:e,l=Uo(c,i),s=n-1;s>=0;s--)a.unshift({year:c,month:i,date:l--});if(a.length<42)for(var d=11===r?0:r+1,u=11===r?e+1:e,f=1,b=a.length;b<42;b++)a.push({year:u,month:d,date:f++});return a}(_),H=h()(),z=H.year(),G=H.month(),U=H.date(),Y=function(){var t=Object(f.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:(n=t.sent)&&n.active||v(Object(nt.a)(Object(nt.a)({},d),{},{active:!1}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(f.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(d.value.format("YYYY/MM/DD HH:mm:ss"));case 2:(n=t.sent)&&n.active||v(Object(nt.a)(Object(nt.a)({},d),{},{active:!1}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.jsxs)(Yo,Object(nt.a)(Object(nt.a)(Object(nt.a)({className:n,"data-options-visible":d.active},d),i),{},{role:"input",tabIndex:0,ref:c,onClick:function(){if(!d.active){var t=Go(c.current),n=t.top,e=t.left,o=t.width,a=t.height,i=r?h()(r):h()();v({active:!0,top:n,left:e,width:o,height:a,initValue:i,value:i,displayValue:i})}},onBlur:j,children:[Object(o.jsx)(Bo,{children:r}),Object(o.jsx)(p.a,{icon:b.j}),Object(o.jsxs)(Vo,Object(nt.a)(Object(nt.a)({},d),{},{children:[Object(o.jsxs)(Wo,{children:[Object(o.jsx)(p.a,{icon:pn.b}),Object(o.jsx)("span",{children:T}),Object(o.jsx)("span",{children:k}),Object(o.jsx)("span",{}),Object(o.jsx)("span",{onClick:function(){return v(Object(nt.a)(Object(nt.a)({},d),{},{value:d.value.hour(0).minute(0).second(0).millisecond(0)}))},children:"Start"}),Object(o.jsx)("span",{onClick:function(){return v(Object(nt.a)(Object(nt.a)({},d),{},{value:d.value.hour(23).minute(59).second(59).millisecond(999)}))},children:"End"})]}),Object(o.jsxs)(Xo,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{onClick:m,children:"Today"}),Object(o.jsx)("span",{onClick:x,children:"Yesterday"}),Object(o.jsx)("span",{onClick:O,children:"This Weekend"}),Object(o.jsx)("span",{onClick:w,children:"Previous Weekend"}),Object(o.jsx)("span",{onClick:C,children:"This Month"}),Object(o.jsx)("span",{onClick:y,children:"Previous Month"}),Object(o.jsx)("span",{onClick:E,children:"This Year"}),Object(o.jsx)("span",{onClick:I,children:"Previous Year"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:D}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{onClick:function(){return v(Object(nt.a)(Object(nt.a)({},d),{},{displayValue:H}))},children:"TODAY"}),Object(o.jsx)("span",{onClick:function(){return v(Object(nt.a)(Object(nt.a)({},d),{},{displayValue:d.displayValue.subtract(1,"month")}))},children:Object(o.jsx)(p.a,{icon:b.k})}),Object(o.jsx)("span",{onClick:function(){return v(Object(nt.a)(Object(nt.a)({},d),{},{displayValue:d.displayValue.add(1,"month")}))},children:Object(o.jsx)(p.a,{icon:b.l})})]})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"S"}),Object(o.jsx)("span",{children:"M"}),Object(o.jsx)("span",{children:"T"}),Object(o.jsx)("span",{children:"W"}),Object(o.jsx)("span",{children:"T"}),Object(o.jsx)("span",{children:"F"}),Object(o.jsx)("span",{children:"S"}),F.map((function(t){var n=t.year,e=t.month,r=t.date;return Object(o.jsx)("span",{"data-current-month":n===M&&e===P,"data-current":n===N&&e===R&&r===L,"data-today":n===z&&e===G&&r===U,onClick:g(h()().year(n).month(e).date(r)),children:r},"".concat(n,"/").concat(e,"/").concat(r))}))]})]}),Object(o.jsxs)(qo,{children:[Object(o.jsx)("div",{onClick:Y,children:"Clear"}),Object(o.jsx)("div",{onClick:B,children:"Confirm"})]})]}))]}))};function Qo(){var t=Object(r.a)(["\n\twidth: 0;\n\tflex-grow: 0;\n\toverflow-x: hidden;\n\tmargin-left: -1px;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=true] {\n\t\tflex-grow: 1;\n\t}\n\t> input,\n\t> div[data-widget=dropdown],\n\t> div[data-widget=dropdown]:focus,\n\t> div[data-widget=calendar],\n\t> div[data-widget=calendar]:focus {\n\t\tfont-size: 0.8em;\n\t\tborder-radius: 0;\n\t}\n\t> input {\n\t\twidth: 100%;\n\t}\n"]);return Qo=function(){return t},t}function Ko(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t&[data-checked=true] {\n\t\t> svg {\n\t\t\topacity: 1;\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t}\n\t> svg {\n\t\tcolor: var(--console-waive-color);\n\t\topacity: 0.3;\n\t\tmargin-right: calc(var(--margin) / 3);\n\t}\n\t> span {\n\t\tflex-grow: 1;\n\t}\n"]);return Ko=function(){return t},t}var Zo=function(t){var n=t.filter,e=t.factorType,r=Object(M.f)();if(!e||[m.g.BOOLEAN,m.g.ENUM,m.g.DATETIME].includes(e))return null;return Object(o.jsx)(gn.a,{value:n.value||"",onChange:function(t){n.value=t.target.value,r()}})},$o=[{value:"true",label:"True"},{value:"false",label:"False"}],ta=function(t){var n=t.filter,e=t.factorType,r=Object(M.f)();if(e!==m.g.BOOLEAN)return null;var a=function(){var t=Object(f.a)(u.a.mark((function t(e){var o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.value,n.value=o,r();case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(uo.a,{options:$o,value:n.value,onChange:a})},na=l.c.div(Ko()),ea=function(t){var n=t.filter,e=t.factor,r=t.options,a=t.accept,i=n.value,c=Object(M.f)();if(!e||!a(e,n))return null;var l=(i||"").split(",").map((function(t){return t.trim()})).filter((function(t){return t})),s=r||JSON.parse(e.enum),d=s.map((function(t){var n=t.value,e=t.label;return{value:n,label:Object(o.jsxs)(na,{"data-checked":l.includes(n),children:[Object(o.jsx)(p.a,{icon:b.q}),Object(o.jsx)("span",{children:e})]})}})),v=function(){var t=Object(f.a)(u.a.mark((function t(e){var r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.value,o=r,l.includes(o)?(n.value=l.filter((function(t){return t!==o})).join(","),n.value||delete n.value):n.value=[].concat(Object(pe.a)(l),[o]).join(","),c(),t.abrupt("return",{active:!0});case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(uo.a,{options:d,value:i,onChange:v,select:function(t){return(t||"").split(",").map((function(t){return t.trim()})).map((function(t){return s.find((function(n){return n.value===t})).label})).join(", ")}})},ra=function(t){var n=t.filter,e=t.factor,r=n.operator,a=n.value,i=Object(M.f)();if(!e||e.type!==m.g.DATETIME||!To(r))return null;var c=function(){var t=Object(f.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.value=e,i();case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(Jo,{value:a,onChange:c})},oa=function(t){var n=t.filter,e=t.factorType,r=n.operator,a=Object(M.f)();if(!e||e!==m.g.DATETIME||r!==m.i.YEAR_OF)return null;return Object(o.jsx)(gn.a,{value:n.value||"",onChange:function(t){n.value=t.target.value,a()},placeholder:"Full year concatenated by comma"})},aa=[{value:"1",label:"In 3 days"},{value:"2",label:"In 5 days"},{value:"3",label:"In 7 days"},{value:"4",label:"In 10 days"},{value:"5",label:"In 15 days"},{value:"6",label:"In 30 days"},{value:"7",label:"This week"},{value:"8",label:"This month"},{value:"9",label:"This quarter"},{value:"10",label:"This half year"},{value:"11",label:"This year"}],ia=function(t){var n=t.filter,e=t.factorType,r=n.operator,a=Object(M.f)();if(e!==m.g.DATETIME||r!==m.i.TILL_NOW)return null;var i=function(){var t=Object(f.a)(u.a.mark((function t(e){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.value,n.value=r,a();case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(uo.a,{options:aa,value:n.value,onChange:i})},ca=l.c.div(Qo()),la=h()(),sa={HalfYear:{options:[{value:"1",label:"First half"},{value:"2",label:"Second half"}],accept:function(t,n){return t.type===m.g.DATETIME&&n.operator===m.i.HALF_YEAR_OF}},Quarter:{options:[{value:"1",label:"First quarter"},{value:"2",label:"Second quarter"},{value:"3",label:"Third quarter"},{value:"4",label:"Fourth quarter"}],accept:function(t,n){return t.type===m.g.DATETIME&&n.operator===m.i.QUARTER_OF}},Month:{options:new Array(12).fill(1).map((function(t,n){return{value:"".concat(n),label:la.month(n).format("MMMM")}})),accept:function(t,n){return t.type===m.g.DATETIME&&n.operator===m.i.MONTH_OF}},WeekOfYear:{options:new Array(52).fill(1).map((function(t,n){var e=n+1,r=e%10;return{value:"".concat(e),label:"".concat(e,1===r?"st":2===r?"nd":3===r?"rd":"th")}})),accept:function(t,n){return t.type===m.g.DATETIME&&n.operator===m.i.WEEK_OF_YEAR}},WeekOfMonth:{options:new Array(5).fill(1).map((function(t,n){var e=n+1,r=e%10;return{value:"".concat(e),label:"".concat(e,1===r?"st":2===r?"nd":3===r?"rd":"th")}})),accept:function(t,n){return t.type===m.g.DATETIME&&n.operator===m.i.WEEK_OF_MONTH}},Weekdays:{options:[].concat(Object(pe.a)(new Array(7).fill(1).map((function(t,n){return{value:"".concat(n),label:la.day(n).format("dddd")}}))),[{value:"7",label:"Workdays"},{value:"8",label:"Weekend"}]),accept:function(t,n){return t.type===m.g.DATETIME&&n.operator===m.i.WEEKDAYS}}},da=function(t){var n=t.filter,e=t.visible,r=n.topicId,a=n.factorId,i=((Object(We.b)().defs.factors["".concat(r)]||[]).find((function(t){return t.value==a}))||{}).factor,c=(i||{}).type;return Object(o.jsxs)(ca,{"data-visible":e,children:[Object(o.jsx)(Zo,{filter:n,factorType:c}),Object(o.jsx)(ta,{filter:n,factorType:c}),Object(o.jsx)(ea,{filter:n,factor:i,accept:function(t){return t.type===m.g.ENUM}}),Object(o.jsx)(ra,{filter:n,factor:i}),Object(o.jsx)(oa,{filter:n,factorType:c}),Object(o.jsx)(ea,Object(nt.a)({filter:n,factor:i},sa.HalfYear)),Object(o.jsx)(ea,Object(nt.a)({filter:n,factor:i},sa.Quarter)),Object(o.jsx)(ea,Object(nt.a)({filter:n,factor:i},sa.Month)),Object(o.jsx)(ea,Object(nt.a)({filter:n,factor:i},sa.WeekOfYear)),Object(o.jsx)(ea,Object(nt.a)({filter:n,factor:i},sa.WeekOfMonth)),Object(o.jsx)(ea,Object(nt.a)({filter:n,factor:i},sa.Weekdays)),Object(o.jsx)(ia,{filter:n,factorType:c})]})};function ua(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\tpadding: 0 calc(var(--margin) / 2);\n\tmargin-top: calc(var(--margin) / 4);\n\t> button {\n\t\twidth: 32px;\n\t\tmin-width: 32px;\n\t\tborder: var(--border);\n\t\tborder-left-color: transparent;\n\t\tborder-top-right-radius: var(--border-radius);\n\t\tborder-bottom-right-radius: var(--border-radius);\n\t\tmargin-left: -1px;\n\t\t&:hover:before {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n"]);return ua=function(){return t},t}var fa=l.c.div(ua()),ba=function(t){var n=t.filter,e=t.removeFilter,r=Object(M.f)(),a=!!n.topicId,i=!!n.factorId,c=!!n.operator;return Object(o.jsxs)(fa,{children:[Object(o.jsx)(_o,{filter:n,onTopicChanged:r,grow:!a}),Object(o.jsx)(Eo,{filter:n,onFactorChanged:r,visible:a,grow:a&&!i}),Object(o.jsx)(Lo,{filter:n,onOperatorChanged:r,visible:i,grow:i&&!c}),Object(o.jsx)(da,{filter:n,visible:c}),Object(o.jsx)(vn.a,{onClick:function(){return e(n)},ignoreHorizontalPadding:!0,tooltip:"Remove Filter",center:!0,children:Object(o.jsx)(p.a,{icon:b.Gb})})]})};function pa(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return pa=function(){return t},t}function va(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 0.8em;\n\twidth: 24px;\n\tmargin-left: calc(var(--margin) / 2);\n\tmargin-top: calc(var(--margin) / 4);\n\t&[data-filters-count='1'] {\n\t\t&:before {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\t&:before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tleft: calc(50% - 1px);\n\t\ttop: 16px;\n\t\twidth: 16px;\n\t\theight: calc(100% - 32px);\n\t\tborder: var(--border);\n\t\tborder-width: 2px;\n\t\tborder-right: 0;\n\t\tborder-top-left-radius: 4px;\n\t\tborder-bottom-left-radius: 4px;\n\t\tz-index: 0;\n\t}\n\t> span {\n\t\tdisplay: block;\n\t\tfont-family: var(--console-title-font-family);\n\t\theight: 1.6em;\n\t\twidth: 24px;\n\t\tmin-width: 24px;\n\t\ttext-align: center;\n\t\tz-index: 1;\n\t\tbackground-color: var(--border-color);\n\t\tborder: 1px solid var(--border-color);\n\t\tborder-radius: 0.8em;\n\t\tcursor: pointer;\n\t\tuser-select: none;\n\t\t> span {\n\t\t\tdisplay: inline-block;\n\t\t\ttransform: scale(0.8, 0.8);\n\t\t}\n\t}\n"]);return va=function(){return t},t}function ha(){var t=Object(r.a)(["\n\tdisplay: flex;\n\t&[data-level='0']:last-child {\n\t\tmargin-bottom: calc(var(--margin) / 4);\n\t}\n"]);return ha=function(){return t},t}var ja=l.c.div.attrs((function(){return{"data-widget":"console-subject-filter-joint"}}))(ha()),ga=l.c.div.attrs({"data-widget":"console-subject-filter-joint"})(va()),ma=l.c.div.attrs({"data-widget":"console-subject-filter-joint-filters"})(pa()),xa=function(t){var n=t.filter,e=t.removeFilter,r=t.childrenFiltersChanged,a=t.level;return Io(n)?Object(o.jsx)(Oa,{joint:n,level:a,removeFilter:e,childrenFiltersChanged:r}):function(t){return!t.jointType}(n)?Object(o.jsx)(ba,{filter:n,level:a,removeFilter:e}):null},Oa=function(t){var n=t.joint,e=t.removeFilter,r=t.childrenFiltersChanged,a=t.level,i=n.filters,c=void 0===i?[]:i,l=Object(M.f)();if(0===c.length)return null;var s=function(t){var o=c.indexOf(t);c.splice(o,1),0===c.length?e(n):r()};return Object(o.jsxs)(ja,{"data-level":a,children:[Object(o.jsx)(ga,{"data-filters-count":c.length,children:Object(o.jsx)("span",{onClick:function(){n.jointType=n.jointType===m.j.AND?m.j.OR:m.j.AND,l()},children:Object(o.jsx)("span",{children:n.jointType===m.j.AND?"AND":"OR"})})}),Object(o.jsx)(ma,{children:c.map((function(t,n){return Object(o.jsx)(xa,{filter:t,removeFilter:s,childrenFiltersChanged:r,level:a+1},n)}))})]})},wa=function(t){var n=t.subject,e=t.collapsed,r=t.onCollapsedChanged,i=n.dataset,c=(void 0===i?{}:i).filters,l=void 0===c?[{jointType:m.j.AND,filters:[]}]:c,s=Object(M.f)(),d=function t(n){return n.reduce((function(n,e){return Io(e)?n+=t(e.filters):n+=1,n}),0)}(l);return Object(o.jsxs)(a.Fragment,{children:[Object(o.jsxs)(Ke,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Filters"}),Object(o.jsx)("span",{children:d})]}),Object(o.jsx)(vn.a,{onClick:function(){l[0].filters.push({}),r(!1),s()},ignoreHorizontalPadding:!0,tooltip:"Add Filter",center:!0,children:Object(o.jsx)(p.a,{icon:b.jb})}),Object(o.jsx)(vn.a,{onClick:function(){return r(!e)},ignoreHorizontalPadding:!0,tooltip:"".concat(e?"Expand":"Collapse"," Filters Definition"),center:!0,children:Object(o.jsx)(p.a,{icon:e?b.I:b.y})})]}),Object(o.jsx)(Ze,{"data-visible":!e,children:Object(o.jsx)($e,{children:Object(o.jsx)(Oa,{joint:l[0],removeFilter:function(){return s()},childrenFiltersChanged:s,level:0})})})]})},Ca=e(758);function ya(){var t=Object(r.a)(["\n\tdisplay    : flex;\n\tposition   : relative;\n\tpadding    : 0 calc(var(--margin) / 2);\n\tmargin-top : calc(var(--margin) / 4);\n\t&:last-child {\n\t\tmargin-bottom : calc(var(--margin) / 4);\n\t}\n\t> div[data-widget=dropdown] {\n\t\tfont-size     : 0.8em;\n\t\tmax-width     : 130px;\n\t\tborder-radius : 0;\n\t\tmargin-left   : -1px;\n\t\t> span:first-child,\n\t\t> div:last-child > span {\n\t\t\t> span {\n\t\t\t\toverflow-x    : hidden;\n\t\t\t\twhite-space   : nowrap;\n\t\t\t\ttext-overflow : ellipsis;\n\t\t\t\t> span:last-child {\n\t\t\t\t\tflex-grow : 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t> svg {\n\t\t\t\tmin-width : 32px;\n\t\t\t}\n\t\t}\n\t}\n\t> button {\n\t\tmin-width                  : 32px;\n\t\tborder                     : var(--border);\n\t\tborder-left-color          : transparent;\n\t\tborder-top-right-radius    : var(--border-radius);\n\t\tborder-bottom-right-radius : var(--border-radius);\n\t\tmargin-left                : -1px;\n\t\t&:hover:before {\n\t\t\tborder-top-left-radius    : 0;\n\t\t\tborder-bottom-left-radius : 0;\n\t\t}\n\t}\n"]);return ya=function(){return t},t}var Ea=l.c.div.attrs({"data-widget":"console-subject-view-join-row"})(ya()),Ia=[{value:m.k.INNER,label:"Complete Match"},{value:m.k.RIGHT,label:"Right First"},{value:m.k.LEFT,label:"Left First"}],Sa=function(t){var n=t.join,e=t.removeJoin,r=Object(M.f)(),a=function(){var t=Object(f.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.type=e.value,r();case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return n.type||(n.type=m.k.INNER),Object(o.jsxs)(Ea,{children:[Object(o.jsx)(jo,{column:n,propNames:["topicId","factorId"],onTopicChanged:r}),Object(o.jsx)(po,{column:n,propNames:["topicId","factorId"],onFactorChanged:r}),Object(o.jsx)(uo.a,{value:n.type||m.k.INNER,options:Ia,onChange:a}),Object(o.jsx)(jo,{column:n,propNames:["secondaryTopicId","secondaryFactorId"],onTopicChanged:r}),Object(o.jsx)(po,{column:n,propNames:["secondaryTopicId","secondaryFactorId"],onFactorChanged:r}),Object(o.jsx)(vn.a,{onClick:function(){return e(n)},ignoreHorizontalPadding:!0,tooltip:"Remove Join",center:!0,children:Object(o.jsx)(p.a,{icon:b.Gb})})]})},Ta=function(t,n){var e,r=t.topicId,o=t.factorId,a=t.type,i=t.secondaryTopicId,c=t.secondaryFactorId,l="?",s="?",d="?",u="?";if(r){var f=n[r]||[];if(f.length>0)l=f[0].topic.name;else if(o){var b=(f.find((function(t){return t.factor.factorId==o}))||{}).factor;b&&(s=b.label||b.name)}}if(e=a||m.k.INNER,i){var p=n[i]||[];if(p.length>0)d=p[0].topic.name;else if(o){var v=(p.find((function(t){return t.factor.factorId==c}))||{}).factor;v&&(u=v.label||v.name)}}return"".concat(l,".").concat(s).concat(e).concat(d,".").concat(u)},ka=function(t){var n=t.subject,e=t.collapsed,r=t.onCollapsedChanged,i=n.dataset,c=(void 0===i?{}:i).joins,l=void 0===c?[]:c,s=Object(We.b)().defs.factors,d=Object(M.f)(),u=function(t){var n=l.indexOf(t);l.splice(n,1),d()};return Object(o.jsxs)(a.Fragment,{children:[Object(o.jsxs)(Ke,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Joins"}),Object(o.jsx)("span",{children:l.length})]}),Object(o.jsx)(vn.a,{onClick:function(){var t={type:m.k.INNER};l.push(t),r(!1),d()},ignoreHorizontalPadding:!0,tooltip:"Add Join",center:!0,children:Object(o.jsx)(p.a,{icon:b.jb})}),Object(o.jsx)(vn.a,{onClick:function(){l.sort((function(t,n){return Ta(t,s).toLowerCase().localeCompare(Ta(n,s).toLowerCase())}))},ignoreHorizontalPadding:!0,tooltip:"Sort",center:!0,children:Object(o.jsx)(p.a,{icon:b.vb})}),Object(o.jsx)(vn.a,{onClick:function(){return r(!e)},ignoreHorizontalPadding:!0,tooltip:"".concat(e?"Expand":"Collapse"," Joins Definition"),center:!0,children:Object(o.jsx)(p.a,{icon:e?b.I:b.y})})]}),Object(o.jsx)(Ze,{"data-visible":!e,children:Object(o.jsx)($e,{children:l.map((function(t){return Object(o.jsx)(Sa,{join:t,removeJoin:u},Object(Ca.a)())}))})})]})};function Na(){var t=Object(r.a)(["\n\tdisplay          : flex;\n\tposition         : relative;\n\tflex-direction   : column;\n\twidth            : 60%;\n\tmin-width        : 500px;\n\theight           : 100%;\n\tborder-right     : var(--border);\n\tbox-shadow       : var(--console-hover-shadow);\n\tbackground-color : var(--bg-color);\n\ttransition       : all 300ms ease-in-out;\n\toverflow         : hidden;\n\t&[data-visible=false] {\n\t\topacity        : 0;\n\t\twidth          : 0;\n\t\tborder-right   : 0;\n\t\tmin-width      : 0;\n\t\tpointer-events : none;\n\t}\n\tdiv[data-widget=dropdown] > div:last-child {\n\t\t&::-webkit-scrollbar {\n\t\t\tbackground-color : transparent;\n\t\t\twidth            : 4px;\n\t\t}\n\t\t&::-webkit-scrollbar-track {\n\t\t\tbackground-color : transparent;\n\t\t\tborder-radius    : 2px;\n\t\t}\n\t\t&::-webkit-scrollbar-thumb {\n\t\t\tbackground-color : var(--console-favorite-color);\n\t\t\tborder-radius    : 2px;\n\t\t}\n\t}\n"]);return Na=function(){return t},t}var Ra=l.c.div.attrs({"data-widget":"console-subject-view-dataset-def"})(Na()),La=function(t){var n=t.space,e=t.subject,r=t.visible,i=t.onVisibleChanged,c=Object(We.b)().save,l=Object(a.useState)({filters:!1,columns:!1,joins:!1}),s=Object(rt.a)(l,2),d=s[0],u=s[1],f=function(t){return function(n){return u(Object(nt.a)(Object(nt.a)({},d),{},Object(Ve.a)({},t,n)))}};e.dataset||(e.dataset={filters:[{jointType:m.j.AND,filters:[]}],columns:[],joins:[]}),e.dataset.filters||(e.dataset.filters=[{jointType:m.j.AND,filters:[]}]),0===e.dataset.filters.length&&e.dataset.filters.push({jointType:m.j.AND,filters:[]});var v=e.dataset.filters[0];return v.jointType||(v.jointType=m.j.AND),v.filters||(v.filters=[]),e.dataset.columns||(e.dataset.columns=[]),e.dataset.joins||(e.dataset.joins=[]),Object(o.jsxs)(Ra,{"data-visible":r,children:[Object(o.jsxs)(Ke,{children:[Object(o.jsx)("div",{children:e.name}),Object(o.jsx)(vn.a,{onClick:function(){c(),i(!1)},ignoreHorizontalPadding:!0,tooltip:"Minimize",center:!0,children:Object(o.jsx)(p.a,{icon:b.Gb})})]}),Object(o.jsx)(wa,{subject:e,collapsed:d.filters,onCollapsedChanged:f("filters")}),Object(o.jsx)(wo,{space:n,subject:e,collapsed:d.columns,onCollapsedChanged:f("columns")}),Object(o.jsx)(ka,{space:n,subject:e,collapsed:d.joins,onCollapsedChanged:f("joins")})]})},Aa=e(240),Da=e(151);function _a(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tposition: absolute;\n\tleft: 0;\n\theight: 100%;\n\twidth: 100%;\n\tfont-family: var(--console-title-font-family);\n\tfont-size: 1.4em;\n\t> span > span {\n\t\ttext-decoration: underline;\n\t\tcursor: pointer;\n\t}\n"]);return _a=function(){return t},t}function Ma(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: fixed;\n\tmargin-top: -1px;\n\tborder-top-left-radius: 15px;\n\tborder-bottom-left-radius: 25px;\n\tbox-shadow: -1px 0 0 0 var(--border-color), 0 1px 0 0 var(--border-color), 0 -1px 0 0 var(--border-color);\n\tpadding: 4px 10px;\n\tbackground-color: var(--bg-color);\n\tz-index: 1;\n\t> button {\n\t\theight: 32px;\n\t\twidth: 32px;\n\t\t&:before {\n\t\t\tborder-radius: 100%;\n\t\t}\n\t\t> svg {\n\t\t\tfont-size: 0.9em;\n\t\t}\n\t}\n"]);return Ma=function(){return t},t}function Pa(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: absolute;\n\tflex-direction: column;\n\ttop: 0;\n\tright: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: var(--bg-color);\n\ttransition: width 300ms ease-in-out, opacity 300ms ease-in-out;\n\toverflow: auto;\n\t&[data-visible=false] {\n\t\topacity: 0;\n\t\twidth: 0;\n\t\tpointer-events: none;\n\t}\n"]);return Pa=function(){return t},t}var Fa=l.c.div.attrs({"data-widget":"console-subject-view-graphics"})(Pa()),Ha=l.c.div.attrs((function(t){return{"data-widget":"console-subject-view-graphics-buttons",style:{top:t.top,right:t.right}}}))(Ma()),za=l.c.div(_a()),Ga=function(t){var n=t.space,e=t.subject,r=t.visible,i=t.onVisibleChanged,c=t.switchToDefinition,l=e.dataset,s=void 0===l?{}:l,d=e.graphics,v=void 0===d?[]:d,h=s.columns,j=void 0===h?[]:h,g=Object(We.b)().save,x=Object(a.useRef)(null),O=Object(a.useState)({top:0,right:0}),w=Object(rt.a)(O,2),C=w[0],y=w[1],E=Object(a.useState)(!0),I=Object(rt.a)(E,2),S=I[0],T=I[1],k=Object(M.f)();Object(a.useEffect)((function(){var t=function(){if(x.current){var t=x.current.getBoundingClientRect(),n=t.top,e=t.left,r=x.current,o=r.clientWidth,a=r.offsetWidth,i=window.outerWidth-e-a+(a-o);n===C.top&&i===C.right||y({top:n,right:i})}};if(t(),x.current){var n=new ResizeObserver((function(){x.current&&t()}));return n.observe(x.current),function(){return n.disconnect()}}}));var N=function(){e.graphics||(e.graphics=[]),e.graphics.push({name:"Noname",type:m.e.BAR,indicators:[],dimensions:[],rect:Object(Da.f)(x.current)}),S?T(!1):k(),g()},R=function(t){var n=v.indexOf(t);-1!==n&&v.splice(n,1),k(),g()},L=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=0!==j.length,D=0!==v.length;return Object(o.jsxs)(Fa,{"data-visible":r,ref:x,children:[Object(o.jsxs)(Ha,Object(nt.a)(Object(nt.a)({},C),{},{children:[D&&!S?Object(o.jsx)(vn.a,{tooltip:"Lock Charts",right:!0,offsetX:-3,offsetY:8,onClick:function(){return T(!0)},children:Object(o.jsx)(p.a,{icon:b.Fb})}):null,D&&S?Object(o.jsx)(vn.a,{tooltip:"Settings & Layout",right:!0,offsetX:-3,offsetY:8,onClick:function(){return T(!1)},children:Object(o.jsx)(p.a,{icon:b.O})}):null,A?Object(o.jsx)(vn.a,{tooltip:"Add Chart",right:!0,offsetX:-3,offsetY:8,onClick:N,children:Object(o.jsx)(p.a,{icon:b.jb})}):null,Object(o.jsx)(vn.a,{tooltip:"Minimize",right:!0,offsetX:-3,offsetY:8,onClick:function(){return i(!1)},children:Object(o.jsx)(p.a,{icon:b.Gb})})]})),r?A?D?v.map((function(t){return t.chartId||(t.chartId=Object(Ca.a)()),Object(o.jsx)(Aa.a,{containerRef:x,space:n,subject:e,chart:t,locked:S,onDeleteChart:R},t.chartId)})):Object(o.jsx)(za,{children:Object(o.jsxs)("span",{children:["No chart defined yet, ",Object(o.jsx)("span",{onClick:N,children:"create one"})," now?"]})}):Object(o.jsx)(za,{children:Object(o.jsxs)("span",{children:["No column defined yet, switch to ",Object(o.jsx)("span",{onClick:L,children:"definition"}),"?"]})}):null]})};function Ua(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: absolute;\n\ttop: calc(var(--margin) / 2);\n\tleft: calc(var(--margin) / 2);\n\t> button {\n\t\tfont-family: var(--console-title-font-family);\n\t\tcolor: var(--invert-color);\n\t\tbackground-color: var(--console-primary-color);\n\t\twhite-space: nowrap;\n\t\tpadding: 6px calc(var(--margin) / 2);\n\t\tbox-shadow: var(--console-primary-shadow);\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: var(--border-radius);\n\t\t\tborder-bottom-left-radius: var(--border-radius);\n\t\t}\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: var(--border-radius);\n\t\t\tborder-bottom-right-radius: var(--border-radius);\n\t\t}\n\t}\n"]);return Ua=function(){return t},t}function Ya(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\twidth: 100%;\n"]);return Ya=function(){return t},t}var Ba=l.c.div.attrs({"data-widget":"console-subject-view"})(Ya()),Va=l.c.div(Ua()),Wa=function(t){var n=t.space,e=t.group,r=t.subject,i=Object(hn.b)(),c=Tn(),l=c.closeSubjectIfCan,s=c.subjectRenamed,d=Object(We.b)().save,v=Object(M.f)(),h=Object(a.useState)({definition:!1,dataset:!1,graphics:!1}),j=Object(rt.a)(h,2),g=j[0],x=j[1];!function(t){var n=t.dataset;n||(n={filters:[{jointType:m.j.AND,filters:[]}],columns:[],joins:[]},t.dataset=n),n.filters?0===n.filters.length&&n.filters.push({jointType:m.j.AND,filters:[]}):n.filters=[{jointType:m.j.AND,filters:[]}],n.columns||(n.columns=[]),n.joins||(n.joins=[])}(r);var O=wn({dialog:i,space:n,group:e,subject:r,onDeleted:function(){var t=Object(f.a)(u.a.mark((function t(n){var e,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n.space,r=n.group,o=n.subject,l({space:e,group:r,subject:o});case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}),w=yn({dialog:i,space:n,group:e,subject:r,asFullName:function(){return e?"".concat(n.name," / ").concat(e.name," / ").concat(r.name):"".concat(n.name," / ").concat(r.name)},renameObject:function(t,n){return r.name=n},onRenamed:function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s({space:n,group:e,subject:r}),d(),v();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),C=function(t){return function(){return x(Object(nt.a)(Object(nt.a)({},g),{},Object(Ve.a)({},t,!g[t])))}},y=function(t){return function(n){return x(Object(nt.a)(Object(nt.a)({},g),{},Object(Ve.a)({},t,n)))}},E=function(){return x({definition:!0,dataset:!1,graphics:!1})};return Object(o.jsxs)(Ba,{children:[Object(o.jsxs)(Va,{children:[Object(o.jsx)(vn.a,{onClick:w,ignoreHorizontalPadding:!0,tooltip:"Rename",center:!0,children:Object(o.jsx)(p.a,{icon:b.fb})}),Object(o.jsx)(vn.a,{onClick:O,ignoreHorizontalPadding:!0,tooltip:"Delete Group",center:!0,children:Object(o.jsx)(p.a,{icon:pn.g})}),Object(o.jsx)(vn.a,{onClick:C("definition"),ignoreHorizontalPadding:!0,tooltip:"Show Dataset Definition",children:Object(o.jsx)(p.a,{icon:b.B})}),Object(o.jsx)(vn.a,{onClick:C("dataset"),ignoreHorizontalPadding:!0,tooltip:"Show Dataset",children:Object(o.jsx)(p.a,{icon:b.Bb})}),Object(o.jsx)(vn.a,{onClick:C("graphics"),ignoreHorizontalPadding:!0,tooltip:"Show Graphics",children:Object(o.jsx)(p.a,{icon:pn.c})})]}),Object(o.jsx)(La,{space:n,subject:r,visible:g.definition,onVisibleChanged:y("definition")}),Object(o.jsx)(so,{space:n,subject:r,visible:g.dataset,onVisibleChanged:y("dataset"),switchToDefinition:E}),Object(o.jsx)(Ga,{space:n,subject:r,visible:g.graphics,onVisibleChanged:y("graphics"),switchToDefinition:E})]})},Xa=function(t){var n=t.space;if(!t.visible)return null;var e=function(t,n){var e=t.subjects.find((function(t){return t.subjectId==n}));return e?{subject:e,group:void 0}:t.groups.reduce((function(t,e){if(t.subject)return t;var r=e.subjects.find((function(t){return t.subjectId==n}));return r?{subject:r,group:e}:t}),{})}(n,Object(c.i)().subjectId),r=e.group,a=e.subject;return Object(o.jsx)(We.a,{space:n,group:r,subject:a,children:Object(o.jsx)(Wa,{space:n,group:r,subject:a})})},qa=function(t){var n=t.space;return Object(o.jsx)(W,{children:Object(o.jsxs)(c.d,{children:[Object(o.jsx)(c.b,{path:s.a.CONSOLE_CONNECTED_SPACE_OVERALL,children:Object(o.jsx)(Be,{visible:!0,space:n})}),Object(o.jsx)(c.b,{path:s.a.CONSOLE_CONNECTED_SPACE_RESOURCES,children:Object(o.jsx)(bn,{visible:!0,space:n})}),Object(o.jsx)(c.b,{path:s.a.CONSOLE_CONNECTED_SPACE_GROUP,children:Object(o.jsx)(Yn,{visible:!0,space:n})}),Object(o.jsx)(c.b,{path:s.a.CONSOLE_CONNECTED_SPACE_SUBJECT,children:Object(o.jsx)(Xa,{visible:!0,space:n})}),Object(o.jsx)(c.b,{path:"*",children:Object(o.jsx)(c.a,{to:Object(s.d)(s.a.CONSOLE_CONNECTED_SPACE_OVERALL,n.connectId)})})]})})};function Ja(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tborder: var(--border);\n\tborder-bottom: 0;\n\tborder-color: ",";\n\tborder-top-left-radius: calc(var(--border-radius) * 2);\n\tborder-top-right-radius: calc(var(--border-radius) * 2);\n\tbackground-color: ",";\n\tpadding: 6px calc(var(--margin) / 1.5) 5px;\n\theight: 43px;\n\tfont-size: 0.8em;\n\tcursor: pointer;\n\tcolor: ",";\n\ttransition: all 300ms ease-in-out;\n\t&:hover {\n\t\t> svg:first-child,\n\t\t> span:nth-child(2) {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\t> svg:first-child {\n\t\tmargin-right: calc(var(--margin) / 4);\n\t\topacity: ",";\n\t\ttransition: all 300ms ease-in-out;\n\t}\n\t> span:nth-child(2) {\n\t\topacity: ",";\n\t\tmargin-top: -1px;\n\t\ttransition: all 300ms ease-in-out;\n\t}\n\t> div:nth-last-child(2),\n\t> div:last-child {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\twidth: 8px;\n\t\theight: 8px;\n\t\toverflow: hidden;\n\t\tbackground-color: var(--bg-color);\n\t\tpointer-events: none;\n\t\topacity: ",";\n\t\ttransition: all 300ms ease-in-out;\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\theight: 16px;\n\t\t\twidth: 16px;\n\t\t\ttop: -8px;\n\t\t\tborder-radius: 100%;\n\t\t\tborder-width: 1px;\n\t\t\tborder-style: solid;\n\t\t\tborder-color: var(--border-color);\n\t\t\tbackground-color: var(--invert-color);\n\t\t}\n\t}\n\t> div:nth-last-child(2) {\n\t\tright: -8px;\n\t\t&:before {\n\t\t\tleft: 0;\n\t\t}\n\t}\n\t> div:last-child {\n\t\tleft: -8px;\n\t\t&:before {\n\t\t\tleft: -8px;\n\t\t}\n\t}\n"]);return Ja=function(){return t},t}function Qa(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 0 calc(var(--margin) / 2) 0 0;\n\tpadding-top: 8px;\n\theight: 50px;\n"]);return Qa=function(){return t},t}var Ka=l.c.div(Qa()),Za=l.c.div(Ja(),(function(t){return t.active?"var(--border-color)":"transparent"}),(function(t){return t.active?"var(--bg-color)":"transparent"}),(function(t){return t.active?"var(--console-primary-color)":""}),(function(t){return t.active?1:.6}),(function(t){return t.active?1:.6}),(function(t){return t.active?1:0})),$a=Object(a.forwardRef)((function(t,n){var e=t.active,r=t.icon,a=t.label,i=t.moreClick,c=t.more,l=t.onClick;return Object(o.jsxs)(Za,{active:e,onClick:l,ref:n,children:[Object(o.jsx)(p.a,{icon:r}),Object(o.jsx)("span",{children:a}),i?Object(o.jsx)(p.a,{icon:b.j,onClick:i}):null,c,Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})}));function ti(){var t=Object(r.a)(["\n\t&:hover {\n\t\t> button:nth-child(3) {\n\t\t\topacity: 1;\n\t\t\tpointer-events: auto;\n\t\t}\n\t}\n\t> button:nth-child(3) {\n\t\tmargin-left: calc(var(--margin) / 4);\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n"]);return ti=function(){return t},t}function ni(){var t=Object(r.a)(["\n\t&:hover {\n\t\t> span:nth-child(3) {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\t> span:nth-child(3) {\n\t\theight: 20px;\n\t\ttext-align: center;\n\t\tline-height: 20px;\n\t\tmargin-left: calc(var(--margin) / 4);\n\t\tpadding: 0 calc(var(--margin) / 3);\n\t\tborder-radius: 10px;\n\t\tcolor: var(--invert-color);\n\t\tbackground-color: ",";\n\t\topacity: ",";\n\t\ttransform-origin: center center;\n\t\ttransform: scaleX(0.8) scaleY(0.8);\n\t\ttransition: all 300ms ease-in-out;\n\t}\n\t> button {\n\t\tmargin-left: calc(var(--margin) / 4);\n\t\tcolor: ",";\n\t\topacity: ",";\n\t\ttransition: all 300ms ease-in-out;\n\t}\n"]);return ni=function(){return t},t}var ei={offsetX:0,offsetY:-1},ri=Object(l.c)(Za)(ni(),(function(t){return t.active?"var(--console-primary-color)":"var(--console-font-color)"}),(function(t){return t.active?1:.6}),(function(t){return t.active?"var(--console-primary-color)":"var(--console-font-color)"}),(function(t){return t.active?1:.6})),oi=Object(l.c)(J)(ti()),ai=Object(a.forwardRef)((function(t,n){var e=t.active,r=t.icon,a=t.label,i=t.onTabClicked,c=t.onTabCloseClicked,l=t.showDropdown,s=t.dropdownItemsCount,d=t.children;return Object(o.jsxs)(ri,{active:e,onClick:i,ref:n,children:[Object(o.jsx)(p.a,{icon:r}),Object(o.jsx)("span",{children:a}),d?Object(o.jsx)("span",{children:s+1}):null,d?Object(o.jsx)(vn.a,{onClick:function(t){t.preventDefault(),t.stopPropagation(),l()},ignoreHorizontalPadding:!0,children:Object(o.jsx)(p.a,{icon:b.E})}):null,Object(o.jsx)(vn.a,{onClick:function(t){t.preventDefault(),t.stopPropagation(),c()},ignoreHorizontalPadding:!0,children:Object(o.jsx)(p.a,{icon:b.Gb})}),d,Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})})),ii=function(t){var n=t.active,e=t.tab,r=e.icon,i=e.label,c=e.onClicked,l=e.onCloseClicked,s=t.dropdown,d=s.items,u=s.onClicked,f=s.onCloseClicked,v=s.asKey,h=s.asLabel,j=Object(a.useRef)(null),g=Object(a.useState)({align:Y.RIGHT,left:0,right:0,top:0,visible:!1}),m=Object(rt.a)(g,2),x=m[0],O=m[1];$(Object(nt.a)({containerRef:j,state:x,changeState:O},ei));var w=function(t){return function(n){n.preventDefault(),n.stopPropagation(),K(Object(nt.a)({containerRef:j,changeState:O,align:x.align},ei)),u(t)}},C=function(t){return function(n){n.preventDefault(),n.stopPropagation(),f(t)}};return Object(o.jsx)(ai,{active:n,icon:r,label:i,onTabClicked:c,onTabCloseClicked:l,showDropdown:function(){return Z(Object(nt.a)({containerRef:j,state:x,changeState:O},ei))},dropdownItemsCount:d.length,ref:j,children:0!==d.length?Object(o.jsx)(q,Object(nt.a)(Object(nt.a)({},x),{},{itemCount:d.length,children:d.map((function(t){return Object(o.jsxs)(oi,{onClick:w(t),children:[Object(o.jsx)(p.a,{icon:r}),Object(o.jsx)("span",{children:h(t)}),Object(o.jsx)(vn.a,{onClick:C(t),ignoreHorizontalPadding:!0,children:Object(o.jsx)(p.a,{icon:b.Gb})})]},v(t))}))})):null})},ci=function(t){var n=t.space,e=Object(c.h)(),r=Tn(),i=r.store.activeGroupId,l=r.isGroupOpened,d=r.openGroupIfCan,u=r.closeGroupIfCan,f=r.addGroupClosedListener,p=r.removeGroupClosedListener,v=r.addGroupRenamedListener,h=r.removeGroupRenamedListener,j=Object(M.f)();Object(a.useEffect)((function(){return f(j),v(j),function(){p(j),h(j)}}),[f,p,v,h,j]);var g=n.groups.filter(l).sort((function(t,n){return t.name.toUpperCase().localeCompare(n.name.toUpperCase())})),m=0!==g.length?g.find((function(t){return t.groupId==i})):null;if(!m)return null;var x=Object(c.f)(e.pathname,s.a.CONSOLE_CONNECTED_SPACE_GROUP);g=g.filter((function(t){return t!==m}));var O={icon:b.A,label:m.name,onClicked:function(){return d({space:n,group:m})},onCloseClicked:function(){return u({space:n,group:m})}},w={items:g,onClicked:function(t){return d({space:n,group:t})},onCloseClicked:function(t){return u({space:n,group:t})},asKey:function(t){return t.groupId},asLabel:function(t){return t.name}};return Object(o.jsx)(ii,{active:!!x,tab:O,dropdown:w})},li=function(t){var n=t.group,e=t.subject;return n?"".concat(n.name," / ").concat(e.name):e.name},si=function(t){var n=t.space,e=Object(c.h)(),r=Tn(),i=r.store.activeSubjectId,l=r.isSubjectOpened,d=r.openSubjectIfCan,u=r.closeSubjectIfCan,f=r.addSubjectRenamedListener,p=r.removeSubjectRenamedListener,v=r.addSubjectClosedListener,h=r.removeSubjectClosedListener,j=Object(M.f)();Object(a.useEffect)((function(){return v(j),f(j),function(){h(j),p(j)}}),[v,h,f,p,j]);var g=function(t,n){var e=t.groups;return[].concat(Object(pe.a)(t.subjects.map((function(t){return{group:void 0,subject:t}}))),Object(pe.a)(e.map((function(t){return t.subjects.map((function(n){return{group:t,subject:n}}))})).flat())).filter((function(t){var e=t.subject;return n(e)}))}(n,l),m=g.sort((function(t,n){switch(!0){case!t.group&&!n.group:return t.subject.name.toUpperCase().localeCompare(n.subject.name.toUpperCase());case!t.group&&n.group:return-1;case t.group&&!n.group:return 1;case!!t.group&&!!n.group:default:var e=t.group.name.toUpperCase().localeCompare(n.group.name.toUpperCase());return 0===e?t.subject.name.toUpperCase().localeCompare(n.subject.name.toUpperCase()):e}})),x=0!==m.length?m.find((function(t){return t.subject.subjectId==i})):null;if(!x)return null;var O=Object(c.f)(e.pathname,s.a.CONSOLE_CONNECTED_SPACE_SUBJECT);m=m.filter((function(t){return t!==x}));var w={icon:b.A,label:li(x),onClicked:function(){return d(Object(nt.a)({space:n},x))},onCloseClicked:function(){return u(Object(nt.a)({space:n},x))}},C={items:m,onClicked:function(t){var e=t.subject,r=t.group;return d({space:n,group:r,subject:e})},onCloseClicked:function(t){var e=t.subject,r=t.group;return u({space:n,group:r,subject:e})},asKey:function(t){return t.subject.subjectId},asLabel:function(t){var n=t.subject,e=t.group;return li({group:e,subject:n})}};return Object(o.jsx)(ii,{active:!!O,tab:w,dropdown:C})};function di(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tfont-family: var(--console-title-font-family);\n\tpadding-right: calc(var(--margin) / 2);\n\tmargin-top: 14px;\n\tmargin-bottom: 6px;\n\theight: 30px;\n\tcursor: pointer;\n\t> svg:first-child {\n\t\tmargin-right: calc(var(--margin) / 5);\n\t\topacity: 0.7;\n\t}\n\t> span {\n\t\tfont-size: 1.2em;\n\t}\n\t> svg:nth-child(3) {\n\t\tmargin-left: calc(var(--margin) / 5);\n\t\twidth: 24px;\n\t\topacity: 0.7;\n\t\ttransition: all 300ms ease-in-out;\n\t\t&[data-menu-shown=true] {\n\t\t\ttransform: rotateX(180deg);\n\t\t}\n\t}\n"]);return di=function(){return t},t}var ui=l.c.div.attrs({"data-widget":"console-space-title"})(di()),fi=function(t){var n=t.space,e=Object(c.g)(),r=Object(hn.b)(),i=Object(w.b)().spaces,l=i.deleteSpace,d=i.spaceRenamed,v=Tn(),j=v.openGroupIfCan,x=v.openSubjectIfCan,O=Object(a.useRef)(null),C=Object(M.f)(),y=Object(a.useState)({left:0,right:0,top:0,visible:!1}),E=Object(rt.a)(y,2),I=E[0],S=E[1];$({containerRef:O,state:I,changeState:S,offsetY:6});var T=function(){var t=Object(f.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K({containerRef:O,changeState:S,offsetY:6}),e={groupId:"",name:"Noname",subjects:[]},n.groups.push(e),t.next=5,Object(g.b)({space:n,group:e});case 5:j({space:n,group:e});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(f.a)(u.a.mark((function t(){var e,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K({containerRef:O,changeState:S,offsetY:6}),e=h()().format("YYYY-MM-DD HH:mm:ss"),r={subjectId:"",name:"Noname",topicCount:0,graphicsCount:0,lastVisitTime:e,createdAt:e},n.subjects.push(r),t.next=6,Object(g.c)({space:n,subject:r});case 6:x({space:n,subject:r});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=yn({dialog:r,space:n,asFullName:function(){return n.name},renameObject:function(t,e){return n.name=e},onRenamed:function(){d(n),Object(g.l)(n.connectId,n.name),C()}});return Object(o.jsxs)(ui,{onClick:function(){return Z({containerRef:O,state:I,changeState:S,offsetY:6})},ref:O,children:[Object(o.jsx)(p.a,{icon:n.type===m.f.PUBLIC?b.N:b.x}),Object(o.jsx)("span",{children:n.name}),Object(o.jsx)(p.a,{icon:b.j,"data-menu-shown":I.visible}),Object(o.jsxs)(q,Object(nt.a)(Object(nt.a)({},I),{},{itemCount:4,separatorCount:1,children:[Object(o.jsxs)(J,{onClick:T,children:[Object(o.jsx)(p.a,{icon:b.A}),Object(o.jsx)("span",{children:"Add Group"})]}),Object(o.jsxs)(J,{onClick:k,children:[Object(o.jsx)(p.a,{icon:b.kb}),Object(o.jsx)("span",{children:"Add Subject"})]}),Object(o.jsx)(tt,{}),Object(o.jsxs)(J,{onClick:N,children:[Object(o.jsx)(p.a,{icon:b.fb}),Object(o.jsx)("span",{children:"Rename"})]}),Object(o.jsxs)(J,{onClick:function(){var t=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g.d)(n);case 3:t.next=11;break;case 5:t.prev=5,t.t0=t.catch(0),console.groupCollapsed("%cError on delete space.","color:rgb(251,71,71)"),console.error("Space: ",n),console.error(t.t0),console.groupEnd();case 11:r.hide(),l(n),e.replace(s.a.CONSOLE_HOME);case 14:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();r.show(Object(o.jsxs)("div",{"data-widget":"dialog-console-delete",children:[Object(o.jsx)("span",{children:"Are you sure to delete space?"}),Object(o.jsx)("span",{"data-widget":"dialog-console-object",children:n.name})]}),Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:t,children:"Yes"}),Object(o.jsx)(jn.c,{inkType:jn.b.DEFAULT,onClick:r.hide,children:"Cancel"})]}))},children:[Object(o.jsx)(p.a,{icon:pn.g}),Object(o.jsx)("span",{children:"Delete Space"})]})]}))]})},bi=function(t){var n=t.space,e=Object(c.h)(),r=Object(c.g)(),a=!!Object(c.f)(e.pathname,s.a.CONSOLE_CONNECTED_SPACE_OVERALL),i=!!Object(c.f)(e.pathname,s.a.CONSOLE_CONNECTED_SPACE_RESOURCES);return Object(o.jsxs)(V,{children:[Object(o.jsx)(fi,{space:n}),Object(o.jsxs)(Ka,{children:[Object(o.jsx)($a,{active:a,icon:b.rb,label:"Overall",onClick:function(){return r.push(Object(s.d)(s.a.CONSOLE_CONNECTED_SPACE_OVERALL,n.connectId))}}),Object(o.jsx)(ci,{space:n}),Object(o.jsx)(si,{space:n}),Object(o.jsx)($a,{active:i,icon:b.h,label:"Available Resources",onClick:function(){return r.push(Object(s.d)(s.a.CONSOLE_CONNECTED_SPACE_RESOURCES,n.connectId))}})]})]})},pi=function(){var t=Object(c.i)().connectId,n=Object(w.b)().spaces.connected.find((function(n){return n.connectId==t}));return n?Object(o.jsxs)(B,{children:[Object(o.jsx)(bi,{space:n}),Object(o.jsx)(qa,{space:n})]}):Object(o.jsx)(c.a,{to:s.a.CONSOLE_HOME})},vi=function(){return Object(o.jsx)(Sn,{children:Object(o.jsx)(pi,{})})},hi=e.p+"static/media/console-dashboard-background.e7f7ef12.png",ji=e(150),gi=function(t){return function(){var n=Object(f.a)(u.a.mark((function n(e){var r,i,c,l,s,d,b;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.dialog,i=t.onCreated,c="",l=function(t){c=t.target.value},s=function(t){r.show(t,Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:b,children:"Yes"}),Object(o.jsx)(jn.c,{inkType:jn.b.DEFAULT,onClick:r.hide,children:"Cancel"})]}))},d=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(o.jsxs)("div",{"data-widget":"dialog-console-create",children:[Object(o.jsx)("span",{children:"New dashboard name:"}),Object(o.jsx)(gn.a,{onChange:l,defaultValue:c,"data-error":t}),Object(o.jsx)("span",{children:"Name is required."})]})},b=function(){var t=Object(f.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.trim()){t.next=3;break}return s(d(!0)),t.abrupt("return");case 3:return t.next=5,Object(ji.a)(c.trim());case 5:n=t.sent,i(n),r.hide();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s(d());case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()};function mi(){var t=Object(r.a)(["\n\t> div {\n\t\tmargin-bottom: calc(var(--margin) / 4);\n\t}\n"]);return mi=function(){return t},t}var xi=l.c.div(mi()),Oi=function(t){return t.subjects.map((function(t){return t.graphics&&0!==t.graphics.length?{value:t.subjectId,label:t.name,subject:t}:null})).filter((function(t){return!!t}))},wi=function(t){return(t.graphics||[]).map((function(t){return{value:t.chartId,label:t.name,chart:t}}))};function Ci(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: relative;\n\tflex-grow: 1;\n\tbackground-color: var(--bg-color);\n\toverflow: auto;\n\t&::-webkit-scrollbar {\n\t\tbackground-color: transparent;\n\t\theight: 4px;\n\t\twidth: 4px;\n\t}\n\t&::-webkit-scrollbar-track {\n\t\tbackground-color: var(--scrollbar-background-color);\n\t\tborder-radius: 2px;\n\t}\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground-color: var(--console-favorite-color);\n\t\tborder-radius: 2px;\n\t}\n"]);return Ci=function(){return t},t}function yi(){var t=Object(r.a)(["\n\tfont-size: 3em;\n\tfont-family: var(--console-title-font-family);\n\tflex-grow: 1;\n\tdisplay: flex;\n\t> button {\n\t\tmargin-left: calc(var(--margin) / 2);\n\t\tfont-size: 0.7em;\n\t\tpadding: 0 calc(var(--margin) / 2);\n\t}\n"]);return yi=function(){return t},t}function Ei(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tborder-bottom: var(--border);\n\t> button {\n\t\talign-self: flex-end;\n\t\twidth: 28px;\n\t\theight: 28px;\n\t\tfont-size: 1.2em;\n\t}\n"]);return Ei=function(){return t},t}function Ii(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\t&[data-visible=false] {\n\t\tdisplay: none;\n\t}\n"]);return Ii=function(){return t},t}var Si=l.c.div(Ii()),Ti=l.c.div(Ei()),ki=l.c.div(yi()),Ni=l.c.div(Ci()),Ri=function(){var t,n,e=Object(hn.b)(),r=Object(w.b)(),i=r.spaces,c=i.available,l=i.connected,s=r.dashboards,d=s.items,v=s.addDashboard,h=s.deleteDashboard,j=Object(a.useRef)(null),g=Object(a.useState)({}),m=Object(rt.a)(g,2),x=m[0],O=m[1],C=Object(M.f)(),y=function(t){return function(){navigator.clipboard.writeText(t)}},E=gi({dialog:e,onCreated:function(t){d.forEach((function(t){return t.current=!1})),v(t),C()}}),I=function(t){return function(n){var e=n.chartId,r=t.graphics.findIndex((function(t){return t.chartId==e}));t.graphics.splice(r,1),C()}},S=function(t,n){return function(){var e=Object(f.a)(u.a.mark((function e(r){var o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.rect,a=n.chartId,t.graphics.find((function(t){return t.chartId==a})).rect=o,x.handle&&(clearTimeout(x.handle),x.dashboard!==t&&Object(ji.e)(x.dashboard)),O({handle:setTimeout(Object(f.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return O({}),n.next=3,Object(ji.e)(t);case 3:case"end":return n.stop()}}),n)}))),1e4),dashboard:t});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=d.find((function(t){return t.current}));return!T&&d.length>0&&(T=d[0]),Object(o.jsxs)(Si,{"data-visible":!!T,children:[Object(o.jsxs)(Ti,{children:[Object(o.jsxs)(ki,{children:[Object(o.jsx)("span",{children:null===(t=T)||void 0===t?void 0:t.name}),T?Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,onClick:(n=T,function(){var t="".concat(window.location.href,"/share/").concat(n.dashboardId);e.show(Object(o.jsx)("div",{"data-widget":"dialog-console-loading",children:Object(o.jsxs)("span",{children:[Object(o.jsx)("span",{children:"Copy following URL and share:"}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{"data-widget":"dialog-console-object",children:t})]})}),Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:y(t),children:"Copy"}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:e.hide,children:"Close"})]}))}),children:Object(o.jsx)(p.a,{icon:b.sb})}):null]}),T?Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Rename this dashboard",right:!0,offsetX:-4,offsetY:6,onClick:function(t){return n={dashboard:t,dialog:e,onRenamed:function(t){return C()}},function(){var t=Object(f.a)(u.a.mark((function t(e){var r,i,c,l,s,d,b,p;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.dashboard,i=n.dialog,c=n.onRenamed,l="",s=function(t){l=t.target.value},d=function(t){i.show(t,Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:p,children:"Yes"}),Object(o.jsx)(jn.c,{inkType:jn.b.DEFAULT,onClick:i.hide,children:"Cancel"})]}))},b=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(o.jsxs)("div",{"data-widget":"dialog-console-rename",children:[Object(o.jsxs)("span",{children:["Rename ",Object(o.jsx)("span",{"data-widget":"dialog-console-object",children:r.name})," to:"]}),Object(o.jsx)(gn.a,{onChange:s,defaultValue:l,"data-error":t}),Object(o.jsx)("span",{children:"Name is required."})]})},p=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.trim()){t.next=3;break}return d(b(!0)),t.abrupt("return");case 3:return t.next=5,Object(ji.d)(r.dashboardId,l);case 5:r.name=l,c(r),i.hide();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d(b());case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();var n}(T),children:Object(o.jsx)(p.a,{icon:b.gb})}):null,T?Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Add chart",right:!0,offsetX:-4,offsetY:6,onClick:function(t){return n={dialog:e,connectedSpaces:l,onSelected:function(n,e,r){console.log(n,e,r),t.graphics||(t.graphics=[]),t.graphics.push({spaceId:n.spaceId,connectId:n.connectId,subjectId:e.subjectId,chartId:r.chartId,rect:{top:0,left:0,width:(r.rect||{width:Da.e}).width,height:(r.rect||{height:Da.e*Da.a+Da.b}).height}}),C()}},function(){var t=Object(f.a)(u.a.mark((function t(e){var r,i,c,l,s,d,b,p,v,h,j,g,m,x,O,w,C,y,E;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.dialog,i=n.connectedSpaces,c=n.onSelected,b=[],p=[],v=i.map((function(t){return!t.subjects||0===t.subjects.length||t.subjects.every((function(t){return!t.graphics||0===t.graphics.length}))?null:{value:t.connectId,label:t.name,space:t}})).filter((function(t){return!!t})),h=function(){var t=Object(f.a)(u.a.mark((function t(n){var e,r,o=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(o.length>1&&void 0!==o[1])||o[1],(r=n.space).connectId==O){t.next=8;break}return l=r,O=r.connectId,b=Oi(r),t.next=8,j(b[0],!1);case 8:e&&w(C());case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),j=function(){var t=Object(f.a)(u.a.mark((function t(n){var e,r,o=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(o.length>1&&void 0!==o[1])||o[1],(r=n.subject).subjectId==x){t.next=8;break}return s=r,x=r.subjectId,p=wi(r),t.next=8,g(p[0],!1);case 8:e&&w(C());case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),g=function(){var t=Object(f.a)(u.a.mark((function t(n){var e,r=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!(r.length>1&&void 0!==r[1])||r[1],d=n.chart,m=d.chartId,e&&w(C());case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),w=function(t){r.show(t,Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:y,children:"Yes"}),Object(o.jsx)(jn.c,{inkType:jn.b.DEFAULT,onClick:r.hide,children:"Cancel"})]}))},C=function(){return Object(o.jsxs)(xi,{children:[Object(o.jsx)("div",{children:"Pick chart:"}),Object(o.jsx)(uo.a,{value:O,options:v,onChange:h}),Object(o.jsx)(uo.a,{value:x,options:b,onChange:j}),Object(o.jsx)(uo.a,{value:m,options:p,onChange:g})]})},y=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(l,s,d),r.hide();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){r.show(Object(o.jsx)("div",{"data-widget":"dialog-console-switch",children:Object(o.jsx)("span",{children:"No chart is ready."})}),Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:r.hide,children:"Close"})]}))},t.next=13,Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==v.length){t.next=4;break}E(),t.next=7;break;case 4:return t.next=6,h(v[0],!1);case 6:0===p.length?E():w(C());case 7:case"end":return t.stop()}}),t)})))();case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();var n}(T),children:Object(o.jsx)(p.a,{icon:b.kb})}):null,T?Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Delete this dashboard",right:!0,offsetX:-4,offsetY:6,onClick:function(t){return n={dashboard:t,dialog:e,onDeleted:function(t){h(t),d.length>=1&&C()}},function(){var t=Object(f.a)(u.a.mark((function t(e){var r,i,c,l,s,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.dashboard,i=n.dialog,c=n.onDeleted,l=function(t){i.show(t,Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:d,children:"Yes"}),Object(o.jsx)(jn.c,{inkType:jn.b.DEFAULT,onClick:i.hide,children:"Cancel"})]}))},s=function(){return Object(o.jsx)("div",{"data-widget":"dialog-console-delete",children:Object(o.jsxs)("span",{children:[Object(o.jsx)("span",{children:"Are you sure to delete dashboard "}),Object(o.jsx)("span",{"data-widget":"dialog-console-object",children:r.name}),Object(o.jsx)("span",{children:"?"})]})})},d=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ji.b)(r.dashboardId);case 2:c(r),i.hide();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l(s());case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();var n}(T),children:Object(o.jsx)(p.a,{icon:b.Hb})}):null,Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Create new dashboard",right:!0,offsetX:-4,offsetY:6,onClick:E,children:Object(o.jsx)(p.a,{icon:b.Cb})}),d.length>1&&T?Object(o.jsx)(vn.a,{ignoreHorizontalPadding:!0,tooltip:"Switch to another dashboard",right:!0,offsetX:-4,offsetY:6,onClick:function(t){return n={dashboard:t,dashboards:d,dialog:e,onSwitched:function(t){d.forEach((function(n){return n.current=n===t})),C()}},function(){var t=Object(f.a)(u.a.mark((function t(e){var r,i,c,l,s,d,b,p,v;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.dashboard,i=n.dashboards,c=n.dialog,l=n.onSwitched,s=i[0],d=i.filter((function(t){return t!==r})).map((function(t){return{value:t.dashboardId,label:t.name}})).sort((function(t,n){return t.label.toLowerCase().localeCompare(n.label.toLowerCase())})),b=function(){c.show(Object(o.jsx)(p,{}),Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{style:{flexGrow:1}}),Object(o.jsx)(jn.c,{inkType:jn.b.PRIMARY,onClick:v,children:"Yes"}),Object(o.jsx)(jn.c,{inkType:jn.b.DEFAULT,onClick:c.hide,children:"Cancel"})]}))},p=function(){var t=Object(M.f)(),n=function(){var n=Object(f.a)(u.a.mark((function n(e){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.value,s=i.find((function(t){return t.dashboardId==r})),t();case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return Object(o.jsxs)("div",{"data-widget":"dialog-console-switch",children:[Object(o.jsx)("span",{children:"Switch to:"}),Object(o.jsx)(uo.a,{options:d,value:s.dashboardId,onChange:n})]})},v=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l(s),c.hide();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b();case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();var n}(T),children:Object(o.jsx)(p.a,{icon:b.pb})}):null]}),Object(o.jsx)(Ni,{ref:j,children:T?(T.graphics||[]).map((function(t){t.chartId||(t.chartId=Object(Ca.a)());var n=t.spaceId,e=t.connectId,r=t.subjectId,a=t.chartId,i=c.find((function(t){return t.spaceId==n}));if(i){var s=l.find((function(t){return t.connectId==e}));if(s){var d=s.subjects.find((function(t){return t.subjectId==r}));if(d){var u=(d.graphics||[]).find((function(t){return t.chartId==a}));if(u)return u=Object(nt.a)(Object(nt.a)({},u),{},{rect:t.rect}),Object(o.jsx)(We.a,{space:s,subject:d,doSave:S(T,u),children:Object(o.jsx)(Aa.a,{containerRef:j,space:i,subject:d,chart:u,locked:!1,settings:!1,onDeleteChart:I(T)},t.chartId)})}}}})):null})]})};function Li(){var t=Object(r.a)(["\n\tdisplay: block;\n\tfont-size: 2em;\n\tfont-family: var(--console-title-font-family);\n\topacity: 0;\n\theight: 0;\n\twidth: 100%;\n\ttransition: all 300ms ease-in-out;\n\ttext-align: center;\n\t&[data-visible=true] {\n\t\topacity: 0.5;\n\t\theight: 100px;\n\t}\n\t> span {\n\t\ttext-decoration: underline;\n\t\tcursor: pointer;\n\t}\n"]);return Li=function(){return t},t}function Ai(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr;\n\tgrid-row-gap: var(--margin);\n\tflex-grow: 1;\n"]);return Ai=function(){return t},t}function Di(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\tmargin: calc(var(--margin) / 2) var(--margin) var(--margin);\n"]);return Di=function(){return t},t}var _i=Object(l.c)(O.b)(Di()),Mi=l.c.div(Ai()),Pi=l.c.div(Li()),Fi=function(){var t=Object(hn.b)(),n=Object(w.b)().dashboards,e=n.initialized,r=n.items,i=n.addDashboard,c=n.addDashboardDeletedListener,l=n.removeDashboardDeletedListener,s=Object(M.f)();Object(a.useEffect)((function(){var t=function(){0===r.length&&s()};return c(t),function(){return l(t)}}));var d=gi({dialog:t,onCreated:function(t){r.forEach((function(t){return t.current=!1})),i(t),s()}}),u=e&&0!==r.length;return Object(o.jsx)(_i,{"background-image":hi,children:u?Object(o.jsx)(Mi,{children:Object(o.jsx)(Ri,{})}):Object(o.jsxs)(Mi,{children:[Object(o.jsx)(x.a,{title:"Dashboards"}),Object(o.jsxs)(Pi,{"data-visible":e&&0===r.length,children:["No dashboard yet, ",Object(o.jsx)("span",{onClick:d,children:"create one"})," now?"]}),Object(o.jsx)(Pi,{"data-visible":!e,children:"Loading..."})]})})};function Hi(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\toverflow-y: auto;\n\tmargin-top: calc(var(--margin) / 3);\n\tmax-height: calc(28px * 5);\n\t&::-webkit-scrollbar {\n\t\tbackground-color: transparent;\n\t\theight: 4px;\n\t\twidth: 4px;\n\t}\n\t&::-webkit-scrollbar-track {\n\t\tbackground-color: var(--scrollbar-background-color);\n\t\tborder-radius: 2px;\n\t}\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground-color: var(--console-favorite-color);\n\t\tborder-radius: 2px;\n\t}\n\t> div {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmin-height: 28px;\n\t\tpadding-right: calc(var(--margin) / 3);\n\t\tfont-size: 0.8em;\n\t\topacity: 0.7;\n\t\tcursor: pointer;\n\t\t&:hover {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t\t> svg {\n\t\t\tmargin-right: calc(var(--margin) / 5);\n\t\t}\n\t\t> span {\n\t\t\tflex-grow: 1;\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t}\n"]);return Hi=function(){return t},t}function zi(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tfont-family: var(--console-title-font-family);\n\t> div:last-child {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\t\t&:hover {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t\t> svg {\n\t\t\tmargin-right: calc(var(--margin) / 5);\n\t\t\tfont-size: 0.8em;\n\t\t}\n\t}\n"]);return zi=function(){return t},t}function Gi(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: fixed;\n\tflex-direction: column;\n\tbox-shadow: var(--console-hover-shadow);\n\tborder-radius: calc(var(--border-radius) * 3);\n\tbackground-color: var(--invert-color);\n\topacity: 0;\n\tpointer-events: none;\n\tmin-width: 180px;\n\theight: calc(var(--margin) / 3 * 3 + 20 + 28 * ",");\n\tpadding: calc(var(--margin) / 3);\n\ttransition: all 300ms ease-in-out;\n\ttransform: scale3d(0, 0, 0);\n\ttransform-origin: left center;\n\tz-index: 6000;\n\ttop: ","px;\n\tleft: ","px;\n\t&[data-visible=true] {\n\t\ttransform: scale3d(1, 1, 1);\n\t\topacity: 1;\n\t\tpointer-events: auto;\n\t}\n\t&[data-pinned=true] {\n\t\ttop: 0;\n\t\tleft: ","px;\n\t\twidth: calc(100vw - ","px - 15px);\n\t\tborder-radius: 0;\n\t\tbox-shadow: none;\n\t\tborder-bottom: var(--border);\n\t\tpadding: 0;\n\t\ttransition: none;\n\t\tz-index: 4000;\n\t\tflex-direction: row;\n\t\t> div:first-child {\n\t\t\theight: var(--console-favorite-pinned-height);\n\t\t\tpadding: 0 calc(var(--margin) / 3);\n\t\t\tbackground-color: var(--invert-color);\n\t\t\tz-index: 1;\n\t\t\t> div:last-child {\n\t\t\t\tposition: absolute;\n\t\t\t\tright: 0;\n\t\t\t\ttop: 0;\n\t\t\t\theight: var(--console-favorite-pinned-height);\n\t\t\t\twidth: 60px;\n\t\t\t\tpadding: 0 calc(var(--margin) / 3);\n\t\t\t}\n\t\t}\n\t\t> div:last-child {\n\t\t\tflex-direction: row;\n\t\t\tmargin-top: 0;\n\t\t\tmargin-right: 60px;\n\t\t\talign-items: center;\n\t\t\t> div {\n\t\t\t\tmargin-left: calc(var(--margin) / 3);\n\t\t\t\tpadding: 0 calc(var(--margin) / 3);\n\t\t\t\theight: 24px;\n\t\t\t\tmin-height: 24px;\n\t\t\t\tborder: var(--border);\n\t\t\t\tborder-radius: 12px;\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground-color: var(--console-primary-color);\n\t\t\t\t\tborder-color: var(--console-primary-color);\n\t\t\t\t\tcolor: var(--invert-color);\n\t\t\t\t}\n\t\t\t\t&:last-child {\n\t\t\t\t\tmin-width: calc(var(--margin) / 3);\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\tborder: 0;\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return Gi=function(){return t},t}var Ui=l.c.div.attrs({"data-widget":"console-favorite-container"})(Gi(),(function(t){return t.itemCount}),(function(t){var n=t.invoker,e=n.rect,r=e.y,o=e.height;return n.isMenuExpanded?r+o:r}),(function(t){var n=t.theme,e=t.invoker,r=e.rect.x;return e.isMenuExpanded?r+20:n.consoleMenuWidth-2}),(function(t){return t.pinnedLeft}),(function(t){return t.pinnedLeft})),Yi=l.c.div(zi()),Bi=l.c.div(Hi()),Vi=function(){var t=Object(c.g)(),n=Object(l.e)(),e=Object(w.b)(),r=e.menu.menuWidth,i=e.favorites,d=i.items,u=i.visible,f=i.pinned,v=i.invoker,h=void 0===v?{rect:{x:n.consoleMenuWidth,y:144,width:32,height:32},isMenuExpanded:!1}:v,j=i.hide,g=i.pin,x=i.unpin,O=e.dashboards,C=O.items,y=O.addDashboardDeletedListener,E=O.removeDashboardDeletedListener,I=O.addDashboardRenamedListener,S=O.removeDashboardRenamedListener,T=e.spaces,k=T.connected,N=T.addSpaceDeletedListener,R=T.removeSpaceDeletedListener,L=T.addSpaceRenamedListener,A=T.removeSpaceRenamedListener,D=Object(a.useRef)(null);Object(a.useEffect)((function(){if(!f){var t=function(t){Object(M.c)(D.current,t.target)&&j()};return window.addEventListener("click",t,!0),window.addEventListener("focus",t,!0),function(){window.removeEventListener("click",t,!0),window.removeEventListener("focus",t,!0)}}}),[f,j]);var _=Object(M.f)();Object(a.useEffect)((function(){return y(_),I(_),N(_),L(_),function(){E(_),S(_),R(_),A(_)}}),[y,E,I,S,N,R,L,A,_]);var P=d.length,F=Math.min(P,5),H=function(n){return function(){Object(s.b)(n.connectId)||t.push(Object(s.d)(s.a.CONSOLE_CONNECTED_SPACE,n.connectId))}},z=function(n){return function(){Object(s.c)(n.dashboardId)||t.push(Object(s.e)(s.a.CONSOLE_DASHBOARD,n.dashboardId))}};return Object(o.jsxs)(Ui,{"data-visible":u,"data-pinned":f,pinnedLeft:r,itemCount:F,invoker:h,ref:D,children:[Object(o.jsxs)(Yi,{children:[Object(o.jsx)("div",{children:"Favorite"}),Object(o.jsxs)("div",{onClick:function(){return f?x():g()},children:[Object(o.jsx)(p.a,{icon:b.Fb}),Object(o.jsx)("span",{children:f?"Float":"Pin"})]})]}),Object(o.jsxs)(Bi,{children:[d.map((function(t){if(t.type===m.b.DASHBOARD){var n=C.find((function(n){return n.dashboardId==t.dashboardId}));if(n)return{name:n.name,item:Object(o.jsxs)("div",{onClick:z(n),children:[Object(o.jsx)(p.a,{icon:b.ub}),Object(o.jsx)("span",{children:n.name})]},"dashboard-".concat(t.dashboardId))}}else if(function(t){return t.type===m.b.SPACE}(t)){var e=k.find((function(n){return n.connectId==t.connectId}));if(e)return{name:e.name,item:Object(o.jsxs)("div",{onClick:H(e),children:[Object(o.jsx)(p.a,{icon:e.type===m.f.PUBLIC?b.N:b.x}),Object(o.jsx)("span",{children:e.name})]},"space-".concat(t.connectId))}}return null})).filter((function(t){return null!=t})).sort((function(t,n){return t.name.localeCompare(n.name)})).map((function(t){return t.item})),f?Object(o.jsx)("div",{}):null]})]})},Wi=e.p+"static/media/console-home-background.3da66139.png";function Xi(){var t=Object(r.a)(["\n\tdisplay: flex;\n\twidth: 32px;\n\talign-items: center;\n\tcolor: var(--console-waive-color);\n\t&:hover {\n\t\tcolor: var(--console-primary-color);\n\t}\n\t&[data-favorite=true] {\n\t\tcolor: var(--console-favorite-color);\n\t\t> svg {\n\t\t\topacity: 1;\n\t\t\twidth: 100%;\n\t\t\theight: 16px;\n\t\t\tmargin-left: 0;\n\t\t\tpointer-events: auto;\n\t\t}\n\t}\n\t> svg {\n\t\topacity: 0;\n\t\twidth: 0;\n\t\theight: 0;\n\t\tmargin-left: 32px;\n\t\tpointer-events: none;\n\t\ttransition: all 300ms ease-in-out;\n\t}\n"]);return Xi=function(){return t},t}var qi=l.c.div.attrs({"data-widget":"console-home-section-card-fav-btn"})(Xi()),Ji=function(t){var n=t.toggle,e=t.isFavorite,r=Object(a.useRef)(null),i=Object(lt.c)({show:!0,tooltip:e?"Remove from Favorite":"Add into Favorite",ref:r,rect:function(){return{align:lt.b.CENTER}}}),c=i.mouseEnter,l=i.mouseLeave,s=i.show,d=i.hide;return Object(o.jsx)(qi,{onMouseEnter:c,onMouseLeave:l,onClick:function(t){d(),s(e?"Add into Favorite":"Remove from Favorite"),n(t)},"data-favorite":e,ref:r,children:Object(o.jsx)(p.a,{icon:b.Ab})})};function Qi(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tposition: relative;\n\tgrid-template-columns: 1fr auto;\n\tgrid-column-gap: calc(var(--margin) / 5);\n\talign-items: stretch;\n\tpadding: calc(var(--margin) / 3) calc(var(--margin) / 5) calc(var(--margin) / 3) calc(var(--margin) / 2);\n\tborder-radius: calc(var(--margin) / 3);\n\tbackground-color: var(--invert-color);\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t&:hover {\n\t\tbox-shadow: var(--console-hover-shadow);\n\t\t> div:first-child > span:first-child {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t\t> div[data-widget='console-home-section-card-fav-btn'] > svg {\n\t\t\topacity: 1;\n\t\t\twidth: 100%;\n\t\t\theight: 16px;\n\t\t\tmargin-left: 0;\n\t\t\tpointer-events: auto;\n\t\t}\n\t}\n\t> div:first-child {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: auto 1fr;\n\t\talign-items: center;\n\t\t> span {\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t\t> span:first-child {\n\t\t\tfont-size: 0.8em;\n\t\t\tfont-weight: var(--font-demi-bold);\n\t\t\topacity: 0.7;\n\t\t\tgrid-column: span 2;\n\t\t\ttransform: scale(0.9);\n\t\t\ttransform-origin: left;\n\t\t\ttransition: all 300ms ease-in-out;\n\t\t\t> svg {\n\t\t\t\tmargin-right: calc(var(--margin) / 3);\n\t\t\t}\n\t\t}\n\t}\n"]);return Qi=function(){return t},t}var Ki=l.c.div.attrs({"data-widget":"console-home-section-card"})(Qi()),Zi=function(t){var n=t.data,e=Object(c.g)(),r=Object(w.b)(),a=r.favorites,i=a.items,l=a.remove,d=a.add,u=r.dashboards.items,f=function(){return i.find((function(t){return function(t){return t.type===m.b.DASHBOARD}(t)&&t.dashboardId==n.dashboardId}))},v=h()(n.lastVisitTime).fromNow(),j=!!f();return Object(o.jsxs)(Ki,{onClick:function(){u.forEach((function(t){t.current=t.dashboardId==n.dashboardId})),e.push(s.a.CONSOLE_DASHBOARDS)},children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)("span",{children:[Object(o.jsx)(p.a,{icon:b.ub}),Object(o.jsx)("span",{children:v})]}),Object(o.jsx)("span",{children:n.name})]}),Object(o.jsx)(Ji,{toggle:function(){var t=f();t?l(t):d({type:m.b.DASHBOARD,dashboardId:n.dashboardId})},isFavorite:j})]})};function $i(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: absolute;\n\tbottom: -10px;\n\tleft: calc(50% - 80px);\n\twidth: 160px;\n\theight: 28px;\n\tpadding: 6px calc(var(--margin) / 2);\n\tborder-radius: 14px;\n\tbox-shadow: var(--console-shadow);\n\tfont-size: 0.8em;\n\tbackground-color: var(--invert-color);\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\toverflow: hidden;\n\t&:hover {\n\t\tcolor: var(--console-primary-color);\n\t\tbox-shadow: var(--console-hover-shadow);\n\t}\n\t&[data-expanded=true] {\n\t\t> div:first-child {\n\t\t\tleft: 0;\n\t\t}\n\t\t> div:last-child {\n\t\t\tleft: 160px;\n\t\t}\n\t}\n\t&[data-expanded=false] {\n\t\t> div:first-child {\n\t\t\tleft: -160px;\n\t\t}\n\t\t> div:last-child {\n\t\t\tleft: 0;\n\t\t}\n\t}\n\t> div {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 160px;\n\t\tleft: 0;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\ttransition: all 300ms ease-in-out;\n\t\t> svg {\n\t\t\tmargin-right: calc(var(--margin) / 4);\n\t\t}\n\t}\n"]);return $i=function(){return t},t}function tc(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tposition: relative;\n\tgrid-template-columns: repeat(3, minmax(0, 1fr));\n\tgrid-gap: calc(var(--margin) / 3);\n\tbackground-color: var(--console-home-section-body-bg-color);\n\toverflow: hidden;\n\tpadding: calc(var(--margin) / 3);\n\tborder-radius: calc(var(--margin) / 2);\n\ttransition: all 300ms ease-in-out;\n"]);return tc=function(){return t},t}function nc(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n"]);return nc=function(){return t},t}function ec(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\theight: 3em;\n\tmargin-left: calc(var(--margin) / 3 * -1);\n\tpadding-left: calc(var(--margin) / 3);\n\tpadding-right: var(--margin);\n\tfont-family: var(--console-title-font-family);\n\tfont-size: 1.2em;\n\tfont-weight: var(--font-demi-bold);\n\tcursor: pointer;\n\t&:hover {\n\t\t> svg, > div:last-child {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t\t> svg:first-child {\n\t\t\tpointer-events: auto;\n\t\t\topacity: 1;\n\t\t}\n\t}\n\t> svg:nth-child(2) {\n\t\tmargin-right: calc(var(--margin) / 3);\n\t}\n\t> svg:first-child {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tright: 100%;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\topacity: 0;\n\t\tuser-select: none;\n\t\ttransition: all 300ms ease-in-out;\n\t}\n"]);return ec=function(){return t},t}function rc(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n"]);return rc=function(){return t},t}function oc(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\tflex-direction: column;\n\tmargin-top: var(--margin);\n\ttransition: all 300ms ease-in-out;\n\t&:not(:nth-child(2)) {\n\t\tmargin-top: calc(var(--margin) / 2);\n\t}\n\t&:last-child {\n\t\tmargin-bottom: var(--margin);\n\t}\n\t&[data-visible=false] {\n\t\t> div[data-widget='console-home-section-header'] {\n\t\t\t> div[data-widget='console-home-section-title'] {\n\t\t\t\t> svg:first-child {\n\t\t\t\t\topacity: 1;\n\t\t\t\t\ttransform: translateY(-50%) rotateZ(-90deg);\n\t\t\t\t}\n\t\t\t}\n\t\t\t> div[data-widget='console-home-section-header-operators'] {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t}\n\t\t> div[data-widget='console-home-section-body'] {\n\t\t\tpadding-top: 0;\n\t\t\tpadding-bottom: 0;\n\t\t\theight: 0;\n\t\t}\n\t}\n\t&[data-visible=true][data-can-expand=true] {\n\t\t&[data-expanded=false] {\n\t\t\t> div[data-widget='console-home-section-body'] {\n\t\t\t\theight: calc(var(--margin) / 3 * (2 + ",") + ","px + 18px);\n\t\t\t\t> div:not(:nth-child(-n + 6)) {\n\t\t\t\t\topacity: 0;\n\t\t\t\t\tpointer-events: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t&[data-expanded=true] {\n\t\t\t> div[data-widget='console-home-section-body'] {\n\t\t\t\theight: calc(var(--margin) / 3 * (2 + ",") + ","px + 18px);\n\t\t\t\tpadding-bottom: calc(var(--margin) / 3 + 18px);\n\t\t\t}\n\t\t}\n\t}\n\t> div[data-widget='console-home-section-body'] {\n\t\theight: calc(var(--margin) / 3 * (2 + ",") + ","px);\n\t\t> div {\n\t\t\theight: 64px;\n\t\t}\n\t}\n"]);return oc=function(){return t},t}var ac=l.c.div.attrs({"data-widget":"console-home-section"})(oc(),(function(t){var n=t.itemCount;return Math.ceil(n/3)-1}),(function(t){var n=t.itemCount;return 64*Math.ceil(n/3)}),(function(t){var n=t.itemCount;return Math.ceil(n/3)-1}),(function(t){var n=t.itemCount;return 64*Math.ceil(n/3)}),(function(t){var n=t.itemCount;return Math.ceil(n/3)-1}),(function(t){var n=t.itemCount;return 64*Math.ceil(n/3)})),ic=l.c.div.attrs({"data-widget":"console-home-section-header"})(rc()),cc=l.c.div.attrs({"data-widget":"console-home-section-title"})(ec()),lc=l.c.div(nc()),sc=l.c.div.attrs({"data-widget":"console-home-section-body"})(tc()),dc=l.c.div($i()),uc=function(t){var n=t.title,e=t.titleIcon,r=t.itemCount,i=t.titleOperators,c=t.children,l=Object(a.useState)(!1),s=Object(rt.a)(l,2),d=s[0],u=s[1],f=Object(a.useState)(!1),v=Object(rt.a)(f,2),h=v[0],j=v[1],g=r>6,m=g&&!h?Math.min(r,6):r;return Object(o.jsxs)(ac,{"data-visible":!d,"data-can-expand":g,"data-expanded":h,itemCount:m,children:[Object(o.jsxs)(ic,{children:[Object(o.jsxs)(cc,{onClick:function(){return u(!d)},children:[Object(o.jsx)(p.a,{icon:b.j}),Object(o.jsx)(p.a,{icon:e}),Object(o.jsx)("div",{children:n})]}),Object(o.jsx)(lc,{children:i})]}),Object(o.jsx)(sc,{children:c}),g&&!d?Object(o.jsxs)(dc,{onClick:function(){return j(!h)},"data-expanded":h,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)(p.a,{icon:b.y}),Object(o.jsx)("span",{children:"View Latest"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)(p.a,{icon:b.I}),Object(o.jsx)("span",{children:"View All"})]})]}):null]})};function fc(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tpadding: 6px calc(var(--margin) / 2);\n\tborder-radius: var(--border-radius);\n\tfont-size: 0.8em;\n\topacity: 0.7;\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t&:hover {\n\t\tcolor: var(--console-primary-color);\n\t\tbackground-color: var(--invert-color);\n\t\tbox-shadow: var(--console-hover-shadow);;\n\t}\n\t> svg {\n\t\tmargin-right: calc(var(--margin) / 4);\n\t}\n"]);return fc=function(){return t},t}var bc=l.c.div.attrs({"data-widget":"console-home-section-header-button"})(fc()),pc=function(t){var n=t.space,e=Object(c.g)(),r=Object(w.b)().favorites,a=r.items,i=r.remove,l=r.add,d=function(){return a.find((function(t){return function(t){return t.type===m.b.SPACE}(t)&&t.connectId==n.connectId}))},u=h()(n.lastVisitTime).fromNow(),f=!!d();return Object(o.jsxs)(Ki,{onClick:function(){e.push(Object(s.d)(s.a.CONSOLE_CONNECTED_SPACE,n.connectId))},children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)("span",{children:[Object(o.jsx)(p.a,{icon:n.type===m.f.PUBLIC?b.N:b.x}),Object(o.jsx)("span",{children:u})]}),Object(o.jsx)("span",{children:n.name})]}),Object(o.jsx)(Ji,{toggle:function(t){t.preventDefault(),t.stopPropagation();var e=d();e?i(e):l({type:m.b.SPACE,connectId:n.connectId})},isFavorite:f})]})},vc=function(){var t=Object(c.g)(),n=Object(w.b)(),e=n.spaces.connected,r=n.dashboards.items,a=e.sort((function(t,n){return t.lastVisitTime.localeCompare(n.lastVisitTime)})).reverse();return Object(o.jsxs)(O.a,{"background-image":Wi,children:[Object(o.jsx)(x.a,{title:"Home"}),Object(o.jsx)(uc,{title:"Connected Spaces",titleIcon:b.ob,titleOperators:Object(o.jsxs)(bc,{onClick:function(){return t.push(s.a.CONSOLE_SPACES)},children:[Object(o.jsx)(p.a,{icon:b.ib}),Object(o.jsx)("span",{children:"Connect New Space"})]}),itemCount:a.length,children:a.map((function(t){return Object(o.jsx)(pc,{space:t},"connected-".concat(t.connectId))}))}),Object(o.jsx)(uc,{title:"Dashboards",titleIcon:b.Cb,titleOperators:Object(o.jsxs)(bc,{onClick:function(){return t.push(s.a.CONSOLE_DASHBOARDS)},children:[Object(o.jsx)(p.a,{icon:b.kb}),Object(o.jsx)("span",{children:"Create New Dashboard"})]}),itemCount:r.length,children:r.map((function(t){return Object(o.jsx)(Zi,{data:t},"dashboard-".concat(t.dashboardId))}))})]})},hc=e(390),jc=e(391),gc=e(392),mc=e(393),xc=e(239);function Oc(){var t=Object(r.a)(["\n\tflex-grow: 1;\n"]);return Oc=function(){return t},t}function wc(){var t=Object(r.a)(["\n\tcolor: var(--console-waive-color);\n"]);return wc=function(){return t},t}function Cc(){var t=Object(r.a)(["\n\tdirection: ltr;\n"]);return Cc=function(){return t},t}function yc(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmax-height: calc(var(--console-menu-height) * 5);\n\toverflow-y: scroll;\n\toverflow-x: hidden;\n\tdirection: rtl;\n\t&::-webkit-scrollbar {\n\t\tbackground-color: transparent;\n\t\twidth: 4px;\n\t}\n\t&::-webkit-scrollbar-track {\n\t\tbackground-color: transparent;\n\t\tborder-radius: 2px;\n\t}\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground-color: var(--console-favorite-color);\n\t\tborder-radius: 2px;\n\t}\n\t> div {\n\t\tmargin-left: -4px;\n\t}\n"]);return yc=function(){return t},t}function Ec(){var t=Object(r.a)(["\n\t&[data-active=true] {\n\t\t> div:first-child {\n\t\t\tcolor: var(--console-favorite-color);\n\t\t\tbackground-color: transparent;\n\t\t}\n\t}\n"]);return Ec=function(){return t},t}function Ic(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\tflex-direction: column;\n\talign-items: flex-start;\n\twidth: ",";\n\tmin-width: var(--console-menu-width);\n\theight: 100vh;\n\ttop: 0;\n\tleft: 0;\n\tborder-right: var(--border);\n\tbackground-color: var(--invert-color);\n\toverflow: hidden;\n"]);return Ic=function(){return t},t}var Sc=l.c.div.attrs({"data-widget":"menu-container"})(Ic(),(function(t){var n=t.width;return"".concat(n,"px")})),Tc=Object(l.c)(hc.a)(Ec()),kc=l.c.div(yc()),Nc=Object(l.c)(hc.a)(Cc()),Rc=Object(l.c)(hc.a)(wc()),Lc=l.c.div(Oc()),Ac=function(){var t=Object(c.g)(),n=Object(c.h)(),e=Object(l.e)(),r=e.consoleMenuWidth,i=e.consoleMenuMaxWidth,d=Object(w.b)(),u=d.user,f=d.menu,p=f.menuWidth,v=f.setMenuWidth,h=d.favorites,j=d.spaces,g=j.connected,x=j.addSpaceAddedListener,O=j.removeSpaceAddedListener,C=j.addSpaceDeletedListener,y=j.removeSpaceDeletedListener,E=j.addSpaceRenamedListener,I=j.removeSpaceRenamedListener,S=Object(M.f)();Object(a.useEffect)((function(){return x(S),C(S),E(S),function(){O(S),y(S),I(S)}}),[x,O,C,y,E,I,S]);var T=function(n){return function(){Object(s.b)(n.connectId)||t.push(Object(s.d)(s.a.CONSOLE_CONNECTED_SPACE,n.connectId))}},k=p/r<=1.5;return Object(o.jsxs)(Sc,{width:p,children:[Object(o.jsx)(jc.a,{}),Object(o.jsx)(hc.a,{icon:b.Q,label:"Home",showTooltip:k,active:!!Object(c.f)(n.pathname,s.a.CONSOLE_HOME),onClick:function(){Object(c.f)(n.pathname,s.a.CONSOLE_HOME)||t.push(s.a.CONSOLE_HOME)}}),Object(o.jsx)(hc.a,{icon:b.Cb,label:"Dashboards",showTooltip:k,active:!!Object(c.f)(n.pathname,s.a.CONSOLE_DASHBOARDS),onClick:function(){Object(c.f)(n.pathname,s.a.CONSOLE_DASHBOARDS)||t.push(s.a.CONSOLE_DASHBOARDS)}}),Object(o.jsx)(Tc,{icon:b.Ab,label:"Show Favorites",showTooltip:k,active:h.visible,onClick:function(t){h.visible||h.show(t,!k)}}),Object(o.jsx)(gc.a,{width:p}),Object(o.jsx)(hc.a,{icon:pn.a,label:"Notifications",iconSize:1.2,showTooltip:k,active:!!Object(c.f)(n.pathname,s.a.CONSOLE_NOTIFICATION),onClick:function(){Object(c.f)(n.pathname,s.a.CONSOLE_NOTIFICATION)||t.push(s.a.CONSOLE_NOTIFICATION)}}),Object(o.jsx)(hc.a,{icon:b.S,label:"Inbox",showTooltip:k,active:!!Object(c.f)(n.pathname,s.a.CONSOLE_INBOX),onClick:function(){Object(c.f)(n.pathname,s.a.CONSOLE_INBOX)||t.push(s.a.CONSOLE_INBOX)}}),Object(o.jsx)(hc.a,{icon:pn.e,iconSize:1.2,label:"Show Timeline",showTooltip:k,active:!!Object(c.f)(n.pathname,s.a.CONSOLE_TIMELINE),onClick:function(){Object(c.f)(n.pathname,s.a.CONSOLE_TIMELINE)||t.push(s.a.CONSOLE_TIMELINE)}}),Object(o.jsx)(gc.a,{width:p}),Object(o.jsx)(kc,{children:g.sort((function(t,n){return t.name.localeCompare(n.name)})).map((function(t){return Object(o.jsx)(Nc,{icon:t.type===m.f.PUBLIC?b.N:b.x,label:t.name,showTooltip:k,onClick:T(t)},"space-".concat(t.connectId))}))}),Object(o.jsx)(Rc,{icon:b.jb,iconSize:.8,label:"Connect New Space",showTooltip:k,onClick:function(){Object(c.f)(n.pathname,s.a.CONSOLE_SPACES)||t.push(s.a.CONSOLE_SPACES)}}),Object(o.jsx)(Lc,{}),Object(o.jsx)(gc.a,{width:p}),Object(o.jsx)(hc.a,{icon:b.w,iconSize:1.2,label:"Settings",showTooltip:k,active:!!Object(c.f)(n.pathname,s.a.CONSOLE_SETTINGS),onClick:function(){Object(c.f)(n.pathname,s.a.CONSOLE_SETTINGS)||t.push(s.a.CONSOLE_SETTINGS)}}),Object(o.jsx)(mc.a,{user:u}),Object(o.jsx)(xc.a,{width:p,onResize:function(t){v(Math.min(Math.max(t,r),i))}})]})},Dc=e.p+"static/media/console-inbox-background.ee7d889d.png";function _c(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin: 50px 0;\n\topacity: 0;\n\tuser-select: none;\n\tpointer-events: none;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=true] {\n\t\topacity: 0.7;\n\t}\n"]);return _c=function(){return t},t}var Mc=l.c.div(_c());function Pc(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\tflex-direction: column;\n\tflex-grow: 1;\n"]);return Pc=function(){return t},t}function Fc(){var t=Object(r.a)(["\n\tgrid-row: span 2;\n\tfont-size: 0.8em;\n\topacity: 0.4;\n\talign-self: start;\n\tfont-weight: var(--font-bold);\n"]);return Fc=function(){return t},t}function Hc(){var t=Object(r.a)(["\n"]);return Hc=function(){return t},t}function zc(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 20px;\n\tword-break: break-word;\n"]);return zc=function(){return t},t}function Gc(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr auto;\n\tgrid-column-gap: calc(var(--margin) / 2);\n\tpadding: 20px calc(var(--margin) / 2);\n"]);return Gc=function(){return t},t}function Uc(){var t=Object(r.a)(["\n\topacity: 0;\n\tpointer-events: none;\n\ttransition: all 300ms ease-in-out;\n"]);return Uc=function(){return t},t}function Yc(){var t=Object(r.a)(["\n\tfont-size: 1.4em;\n\tline-height: 1.8em;\n\tfont-weight: var(--font-bold);\n\topacity: 0.9;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tcursor: pointer;\n\t&:hover {\n\t\tcolor: var(--console-primary-color);\n\t}\n"]);return Yc=function(){return t},t}function Bc(){var t=Object(r.a)(["\n\tjustify-self: center;\n\talign-self: center;\n"]);return Bc=function(){return t},t}function Vc(){var t=Object(r.a)(["\n\tborder-bottom: var(--border);\n\tmargin-bottom: -1px;\n\tz-index: 1;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr auto auto;\n\tgrid-column-gap: calc(var(--margin) / 2);\n\talign-items: center;\n\tpadding: calc(var(--margin) / 3) calc(var(--margin) / 2) calc(var(--margin) / 4);\n\tbackground-color: var(--console-message-header-bg-color);\n\toverflow: hidden;\n"]);return Vc=function(){return t},t}function Wc(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\tflex-direction: column;\n\tborder-radius: calc(var(--border-radius));\n\tmargin-top: var(--margin);\n\tbox-shadow: var(--console-shadow);\n\ttransition: all 300ms ease-in-out;\n\t&[data-read=true] {\n\t\tanimation: "," 1s ease-in-out forwards;\n\t}\n\t&:hover {\n\t\tbox-shadow: var(--console-hover-shadow);\n\t\tdiv[data-widget='console-messages-item-operators'] {\n\t\t\topacity: 1;\n\t\t\tpointer-events: auto;\n\t\t}\n\t}\n"]);return Wc=function(){return t},t}function Xc(){var t=Object(r.a)(["\n\t0% {\n\t\tfilter: blur(0);\n\t\topacity: 1;\n\t\ttransform: translateZ(0) scaleY(100%);\n\t\ttransform-origin: top;\n\t}\n\t99% {\n\t\tfilter: blur(100px);\n\t\tmargin-top: 0;\n\t\topacity: 0;\n\t\ttransform: translateZ(0) scaleY(0);\n\t\ttransform-origin: top;\n\t}\n\t100% {\n\t\tdisplay: none;\n\t}\n"]);return Xc=function(){return t},t}var qc,Jc=Object(l.d)(Xc()),Qc=l.c.div.attrs({"data-widget":"console-messages-item"})(Wc(),Jc),Kc=l.c.div(Vc()),Zc=l.c.div(Bc()),$c=l.c.div(Yc()),tl=l.c.div.attrs({"data-widget":"console-messages-item-operators"})(Uc()),nl=l.c.div(Gc()),el=l.c.div(zc()),rl=l.c.div(Hc()),ol=l.c.div(Fc()),al=function(t){var n=t.body,e=t.createDate,r=t.image,a=t.className,i=Object(et.a)(t,["body","createDate","image","className"]);return Object(o.jsxs)(nl,Object(nt.a)(Object(nt.a)({className:a},i),{},{children:[Object(o.jsx)(el,{children:(n||"").split("\n").map((function(t,n){return Object(o.jsx)("span",{children:t},n)}))}),Object(o.jsx)(ol,{children:h()(e).format("MMM D [at] H:mm")}),Object(o.jsx)(rl,{children:r})]}))},il=l.c.div(Pc()),cl=function(t){var n=t.data,e=t.allLoaded,r=t.visible,a=t.noData,i=t.children;return r?Object(o.jsxs)(il,{children:[i,Object(o.jsx)(Mc,{"data-visible":e,children:0===n.length?a:" You've seen it all."})]}):null},ll=e(116),sl=e(394);function dl(){var t=Object(r.a)(["\n\tflex-grow: 1;\n"]);return dl=function(){return t},t}function ul(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t&[data-active=true] {\n\t\t> button {\n\t\t\tcolor: var(--console-primary-color);\n\t\t}\n\t}\n\t&[data-active=false] {\n\t\t> button {\n\t\t\tcolor: var(--console-waive-color);\n\t\t}\n\t}\n\t> button {\n\t\tfont-size: 1.2em;\n\t\tfont-weight: var(--font-bold);\n\t}\n"]);return ul=function(){return t},t}function fl(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tmargin-top: var(--margin);\n\tmargin-left: calc(var(--margin) / 2 * -1);\n"]);return fl=function(){return t},t}!function(t){t.READ="read",t.UNREAD="unread"}(qc||(qc={}));var bl=l.c.div.attrs({"data-widget":"console-messages-tabs"})(fl()),pl=l.c.div(ul()),vl=Object(l.c)(sl.a)(dl()),hl=function(t){var n=t.state,e=t.onUnreadClicked,r=t.onReadClicked,a=t.onClearClicked;return Object(o.jsxs)(bl,{children:[Object(o.jsx)(pl,{"data-active":n.active===qc.UNREAD,children:Object(o.jsx)(vn.a,{onClick:e,children:"Unread"})}),Object(o.jsx)(pl,{"data-active":n.active===qc.READ,children:Object(o.jsx)(vn.a,{onClick:r,children:"Previous"})}),Object(o.jsx)(vl,{visible:!(n.active===qc.UNREAD?n.unreadInitialized:n.readInitialized)}),Object(o.jsxs)(ll.a,{"data-visible":n.active===qc.UNREAD,onClick:a,children:[Object(o.jsx)(p.a,{icon:pn.d}),Object(o.jsx)("span",{children:"Clear All"})]})]})};function jl(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 24px;\n\theight: 24px;\n\tcolor: var(--console-primary-color);\n\tborder-radius: var(--border-radius);\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t","\n"]);return jl=function(){return t},t}var gl=l.c.div(jl(),Object(vn.b)({opacity:.4})),ml=function(t){var n=t.readable,e=t.onRead,r=t.readOne,i=t.tooltip,c=Object(a.useRef)(null),l=Object(lt.c)({show:!0,tooltip:i,rect:function(){return{align:lt.b.CENTER,offsetY:10}},ref:c}),s=l.mouseEnter,d=l.mouseLeave,v=function(){var t=Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(),setTimeout((function(){return r()}),1e3);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n?Object(o.jsx)(gl,{ref:c,onMouseEnter:s,onMouseLeave:d,onClick:v,children:Object(o.jsx)(p.a,{icon:b.q})}):null};function xl(){var t=Object(r.a)(["\n    background-color: var(--console-mail-color);\n"]);return xl=function(){return t},t}var Ol=Object(l.c)(al)(xl()),wl=function(t){var n=t.data,e=t.readable,r=n.subject,i=n.sender,c=n.body,l=n.image,s=n.createDate,d=Object(w.b)(),u=Object(a.useState)(!1),f=Object(rt.a)(u,2),b=f[0],p=f[1];return Object(o.jsxs)(Qc,{"data-read":b,children:[Object(o.jsxs)(Kc,{children:[Object(o.jsx)($c,{children:r}),Object(o.jsx)(tl,{children:Object(o.jsx)(ml,{readable:e,tooltip:"Set as Read",onRead:function(){return p(!0)},readOne:function(){return d.mails.readOne(n)}})}),Object(o.jsx)(Zc,{children:Object(o.jsx)(st.a,{name:i,showTooltip:!0})})]}),Object(o.jsx)(Ol,{body:c,createDate:s,image:l})]})},Cl=function(){var t=Object(c.g)(),n=Object(w.b)(),e=Object(a.useState)({active:qc.UNREAD,readInitialized:!1,unreadInitialized:!1}),r=Object(rt.a)(e,2),i=r[0],l=r[1];Object(a.useEffect)((function(){Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.active!==qc.UNREAD||i.unreadInitialized){t.next=6;break}return t.next=3,n.mails.fetchUnread();case 3:l(Object(nt.a)(Object(nt.a)({},i),{},{unreadInitialized:!0})),t.next=10;break;case 6:if(i.active!==qc.READ||i.readInitialized){t.next=10;break}return t.next=9,n.mails.fetchRead();case 9:l(Object(nt.a)(Object(nt.a)({},i),{},{readInitialized:!0}));case 10:case"end":return t.stop()}}),t)})))()}),[i]);var d=function(t){return function(){t!==i.active&&l(Object(nt.a)(Object(nt.a)({},i),{},{active:t}))}};return Object(o.jsxs)(O.a,{"background-image":Dc,children:[Object(o.jsx)(x.a,{title:"Inbox",onSettingsClicked:function(){return t.push(s.a.CONSOLE_SETTINGS_INBOX)}}),Object(o.jsx)(hl,{state:i,onUnreadClicked:d(qc.UNREAD),onReadClicked:d(qc.READ),onClearClicked:n.mails.readAll}),Object(o.jsx)(cl,{data:n.mails.unread,allLoaded:n.mails.allUnreadLoaded,visible:i.active===qc.UNREAD,noData:"No mails.",children:n.mails.unread.map((function(t,n){return Object(o.jsx)(wl,{data:t,readable:!0},"".concat(t.createDate,"-").concat(n))}))}),Object(o.jsx)(cl,{data:n.mails.read,allLoaded:n.mails.allReadLoaded,visible:i.active===qc.READ,noData:"No mails.",children:n.mails.read.map((function(t,n){return Object(o.jsx)(wl,{data:t,readable:!1},"".concat(t.createDate,"-").concat(n))}))})]})},yl=e.p+"static/media/console-notifications-background.d5531846.png";function El(){var t=Object(r.a)(["\n    background-color: ",";\n"]);return El=function(){return t},t}function Il(){var t=Object(r.a)(["\n\tfont-size: 0.8em;\n\tline-height: 1em;\n\topacity: 0.3;\n\tfont-weight: var(--font-bold);\n"]);return Il=function(){return t},t}function Sl(){var t=Object(r.a)(["\n\tgrid-row: span 2;\n"]);return Sl=function(){return t},t}function Tl(){var t=Object(r.a)(["\n\tgrid-row: span 2;\n"]);return Tl=function(){return t},t}function kl(){var t=Object(r.a)(["\n    grid-template-rows: auto 1fr;\n    grid-row-gap: calc(var(--margin) / 4);\n"]);return kl=function(){return t},t}var Nl,Rl,Ll=Object(l.c)(Kc)(kl()),Al=Object(l.c)(tl)(Tl()),Dl=Object(l.c)(Zc)(Sl()),_l=l.c.div(Il()),Ml=Object(l.c)(al)(El(),(function(t){var n=t["color-type"];return n?"var(--console-notification-color-".concat(n,")"):"unset"})),Pl={CHART_TYPE_PUSHED:"New Chart Type Go Live",SPACE_PUSHED:"New Space Go Live",TOPIC_PUSHED:"New Topic Go Live",FACTOR_PUSHED:"New Factor Go Live",REPORT_PUSHED:"New Report Go Live",GROUP_JOINED:"Group Joined",GROUP_LEFT:"Group Left",SPACE_JOINED:"Space Joined",SPACE_LEFT:"Space Left",SUBSCRIBE_REPORT_CHANGED:"Subscribed Report Definition Changed",SUBSCRIBE_REPORT_DELETED:"Subscribed Report Deleted"},Fl=function(t){switch(t){case m.c.CHART_TYPE_PUSHED:return 1;case m.c.SPACE_PUSHED:case m.c.TOPIC_PUSHED:case m.c.FACTOR_PUSHED:return 2;case m.c.REPORT_PUSHED:return 3;case m.c.GROUP_JOINED:case m.c.GROUP_LEFT:case m.c.SPACE_JOINED:case m.c.SPACE_LEFT:return 4;case m.c.SUBSCRIBE_REPORT_CHANGED:case m.c.SUBSCRIBE_REPORT_DELETED:default:return}},Hl=function(t){var n=t.data,e=t.readable,r=n.subject,i=n.category,c=n.sender,l=n.body,s=n.image,d=n.createDate,u=Object(w.b)(),f=Object(a.useState)(!1),b=Object(rt.a)(f,2),p=b[0],v=b[1];return Object(o.jsxs)(Qc,{"data-read":p,children:[Object(o.jsxs)(Ll,{children:[Object(o.jsx)(_l,{children:Pl[i]}),Object(o.jsx)(Al,{children:Object(o.jsx)(ml,{readable:e,tooltip:"Clear Notification",onRead:function(){return v(!0)},readOne:function(){return u.notifications.readOne(n)}})}),Object(o.jsx)(Dl,{children:Object(o.jsx)(st.a,{name:c,showTooltip:!0})}),Object(o.jsx)($c,{children:r})]}),Object(o.jsx)(Ml,{body:l,createDate:d,image:s,"color-type":Fl(i)})]})},zl=function(){var t=Object(c.g)(),n=Object(w.b)(),e=Object(a.useState)({active:qc.UNREAD,readInitialized:!1,unreadInitialized:!1}),r=Object(rt.a)(e,2),i=r[0],l=r[1];Object(a.useEffect)((function(){Object(f.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.active!==qc.UNREAD||i.unreadInitialized){t.next=6;break}return t.next=3,n.notifications.fetchUnread();case 3:l(Object(nt.a)(Object(nt.a)({},i),{},{unreadInitialized:!0})),t.next=10;break;case 6:if(i.active!==qc.READ||i.readInitialized){t.next=10;break}return t.next=9,n.notifications.fetchRead();case 9:l(Object(nt.a)(Object(nt.a)({},i),{},{readInitialized:!0}));case 10:case"end":return t.stop()}}),t)})))()}),[i]);var d=function(t){return function(){t!==i.active&&l(Object(nt.a)(Object(nt.a)({},i),{},{active:t}))}};return Object(o.jsxs)(O.a,{"background-image":yl,children:[Object(o.jsx)(x.a,{title:"Notifications",onSettingsClicked:function(){return t.push(s.a.CONSOLE_SETTINGS_NOTIFICATION)}}),Object(o.jsx)(hl,{state:i,onUnreadClicked:d(qc.UNREAD),onReadClicked:d(qc.READ),onClearClicked:n.mails.readAll}),Object(o.jsx)(cl,{data:n.notifications.unread,allLoaded:n.notifications.allUnreadLoaded,visible:i.active===qc.UNREAD,noData:"No notifications.",children:n.notifications.unread.map((function(t,n){return Object(o.jsx)(Hl,{data:t,readable:!0},"".concat(t.createDate,"-").concat(n))}))}),Object(o.jsx)(cl,{data:n.notifications.read,allLoaded:n.notifications.allReadLoaded,visible:i.active===qc.READ,noData:"No notifications.",children:n.notifications.read.map((function(t,n){return Object(o.jsx)(Hl,{data:t,readable:!1},"".concat(t.createDate,"-").concat(n))}))})]})},Gl=e(395);function Ul(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tposition: relative;\n\tgrid-template-columns: auto 1fr auto auto;\n\tgrid-template-rows: auto 1fr;\n\talign-items: center;\n\tpadding: calc(var(--margin) * 0.25) calc(var(--margin) * 0.5) calc(var(--margin) * 0.25) calc(var(--margin) * 0.75);\n\tborder-radius: var(--border-radius);\n\tbackground-color: var(--console-primary-color);\n\tcolor: var(--invert-color);\n\tcursor: pointer;\n\t> svg {\n\t\tgrid-row: span 2;\n\t\talign-self: center;\n\t\tfont-size: 1.4em;\n\t\tmargin-right: calc(var(--margin) * 0.75);\n\t}\n\t> div:nth-child(2) {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\theight: 22px;\n\t\t> div:first-child {\n\t\t\ttransform: scale(0.7);\n\t\t\ttransform-origin: left center;\n\t\t}\n\t\t> span {\n\t\t\tfont-size: 0.8em;\n\t\t\tfont-weight: var(--font-bold);\n\t\t}\n\t}\n\t> div:nth-child(3) {\n\t\tfont-size: 0.8em;\n\t\tfont-weight: var(--font-bold);\n\t\topacity: 0.7;\n\t}\n\t> div:nth-child(4) {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tfont-size: 0.8em;\n\t\topacity: 0.7;\n\t\twidth: calc(var(--margin) / 2);\n\t\theight: calc(var(--margin) / 2);\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-left: calc(var(--margin) / 2);\n\t\t","\n\t}\n\t> div:last-child {\n\t\tgrid-column: span 3;\n\t\theight: 1.8em;\n\t    line-height: 2em;\n\t    white-space: nowrap;\n\t    overflow: hidden;\n\t    text-overflow: ellipsis;\n\t    width: 300px;\n\t}\n"]);return Ul=function(){return t},t}function Yl(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: fixed;\n\tz-index: 1000;\n\tbottom: calc(var(--margin) / 2);\n\tright: -500px;\n\t&[data-show=true] {\n\t\tanimation: "," 8s ease-in-out forwards;\n\t}\n\t&[data-show=close] {\n\t\tbottom: -200px;\n\t\ttransition: all 300ms ease-in-out;\n\t\tright: 64px;\n\t}\n"]);return Yl=function(){return t},t}function Bl(){var t=Object(r.a)(["\n\t0%, 100% {\n\t\tright: -500px;\n\t\topacity: 0;\n\t\ttransform: translateZ(0);\n\t}\n\t5%, 90% {\n\t\tfilter: blur(0);\n\t\tright: 64px;\n\t\topacity: 1;\n\t\ttransform: translateZ(0);\n\t}\n\t99% {\n\t\tfilter: blur(40px);\n\t\tright: 64px;\n\t\topacity: 0;\n\t\ttransform: translateZ(0);\n\t}\n"]);return Bl=function(){return t},t}!function(t){t[t.NOTIFICATION=0]="NOTIFICATION",t[t.MAIL=1]="MAIL"}(Nl||(Nl={})),function(t){t.TRUE="true",t.FALSE="false",t.CLOSE="close"}(Rl||(Rl={}));var Vl=Object(l.d)(Bl()),Wl=l.c.div.attrs({"data-widget":"console-messenger"})(Yl(),Vl),Xl=l.c.div(Ul(),Object(vn.b)({opacity:.4})),ql=function(){var t,n,e,r,i=Object(w.b)(),c=Object(a.useState)(null),l=Object(rt.a)(c,2),s=l[0],d=l[1],u=Object(a.useState)({visible:Rl.FALSE}),f=Object(rt.a)(u,2),v=f[0],j=f[1];Object(a.useEffect)((function(){var t=function(t){j({visible:Rl.TRUE,type:Nl.NOTIFICATION,content:t}),s&&clearTimeout(s),d(setTimeout((function(){return j({visible:Rl.FALSE})}),8e3))};return i.notifications.on(Gl.a.LATEST_RECEIVED,t),function(){i.notifications.off(Gl.a.LATEST_RECEIVED,t)}}));return Object(o.jsx)(Wl,{"data-show":v.visible,children:Object(o.jsxs)(Xl,{children:[Object(o.jsx)(p.a,{icon:b.g}),Object(o.jsxs)("div",{children:[Object(o.jsx)(st.a,{name:(null===(t=v.content)||void 0===t?void 0:t.sender)||""}),Object(o.jsx)("span",{children:null===(n=v.content)||void 0===n?void 0:n.sender})]}),Object(o.jsx)("div",{children:h()(null===(e=v.content)||void 0===e?void 0:e.createDate).format("MMM D [at] H:mm")}),Object(o.jsx)("div",{onClick:function(){s&&clearTimeout(s),d(null),j({visible:Rl.CLOSE})},children:Object(o.jsx)(p.a,{icon:b.Gb})}),Object(o.jsx)("div",{children:null===(r=v.content)||void 0===r?void 0:r.subject})]})})},Jl=e.p+"static/media/console-settings-background.dde8800a.png",Ql=e(183);function Kl(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: auto auto 1fr;\n\talign-items: center;\n\tmargin-top: calc(var(--margin) / 2);\n\tpadding-bottom: calc(var(--margin) / 3);\n\tborder-bottom: var(--border);\n\t> span:first-child {\n\t\tmargin-right: calc(var(--margin) / 3);\n\t}\n\t> div[data-widget=dropdown] {\n\t\tcolor: var(--console-font-color);\n\t\twidth: 200px;\n\t}\n"]);return Kl=function(){return t},t}function Zl(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tfont-family: var(--console-title-font-family);\n\tfont-size: 1.5em;\n\t&:before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: -16px;\n\t\twidth: 8px;\n\t\theight: 10px;\n\t\ttransform: translateY(-50%);\n\t\tbackground-color: var(--console-primary-color);\n\t\tborder-top-right-radius: 50%;\n\t\tborder-bottom-right-radius: 50%;\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t\ttransition: all 300ms ease-in-out;\n\t}\n"]);return Zl=function(){return t},t}function $l(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-top: calc(var(--margin) / 2);\n\t&:hover {\n\t\t> div[data-widget='console-settings-item-title'] {\n\t\t\t:before {\n\t\t\t\topacity: 0.5;\n\t\t\t}\n\t\t}\n\t}\n"]);return $l=function(){return t},t}function ts(){var t=Object(r.a)(["\n\tfont-family: var(--console-title-font-family);\n\tfont-size: 1.5em;\n\tmargin-top: var(--margin);\n"]);return ts=function(){return t},t}l.c.div(ts());var ns=l.c.div.attrs({"data-widget":"console-settings-item"})($l()),es=l.c.div.attrs({"data-widget":"console-settings-item-title"})(Zl()),rs=l.c.div(Kl()),os=function(){var t=Object(a.useState)(Ql.a.MIN_5),n=Object(rt.a)(t,2),e=n[0],r=n[1],i=function(){var t=Object(f.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(n.value);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(a.Fragment,{children:Object(o.jsxs)(ns,{children:[Object(o.jsx)(es,{children:"Auto Save"}),Object(o.jsxs)(rs,{children:[Object(o.jsx)("span",{children:"Every"}),Object(o.jsx)(uo.a,{options:Ql.b,onChange:i,value:e})]})]})})},as=function(){var t=Object(w.b)().settings,n=t.mailFrequency,e=t.mailFrequencyChanged,r=function(){var t=Object(f.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(n.value);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsx)(a.Fragment,{children:Object(o.jsxs)(ns,{children:[Object(o.jsx)(es,{children:"Mail Check Frequency"}),Object(o.jsxs)(rs,{children:[Object(o.jsx)("span",{children:"Every"}),Object(o.jsx)(uo.a,{options:Ql.b,onChange:r,value:n})]})]})})};function is(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-top: calc(var(--margin) / 2);\n\t> div {\n\t\tdisplay: flex;\n\t\theight: 48px;\n\t\tborder-bottom: var(--border);\n\t\t&:first-child {\n\t\t\tfont-family: var(--console-title-font-family);\n\t\t\tfont-weight: var(--font-demi-bold);\n\t\t\tborder-width: calc(var(--border-width) * 2);\n\t\t}\n\t\t> div:first-child {\n\t\t\tdisplay: flex;\n\t\t\tflex-grow: 1;\n\t\t\talign-items: center;\n\t\t}\n\t\t> div:last-child {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\twidth: 180px;\n\t\t\t&[data-checked=true] {\n\t\t\t\t> svg {\n\t\t\t\t\topacity: 1;\n\t\t\t\t\tcolor: var(--console-primary-color);\n\t\t\t\t}\n\t\t\t}\n\t\t\t> svg {\n\t\t\t\tmargin-left: calc(var(--margin) / 3);\n\t\t\t\tfont-size: 1.4em;\n\t\t\t\topacity: 0.6;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all 300ms ease-in-out;\n\t\t\t}\n\t\t}\n\t}\n"]);return is=function(){return t},t}var cs=l.c.div(is()),ls=[{type:m.c.CHART_TYPE_PUSHED,label:"New chart type published."},{type:m.c.SPACE_PUSHED,label:"New space published."},{type:m.c.TOPIC_PUSHED,label:"New topic published"},{type:m.c.FACTOR_PUSHED,label:"New factor published."},{type:m.c.REPORT_PUSHED,label:"New report published."},{type:m.c.GROUP_JOINED,label:"Someone joined your group."},{type:m.c.GROUP_LEFT,label:"Someone left your group."},{type:m.c.SPACE_JOINED,label:"Someone connected space."},{type:m.c.SPACE_LEFT,label:"Someone disconnected space."},{type:m.c.SUBSCRIBE_REPORT_CHANGED,label:"Subscribed report changed."},{type:m.c.SUBSCRIBE_REPORT_DELETED,label:"Subscribed report deleted."}],ss=function(){var t=Object(w.b)().settings,n=t.notificationFrequency,e=t.notificationSubscriptionCategories,r=t.notificationFrequencyChanged,i=t.notificationCategorySubscriptionAdded,c=t.notificationCategorySubscriptionRemoved,l=function(){var t=Object(f.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(n.value);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(o.jsxs)(a.Fragment,{children:[Object(o.jsxs)(ns,{children:[Object(o.jsx)(es,{children:"Subscribed Notifications"}),Object(o.jsxs)(cs,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:"Notification Type"}),Object(o.jsx)("div",{children:"Subscribe?"})]}),ls.map((function(t){var n,r=e.some((function(n){return n===t.type}));return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:t.label}),Object(o.jsx)("div",{"data-checked":r,children:Object(o.jsx)(p.a,{icon:b.q,onClick:(n=t.type,function(){e.includes(n)?c(n):i(n)})})})]},t.type)}))]})]}),Object(o.jsxs)(ns,{children:[Object(o.jsx)(es,{children:"Notification Check Frequency"}),Object(o.jsxs)(rs,{children:[Object(o.jsx)("span",{children:"Every"}),Object(o.jsx)(uo.a,{options:Ql.b,onChange:l,value:n})]})]})]})};function ds(){var t=Object(r.a)(["\n\tmargin-bottom: 100px;\n"]);return ds=function(){return t},t}var us=l.c.div(ds()),fs=function(){return Object(o.jsxs)(O.a,{"background-image":Jl,children:[Object(o.jsx)(x.a,{title:"Settings"}),Object(o.jsx)(ss,{}),Object(o.jsx)(as,{}),Object(o.jsx)(os,{}),Object(o.jsx)(us,{})]})},bs=e.p+"static/media/console-timeline-background.f4292043.png",ps=function(){return Object(o.jsxs)(O.a,{"background-image":bs,children:[Object(o.jsx)(x.a,{title:"Timeline"}),Object(o.jsx)("div",{style:{marginTop:50,fontSize:"2em",opacity:.5},children:"Coming soon..."})]})};function vs(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tcolor: var(--console-font-color);\n\t--toggle-negative-slider-color: var(--border-color);\n\t--toggle-positive-bg-color: var(--console-primary-color);\n\t--toggle-negative-bg-color: transparent;\n\t--toggle-positive-border-color: var(--console-primary-color);\n\t--toggle-negative-border-color: var(--border-color);\n\t> main {\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\theight: 100vh;\n\t\toverflow-y: scroll;\n\t}\n\t> div[data-widget='console-favorite-container'][data-pinned=true] + main {\n\t\tmargin-top: var(--console-favorite-pinned-height);\n\t\theight: calc(100vh - var(--console-favorite-pinned-height));\n\t}\n"]);return vs=function(){return t},t}var hs=l.c.div.attrs({"data-widget":"console-container"})(vs());n.default=function(){return Object(o.jsx)(w.a,{children:Object(o.jsxs)(hs,{children:[Object(o.jsx)(Ac,{}),Object(o.jsx)(Vi,{}),Object(o.jsx)("main",{children:Object(o.jsxs)(c.d,{children:[Object(o.jsx)(c.b,{path:s.a.CONSOLE_HOME,children:Object(o.jsx)(vc,{})}),Object(o.jsx)(c.b,{path:s.a.CONSOLE_CONNECTED_SPACE,children:Object(o.jsx)(vi,{})}),Object(o.jsx)(c.b,{path:s.a.CONSOLE_DASHBOARDS,children:Object(o.jsx)(Fi,{})}),Object(o.jsx)(c.b,{path:s.a.CONSOLE_SPACES,children:Object(o.jsx)(_,{})}),Object(o.jsx)(c.b,{path:s.a.CONSOLE_INBOX,children:Object(o.jsx)(Cl,{})}),Object(o.jsx)(c.b,{path:s.a.CONSOLE_NOTIFICATION,children:Object(o.jsx)(zl,{})}),Object(o.jsx)(c.b,{path:s.a.CONSOLE_SETTINGS,children:Object(o.jsx)(fs,{})}),Object(o.jsx)(c.b,{path:s.a.CONSOLE_TIMELINE,children:Object(o.jsx)(ps,{})}),Object(o.jsx)(c.b,{path:"*",children:Object(o.jsx)(c.a,{to:s.a.CONSOLE_HOME})})]})}),Object(o.jsx)(ql,{})]})})}}}]);
//# sourceMappingURL=console.367dcdd6.chunk.js.map