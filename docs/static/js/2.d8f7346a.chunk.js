(this["webpackJsonpwatchmen-panels"]=this["webpackJsonpwatchmen-panels"]||[]).push([[2],{101:function(t,n,e){"use strict";e.d(n,"i",(function(){return b})),e.d(n,"g",(function(){return m})),e.d(n,"a",(function(){return h})),e.d(n,"l",(function(){return g})),e.d(n,"d",(function(){return j})),e.d(n,"b",(function(){return E})),e.d(n,"e",(function(){return y})),e.d(n,"m",(function(){return w})),e.d(n,"c",(function(){return I})),e.d(n,"f",(function(){return T})),e.d(n,"n",(function(){return S})),e.d(n,"k",(function(){return C})),e.d(n,"j",(function(){return R})),e.d(n,"h",(function(){return A}));var r=e(9),a=e(19),o=e.n(a),i=e(23),c=e(16),s=e.n(c),u=e(26),d=e(30),l=e(70),f=[{topicId:"1",code:"quotation",name:"Quotation",factors:[{factorId:"101",name:"quotationId",label:"Quotation Sequence",type:l.g.SEQUENCE},{factorId:"102",name:"quoteNo",label:"Quotation No.",type:l.g.TEXT},{factorId:"103",name:"quoteDate",label:"Quotation Create Date",type:l.g.DATETIME},{factorId:"104",name:"policyHolderId",label:"Policy Holder Id",type:l.g.SEQUENCE},{factorId:"105",name:"premium",label:"Premium",type:l.g.NUMBER},{factorId:"106",name:"issued",label:"Issued",type:l.g.BOOLEAN}]},{topicId:"2",code:"policy",name:"Policy",factors:[{factorId:"201",name:"policyId",label:"Policy Sequence",type:l.g.SEQUENCE},{factorId:"202",name:"quotationNo",label:"Quotation No.",type:l.g.TEXT},{factorId:"203",name:"quoteDate",label:"Quotation Create Date",type:l.g.DATETIME},{factorId:"204",name:"policyNo",label:"Policy No.",type:l.g.TEXT},{factorId:"205",name:"issueDate",label:"Policy Issue Date",type:l.g.DATETIME},{factorId:"206",name:"policyHolderId",label:"Policy Holder Id",type:l.g.SEQUENCE},{factorId:"207",name:"premium",label:"Premium",type:l.g.NUMBER}]},{topicId:"3",code:"participant",name:"Participant",factors:[{factorId:"301",name:"participantId",label:"Participant Sequence",type:l.g.SEQUENCE},{factorId:"302",name:"firstName",label:"First Name",type:l.g.TEXT},{factorId:"303",name:"lastName",label:"Last Name",type:l.g.TEXT},{factorId:"304",name:"fullName",label:"Full Name",type:l.g.TEXT},{factorId:"305",name:"dateOfBirth",label:"Birth Date",type:l.g.DATETIME},{factorId:"306",name:"gender",label:"Gender",type:l.g.ENUM,enum:JSON.stringify([{value:"F",label:"Female"},{value:"M",label:"Male"}])},{factorId:"307",name:"city",label:"City",type:l.g.ENUM,enum:JSON.stringify([{value:"AU",label:"Augusta"},{value:"BO",label:"Boston"},{value:"CO",label:"Concord"},{value:"HA",label:"Hartford"},{value:"MO",label:"Montpelier"},{value:"NY",label:"New York"},{value:"PR",label:"Providence"}])}]}],p=[{relationId:"1",sourceTopicId:"2",sourceFactorNames:["quotationNo"],targetTopicId:"1",targetFactorNames:["quoteNo"],type:l.h.ONE_2_ONE,strictToTarget:!0,strictToSource:!1},{relationId:"2",sourceTopicId:"2",sourceFactorNames:["policyHolderId"],targetTopicId:"3",targetFactorNames:["participantId"],type:l.h.MANY_2_ONE,strictToTarget:!0,strictToSource:!1},{relationId:"3",sourceTopicId:"1",sourceFactorNames:["policyHolderId"],targetTopicId:"3",targetFactorNames:["participantId"],type:l.h.MANY_2_ONE,strictToTarget:!0,strictToSource:!1}],b=function(){var t=Object(i.a)(o.a.mark((function t(){var n,e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=4;break}return t.abrupt("return",[{spaceId:"1",connectId:"1",name:"Sales Statistics",type:l.f.PUBLIC,lastVisitTime:"2020/10/31 14:23:07",topics:f,topicRelations:p,groups:[],subjects:[]},{spaceId:"1",connectId:"2",name:"Sales Statistics in New York",type:l.f.PRIVATE,lastVisitTime:"2020/11/05 15:14:11",topics:f,topicRelations:p,subjects:[{subjectId:"1",name:"Premium Summary",topicCount:3,graphicsCount:2,lastVisitTime:"2020/11/12 20:20:01",createdAt:"2020/11/12 19:20:02",dataset:{columns:[{topicId:"1",factorId:"102"},{topicId:"1",factorId:"103"},{topicId:"1",factorId:"106"},{topicId:"2",factorId:"204"},{topicId:"2",factorId:"205"},{topicId:"2",factorId:"207"},{topicId:"3",factorId:"304"},{topicId:"3",factorId:"305"},{topicId:"3",factorId:"306"},{topicId:"3",factorId:"307"}]}},{subjectId:"2",name:"District Summary",topicCount:2,graphicsCount:1,lastVisitTime:"2020/11/02 20:25:01",createdAt:"2020/11/01 19:25:02"}],groups:[{groupId:"1",name:"All About Money",subjects:[{subjectId:"101",name:"Premium Summary",topicCount:1,graphicsCount:1,lastVisitTime:"2020/11/12 20:25:01",createdAt:"2020/11/12 19:25:02"}]},{groupId:"2",name:"All About Time",subjects:[{subjectId:"201",name:"Premium Summary",topicCount:2,graphicsCount:1,lastVisitTime:"2020/11/12 20:25:01",createdAt:"2020/11/12 19:25:02"}]},{groupId:"3",name:"All About Gender",subjects:[{subjectId:"301",name:"Premium Summary",topicCount:2,graphicsCount:1,lastVisitTime:"2020/8/31 20:25:01",createdAt:"2020/8/21 19:25:02"}]},{groupId:"4",name:"All About Age",subjects:[{subjectId:"401",name:"Premium Summary",topicCount:2,graphicsCount:1,lastVisitTime:"2019/11/12 20:25:01",createdAt:"2019/11/12 19:25:02"}]}]},{spaceId:"1",connectId:"3",name:"Sales Statistics in Maine",type:l.f.PRIVATE,lastVisitTime:"2020/11/05 14:13:11",topics:f,topicRelations:p,groups:[],subjects:[]},{spaceId:"1",connectId:"4",name:"Sales Statistics in New Hampshire",type:l.f.PUBLIC,lastVisitTime:"2020/11/05 13:12:11",topics:f,topicRelations:p,groups:[],subjects:[]},{spaceId:"1",connectId:"5",name:"Sales Statistics in Vermont",type:l.f.PUBLIC,lastVisitTime:"2020/11/05 12:11:11",topics:f,topicRelations:p,groups:[],subjects:[]},{spaceId:"1",connectId:"6",name:"Sales Statistics in Rhode Island",type:l.f.PRIVATE,lastVisitTime:"2020/11/05 11:10:11",topics:f,topicRelations:p,groups:[],subjects:[]},{spaceId:"1",connectId:"7",name:"Sales Statistics in Connecticut",type:l.f.PRIVATE,lastVisitTime:"2020/11/05 10:09:11",topics:f,topicRelations:p,groups:[],subjects:[]},{spaceId:"1",connectId:"8",name:"Sales Statistics in Massachusetts",type:l.f.PUBLIC,lastVisitTime:"2020/11/05 09:08:11",topics:f,topicRelations:p,groups:[],subjects:[]}]);case 4:return n=Object(u.b)(),t.next=7,fetch("".concat(Object(d.a)(),"console_space/connected/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});case 7:return e=t.sent,t.next=10,e.json();case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(i.a)(o.a.mark((function t(){var n,e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=4;break}return t.abrupt("return",[{spaceId:"1",name:"Sales Statistics",topics:f,topicRelations:p},{spaceId:"2",name:"Claim Trend",topics:f}]);case 4:return n=Object(u.b)(),t.next=7,fetch("".concat(Object(d.a)(),"space/available"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});case 7:return e=t.sent,t.next=10,e.json();case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=1e4,h=function(){var t=Object(i.a)(o.a.mark((function t(n,e,r){var a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=4;break}return t.abrupt("return",new Promise((function(t){setTimeout((function(){t({spaceId:n,connectId:"".concat(v++),name:e,type:r,lastVisitTime:s()().format("YYYY-MM-DD HH:mm:ss"),topics:f,topicRelations:p,groups:[],subjects:[]})}),1e3)})));case 4:return a=Object(u.b)(),t.next=7,fetch("".concat(Object(d.a)(),"space/connect?space_id=").concat(n,"&name=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});case 7:return i=t.sent,t.next=10,i.json();case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(o.a.mark((function t(n,e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=4;break}console.log("rename mock service"),t.next=7;break;case 4:return r=Object(u.b)(),t.next=7,fetch("".concat(Object(d.a)(),"console_space/rename?connect_id=").concat(n,"&name=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});case 7:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),j=function(){var t=Object(i.a)(o.a.mark((function t(n){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=4;break}console.log("detele connect space mock service"),t.next=7;break;case 4:return e=Object(u.b)(),t.next=7,fetch("".concat(Object(d.a)(),"console_space/delete?connect_id=").concat(n.connectId),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}});case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),O=1e4,x=1e4,E=function(){var t=Object(i.a)(o.a.mark((function t(n){var e,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=4;break}n.group.groupId="".concat(O++),t.next=12;break;case 4:return e=Object(u.b)(),t.next=7,fetch("".concat(Object(d.a)(),"console_space/group?connect_id=").concat(n.space.connectId),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(n.group)});case 7:return r=t.sent,t.next=10,r.json();case 10:a=t.sent,n.group.groupId=a.groupId;case 12:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),y=function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),w=function(){var t=Object(i.a)(o.a.mark((function t(n,e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=4;break}console.log("rename mock service"),t.next=7;break;case 4:return r=Object(u.b)(),t.next=7,fetch("".concat(Object(d.a)(),"console_space/group/rename?group_id=").concat(n,"&name=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});case 7:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),I=function(){var t=Object(i.a)(o.a.mark((function t(n){var e,r,a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=4;break}n.subject.subjectId="".concat(x++),t.next=13;break;case 4:return r=Object(u.b)(),t.next=7,fetch("".concat(Object(d.a)(),"console_space/subject?connect_id=").concat(n.space.connectId,"&group_id=").concat(null===(e=n.group)||void 0===e?void 0:e.groupId),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(n.subject)});case 7:return a=t.sent,t.next=10,a.json();case 10:i=t.sent,console.log(i),n.subject.subjectId=i.subjectId;case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),T=function(){var t=Object(i.a)(o.a.mark((function t(n){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=4;break}console.log("delete mock subject"),t.next=7;break;case 4:return e=Object(u.b)(),t.next=7,fetch("".concat(Object(d.a)(),"console_space/subject/delete?subject_id=").concat(n.subjectId),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}});case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),S=function(){var t=Object(i.a)(o.a.mark((function t(n){var e,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=4;break}return t.abrupt("return",new Promise((function(t){setTimeout((function(){return t()}),500)})));case 4:return e=Object(u.b)(),t.next=7,fetch("".concat(Object(d.a)(),"console_space/subject/save"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(n)});case 7:return r=t.sent,t.next=10,r.json();case 10:a=t.sent,console.log(a);case 12:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),C=function(){var t=Object(i.a)(o.a.mark((function t(n){var e,r,a,i,c,l,f;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.pageNumber,r=void 0===e?1:e,a=n.pageSize,i=void 0===a?100:a,!Object(d.b)()){t.next=5;break}return t.abrupt("return",new Promise((function(t){setTimeout((function(){t({itemCount:223,pageNumber:r,pageSize:i,pageCount:3,data:new Array(3===r?23:100).fill(1).map((function(t,n){var e="".concat((r-1)*i+n+1).padStart(5,"0"),a=s()().subtract(1,"year").subtract(Math.floor(30*Math.random()),"day"),o=a.add(Math.floor(30*Math.random()),"day");return["Q".concat(e),a.format("YYYY/MM/DD"),!0,"P".concat(e),o.format("YYYY/MM/DD"),1e4,"John Doe","1985/02/13","M","AU"]}))})}),1e3)})));case 5:return c=Object(u.b)(),t.next=8,fetch("".concat(Object(d.a)(),"console_space/subject/dataset?subject_id=").concat(n.subjectId),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c},body:JSON.stringify({pageNumber:n.pageNumber,pageSize:n.pageSize})});case 8:return l=t.sent,t.next=11,l.json();case 11:return f=t.sent,t.abrupt("return",f);case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),R=function(){var t=Object(i.a)(o.a.mark((function t(n,e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){return t({meta:[],data:[[1234]]})}),500)})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),D=function(t){return new Promise((function(n){setTimeout((function(){return n({meta:[],data:(t||[{query:"SELECT * FROM monitor_pipeline ORDER BY complete_time DESC LIMIT 10",state:"FINISHED",executionTime:"944.49ms",rawInputPositions:95},{query:"SELECT * FROM monitor_pipeline ORDER BY complete_time DESC LIMIT 10",state:"FINISHED",executionTime:"174.35ms",rawInputPositions:95},{query:'SELECT COUNT(*) FROM "topic_gi_policy"',state:"FINISHED",executionTime:"225.28ms",rawInputPositions:163},{query:"SELECT * FROM monitor_pipeline ORDER BY complete_time DESC LIMIT 10",state:"FINISHED",executionTime:"156.01ms",rawInputPositions:95},{query:'SELECT MAX("beforeVatPremium") FROM "topic_gi_policy" GROUP BY "orgCode"',state:"FINISHED",executionTime:"644.57ms",rawInputPositions:163},{query:"SELECT * FROM monitor_pipeline ORDER BY complete_time DESC LIMIT 10",state:"FINISHED",executionTime:"103.83ms",rawInputPositions:95},{query:'SELECT "adjustedPremium","commission","beforeVatPremium","duePremium","commissionRate","agentCode","productCode","effDateMonth" FROM "topic_gi_policy" OFFSET 1 LIMIT 100',state:"FINISHED",executionTime:"329.57ms",rawInputPositions:163},{query:'SELECT MAX("beforeVatPremium") FROM "topic_gi_policy" GROUP BY "orgCode"',state:"FINISHED",executionTime:"127.72ms",rawInputPositions:163},{query:"SELECT * FROM monitor_pipeline ORDER BY complete_time DESC LIMIT 10",state:"FINISHED",executionTime:"95.80ms",rawInputPositions:95}]).filter((function(t){return!t.query.toUpperCase().startsWith("SELECT * FROM MONITOR_PIPELINE")})).map((function(t){return[t.query,t.executionTime]})).map((function(t){var n=Object(r.a)(t,2),e=n[0],a=n[1],o=e.split(" "),i=o.findIndex((function(t){return"from"===t.toLowerCase()})),c=o[i+1].replace(/"/g,"").trim().toUpperCase();return[parseFloat(a),c]})).sort((function(t,n){var e=Object(r.a)(t,1)[0];return Object(r.a)(n,1)[0]-e}))})}),500)}))},k=function(t){return new Promise((function(n){setTimeout((function(){return n({meta:[],data:(t||[[18.886,"FINISHED","Raw_gi_poliocy"],[18.351,"FINISHED","Raw_gi_poliocy"],[18.141,"FINISHED","Raw_gi_poliocy"],[15.892,"FINISHED","Raw_gi_poliocy"],[14.99,"FINISHED","Raw_gi_poliocy"],[14.92,"FINISHED","Raw_gi_poliocy"],[14.67,"FINISHED","Raw_gi_poliocy"],[14.418,"FINISHED","Raw_gi_poliocy"],[14.321,"FINISHED","Raw_gi_poliocy"],[13.876,"FINISHED","Raw_gi_poliocy"]]).map((function(t){var n=Object(r.a)(t,3);return[n[0],n[2].toUpperCase()]})).sort((function(t,n){var e=Object(r.a)(t,1)[0];return Object(r.a)(n,1)[0]-e}))})}),500)}))},A=function(){var t=Object(i.a)(o.a.mark((function t(n,e){var r,a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(d.b)()){t.next=10;break}if("SYS_001"!==n||"TOP_10_SQL"!==e){t.next=5;break}return t.abrupt("return",D());case 5:if("SYS_001"!==n||"TOP_10_SLOW_PIPELINE"!==e){t.next=7;break}return t.abrupt("return",k());case 7:return t.abrupt("return",new Promise((function(t){setTimeout((function(){return t({meta:[],data:[]})}),500)})));case 10:return r=Object(u.b)(),t.next=13,fetch("".concat(Object(d.a)(),"console_space/dataset/chart?subject_id=").concat(n,"&chart_id=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});case 13:return a=t.sent,t.next=16,a.json();case 16:if(i=t.sent,"SYS_001"!==n||"TOP_10_SQL"!==e){t.next=23;break}return t.next=20,D(i.data);case 20:i=t.sent,t.next=27;break;case 23:if("SYS_001"!==n||"TOP_10_SLOW_PIPELINE"!==e){t.next=27;break}return t.next=26,k(i.data);case 26:i=t.sent;case 27:return t.abrupt("return",i);case 28:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()},107:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e(3),a=e(0),o=e(18),i=e(14),c=(e(1),e(2)),s=e(76);function u(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: baseline;\n\t> div:first-child {\n\t\tfont-family: var(--console-title-font-family);\n\t\tfont-size: 3em;\n\t\tletter-spacing: 1px;\n\t}\n\t> button {\n\t\tmargin-left: calc(var(--margin) / 2);\n\t\tfont-size: 1.4em;\n\t\tcolor: var(--console-primary-color);\n\t}\n"]);return u=function(){return t},t}var d=c.c.div.attrs({"data-widget":"console-narrow-page-title"})(u()),l=function(t){var n=t.title,e=t.onSettingsClicked;return Object(a.jsxs)(d,{children:[Object(a.jsx)("div",{children:n}),e?Object(a.jsx)(s.a,{tooltip:"Settings",center:!0,ignoreHorizontalPadding:!0,onClick:e,children:Object(a.jsx)(i.a,{icon:o.w})}):null]})}},108:function(t,n,e){"use strict";e.d(n,"b",(function(){return s})),e.d(n,"a",(function(){return u})),e.d(n,"c",(function(){return d}));var r=e(3),a=e(2);function o(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n\tflex-direction: column;\n\tmax-width: 1000px;\n\tmin-width: 600px;\n\tmargin: var(--margin) auto;\n"]);return o=function(){return t},t}function i(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\tmax-width: 1000px;\n\tmin-width: 600px;\n\tmargin: var(--margin) auto;\n"]);return i=function(){return t},t}function c(){var t=Object(r.a)(["\n\t&:before {\n\t\tcontent: '';\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\ttop: 0;\t\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\tz-index: -1;\n\t\tpointer-events: none;\n\t\tuser-select: none;\n\t\tfilter: brightness(1.5) opacity(0.2);\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: left calc(var(--margin) * 3) bottom calc(var(--margin) * 3);\n\t\tbackground-size: 300px;\n\t\tbackground-image: url(",");\n\t\ttransform: rotateY(180deg);\n\t}\n"]);return c=function(){return t},t}var s=a.c.div(c(),(function(t){return t["background-image"]})),u=Object(a.c)(s).attrs({"data-widget":"console-narrow-page-container"})(i()),d=a.c.div.attrs({"data-widget":"console-narrow-page-container"})(o())},116:function(t,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return d}));var r=e(3),a=e(0),o=e(1),i=e(2),c=e(97);function s(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 4px calc(var(--margin) / 2);\n\tborder: 0;\n\tborder-radius: var(--border-radius);\n\tappearance: none;\n\toutline: none;\n\tbackground-color: transparent;\n\tcolor: var(--console-primary-color);\n\tfont-weight: var(--font-bold);\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=false] {\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n\t&:hover {\n\t\tcolor: var(--console-primary-color);\n\t\tbackground-color: var(--invert-color);\n\t\tbox-shadow: var(--console-hover-shadow);\n\t}\n\t> svg {\n\t\tmargin-right: calc(var(--margin) / 4);\n\t}\n"]);return s=function(){return t},t}var u=i.c.button(s()),d=function(t){var n=t.tooltip,e=t.center,r=void 0!==e&&e,i=t.onClick,s=t.children,d=Object(o.useRef)(null),l=Object(c.c)({show:!!n,tooltip:n,ref:d,rect:function(){return{align:r?c.b.CENTER:c.b.LEFT,offsetY:10}}}),f=l.mouseEnter,p=l.mouseLeave,b=l.hide;return Object(a.jsx)(u,{onMouseEnter:f,onMouseLeave:p,onClick:function(t){i&&(b&&b(),i(t))},ref:d,children:s})}},134:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e(3),a=e(0),o=e(1),i=e(2),c=e(78),s=e(97);function u(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 1.3em;\n\tfont-family: var(--console-title-font-family);\n\tfont-weight: var(--console-title-font-weight);\n\tfont-variant: petite-caps;\n\twidth: var(--console-menu-item-icon-size);\n\theight: var(--console-menu-item-icon-size);\n\tborder-radius: 100%;\n\tbackground-color: ",";\n\tcolor: var(--invert-color);\n\tuser-select: none;\n\ttransform: scale(0.9);\n\ttransform-origin: center;\n\t> span:first-child {\n\t\ttransform: ",";\n\t\tz-index: 1;\n\t}\n\t> span:last-child {\n\t\tz-index: 0;\n\t\topacity: 0.7;\n\t\ttransform: translate(-1px, -1px);\n\t}\n"]);return u=function(){return t},t}var d=i.c.div(u(),(function(t){return t.color}),(function(t){return t["single-character"]?"":"translate(1px, -1px)"})),l=function(t){var n=t.name,e=t.showTooltip,r=void 0!==e&&e,i=Object(o.useRef)(null),u=Object(s.c)({show:r,tooltip:n,ref:i,rect:function(){return{align:s.b.CENTER,offsetY:10}}}),l=u.mouseEnter,f=u.mouseLeave,p="X",b="",m=(n||"").split(/[\s.-]/);0!==m.length&&(p=((m[0]||"")[0]||"X").toUpperCase(),m.length>1&&(b=((m[m.length-1]||"")[0]||"").toUpperCase()));var v=c.b[(p.charCodeAt(0)+(b||" ").charCodeAt(0))%c.b.length];return Object(a.jsxs)(d,{color:v,"single-character":!b,onMouseEnter:l,onMouseLeave:f,ref:i,children:[Object(a.jsx)("span",{children:p}),Object(a.jsx)("span",{children:b})]})}},150:function(t,n,e){"use strict";e.d(n,"c",(function(){return d})),e.d(n,"a",(function(){return f})),e.d(n,"e",(function(){return p})),e.d(n,"d",(function(){return b})),e.d(n,"b",(function(){return m}));var r=e(19),a=e.n(r),o=e(23),i=e(16),c=e.n(i),s=e(26),u=e(30),d=function(){var t=Object(o.a)(a.a.mark((function t(){var n,e,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(u.b)()){t.next=4;break}return t.abrupt("return",[{dashboardId:"1",name:"Sales Statistics",lastVisitTime:"2020/10/20 09:36:46",graphics:[]}]);case 4:return n=Object(s.b)(),t.next=7,fetch("".concat(Object(u.a)(),"dashboard/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});case 7:return e=t.sent,t.next=10,e.json();case 10:return r=t.sent,t.abrupt("return",r);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=1e4,f=function(){var t=Object(o.a)(a.a.mark((function t(n){var e,r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(u.b)()){t.next=4;break}return t.abrupt("return",new Promise((function(t){setTimeout((function(){t({dashboardId:"".concat(l++),name:n,lastVisitTime:c()().format("YYYY-MM-DD HH:mm:ss"),current:!0,graphics:[]})}),1e3)})));case 4:return e=Object(s.b)(),t.next=7,fetch("".concat(Object(u.a)(),"dashboard/create?name=").concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}});case 7:return r=t.sent,t.next=10,r.json();case 10:return o=t.sent,t.abrupt("return",o);case 12:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=Object(o.a)(a.a.mark((function t(n){var e,r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(u.b)()){t.next=4;break}return t.abrupt("return",new Promise((function(t){setTimeout((function(){return t()}),500)})));case 4:return e=Object(s.b)(),t.next=7,fetch("".concat(Object(u.a)(),"dashboard/save"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(n)});case 7:return r=t.sent,t.next=10,r.json();case 10:return o=t.sent,t.abrupt("return",o);case 12:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),b=function(){var t=Object(o.a)(a.a.mark((function t(n,e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(u.b)()){t.next=4;break}return t.abrupt("return",new Promise((function(t){setTimeout((function(){return t()}),500)})));case 4:return r=Object(s.b)(),t.next=7,fetch("".concat(Object(u.a)(),"dashboard/rename?dashboard_id=").concat(n,"&name=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});case 7:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),m=function(){var t=Object(o.a)(a.a.mark((function t(n){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(u.b)()){t.next=4;break}return t.abrupt("return",new Promise((function(t){setTimeout((function(){return t()}),500)})));case 4:return e=Object(s.b)(),t.next=7,fetch("".concat(Object(u.a)(),"dashboard/delete?dashboard_id=").concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}});case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},151:function(t,n,e){"use strict";e.d(n,"e",(function(){return a})),e.d(n,"b",(function(){return o})),e.d(n,"a",(function(){return i})),e.d(n,"c",(function(){return c})),e.d(n,"d",(function(){return s})),e.d(n,"f",(function(){return u})),e.d(n,"g",(function(){return d})),e.d(n,"h",(function(){return l}));var r=e(70),a=400,o=40,i=9/16,c=200+o,s=c/i+o,u=function(t){var n=t.clientWidth,e=Math.max(a,(n-64-64)/3);return{top:32,left:32,width:e,height:e*i+o,max:!1}},d=function(t){return"".concat(t.topicId||"","-").concat(t.factorId||"","-").concat(t.operator||"","-").concat(t.secondaryTopicId||"","-").concat(t.secondaryFactorId||"")},l=function(t,n){return n.map((function(n){var e=t.topics.find((function(t){return t.topicId==n.topicId}));if(!e)return null;var a=e.factors.find((function(t){return t.factorId==n.factorId}));if(!a)return null;var o=n.operator,i={topicId:void 0};if(o&&o!==r.a.NONE){if(!(i=t.topics.find((function(t){return t.topicId==n.secondaryTopicId}))))return null;if(!i.factors.find((function(t){return t.factorId==n.secondaryFactorId})))return null}return{label:n.alias||a.label||a.name,value:d(n),column:n}})).filter((function(t){return null!=t}))}},183:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return u})),e.d(n,"c",(function(){return d}));var r,a=e(74),o=e(28),i=e(9),c=e(1),s=e(70);!function(t){t.MIN_5="1",t.MIN_10="2",t.MIN_15="3",t.MIN_20="4",t.MIN_30="5",t.HOUR_1="6"}(r||(r={}));var u=[{value:r.MIN_5,label:"5 Minutes"},{value:r.MIN_10,label:"10 Minutes"},{value:r.MIN_15,label:"15 Minutes"},{value:r.MIN_20,label:"20 Minutes"},{value:r.MIN_30,label:"30 Minutes"},{value:r.HOUR_1,label:"1 Hours"}],d=function(){var t=Object(c.useState)({notificationFrequency:r.MIN_15,notificationSubscriptionCategories:Object.keys(s.c),mailFrequency:r.MIN_30}),n=Object(i.a)(t,2),e=n[0],u=n[1];return Object(o.a)(Object(o.a)({},e),{},{notificationFrequencyChanged:function(t){u(Object(o.a)(Object(o.a)({},e),{},{notificationFrequency:t}))},notificationCategorySubscriptionAdded:function(t){e.notificationSubscriptionCategories.includes(t)||u(Object(o.a)(Object(o.a)({},e),{},{notificationSubscriptionCategories:[].concat(Object(a.a)(e.notificationSubscriptionCategories),[t])}))},notificationCategorySubscriptionRemoved:function(t){e.notificationSubscriptionCategories.includes(t)&&u(Object(o.a)(Object(o.a)({},e),{},{notificationSubscriptionCategories:e.notificationSubscriptionCategories.filter((function(n){return n!==t}))}))},mailFrequencyChanged:function(t){u(Object(o.a)(Object(o.a)({},e),{},{mailFrequency:t}))}})}},239:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return l}));var r,a=e(9),o=e(3),i=e(0),c=e(1),s=e(2);function u(){var t=Object(o.a)(["\n\tdisplay: block;\n\tposition: fixed;\n\theight: 100vh;\n\tz-index: 500;\n\tbackground-color: transparent;\n\t&:before {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: ","px;\n\t\theight: 100%;\n\t\tbackground-color: var(--primary-hover-color);\n\t\topacity: 0;\n\t\ttransition: opacity 300ms ease-in-out;\n\t\tpointer-events: none;\n\t}\n\t&:hover {\n\t\t&:before {\n\t\t\tpointer-events: auto;\n\t\t\topacity: 0.3;\n\t\t}\n\t}\n"]);return u=function(){return t},t}!function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT"}(r||(r={}));var d=s.c.div.attrs((function(t){var n=t.top,e=void 0===n?0:n,a=t.left,o=t.resizing,i=t.alignment;return{style:{top:e,left:i===r.LEFT?o?0:a-3:"unset",right:i===r.RIGHT?o?0:a-3:"unset",width:o?"100vw":6,paddingLeft:o?i===r.LEFT?a-3:"calc(100% - ".concat(a+3,"px)"):0}}}))(u(),6),l=function(t){var n=t.top,e=void 0===n?0:n,o=t.width,s=t.onResize,u=t.alignment,l=void 0===u?r.LEFT:u,f=Object(c.useRef)(null),p=Object(c.useState)(!1),b=Object(a.a)(p,2),m=b[0],v=b[1],h=function(t){return Math.abs(t-o)<=3};return Object(i.jsx)(d,{top:e,left:o,alignment:l,resizing:m,ref:f,onMouseDown:function(t){var n=t.target,e=t.button,a=t.clientX,o=l===r.LEFT?a:window.innerWidth-a;if(0===e&&h(o)){v(!0);var i=function t(n){var e=n.target;v(!1),e.removeEventListener("mouseup",t),e.removeEventListener("mouseleave",t)};n.addEventListener("mouseup",i),n.addEventListener("mouseleave",i)}},onMouseMove:function(t){var n=t.clientX,e=l===r.LEFT?n:window.innerWidth-n;m?s(e):h(e)?f.current.style.cursor="col-resize":f.current.style.cursor="default"}})}},240:function(t,n,e){"use strict";e.d(n,"a",(function(){return Dn}));var r=e(19),a=e.n(r),o=e(23),i=e(9),c=e(3),s=e(0),u=e(18),d=e(14),l=e(1),f=e(2),p=e(15),b=e(8),m=e(76),v=e(39),h=(e(242),e(281),e(282),e(283),e(285),e(288),e(289),e(290),e(292),e(205),e(296),e(300),e(301),e(72)),g=e.n(h),j=e(78),O=e(101),x=e(70),E=function(t){return t.indicators.length},y=function(t,n){var e=n.data,r=t.dimensions,a=E(t),o=new Array(r.length).fill(1).map((function(t,n){return n+a}));return e.map((function(t){return{value:o.map((function(n){return t[n]})).join(","),row:t}}))},w=function(t,n){var e=t.dimensions,r=E(t);return function t(n,a){var o=new Map;return a.reduce((function(t,e){var a="".concat(e[n+r]||""),i=o.get(a);return null==i?(t.push({name:a,children:[e]}),o.set(a,t.length-1)):t[i].children.push(e),t}),[]).map((function(a){var o=a.name,i=a.children;if(n===e.length-2)return{name:o,children:i.map((function(t){return{name:"".concat(t[n+1+r]),value:t[0]}}))};if(1===i.length){for(var c={name:o},s=c,u=i[0],d=n+1,l=e.length;d<l;d++){var f=u[d+r];if(f){var p=s;p.children=[{name:"".concat(f)}],s=p.children[0]}}return s.value=u[0],c}return{name:o,children:t(n+1,i)}}))}(0,n.data)},I=function(t,n){var e=t.indicators.length;return t.indicators&&0!==e?n.minIndicatorCount&&e<n.minIndicatorCount?{pass:!1,error:"At least ".concat(n.minIndicatorCount," indicators, current has ").concat(e,".")}:n.maxIndicatorCount&&e>n.maxIndicatorCount?{pass:!1,error:"At most ".concat(n.maxIndicatorCount," indicators, current has ").concat(e,".")}:{pass:!0}:{pass:!1,error:"No indicator defined."}},T=function(t,n){var e=t.dimensions.length;return t.dimensions&&0!==e?n.minDimensionCount&&e<n.minDimensionCount?{pass:!1,error:"At least ".concat(n.minDimensionCount," dimensions, current has ").concat(e,".")}:n.maxDimensionCount&&e>n.maxDimensionCount?{pass:!1,error:"At most ".concat(n.maxDimensionCount," dimensions, current has ").concat(e,".")}:{pass:!0}:{pass:!1,error:"No dimensions defined."}};function S(t,n,e,r){if(!t||!n)throw new Error("Factor not defined in ".concat(r,"."));var a=e.topics.find((function(n){return n.topicId==t}));if(!a)throw new Error("Topic mismatched according to ".concat(r,"."));var o=a.factors.find((function(t){return t.factorId==n}));if(!o)throw new Error("Factor mismatched according to ".concat(r,"."));return o}var C=function(t,n){return S(n.topicId,n.factorId,t,"dimension")},R=function(t,n){return S(n.topicId,n.factorId,t,"indicator")},D=new Intl.NumberFormat(void 0,{useGrouping:!1,maximumFractionDigits:2}).format,k=function(t){return"number"===typeof t?D(t):t},A={type:x.e.BAR,name:"Bar",minDimensionCount:1,minIndicatorCount:1,buildOptions:function(t,n,e){var r=t.indicators.map((function(t,e){var r=R(n,t);return{label:r.label||r.name,indicator:t,index:e}})),a=y(t,e);return{color:j.b,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:r.map((function(t){return t.label}))},xAxis:[{type:"category",axisTick:{show:!1},data:a.map((function(t){return t.value}))}],yAxis:[{type:"value"}],series:r.map((function(t){var n=t.label,e=t.index;return{name:n,type:"bar",barGap:0,label:{show:!0,position:"insideTop",distance:15,verticalAlign:"middle",rotate:0},data:a.map((function(t){var n=t.row;return k(n[e])}))}}))}}},_={type:x.e.COUNT,name:"Count",minDimensionCount:0,maxDimensionCount:0,minIndicatorCount:1,maxIndicatorCount:1},N={type:x.e.DOUGHNUT,name:"Doughnut",minDimensionCount:1,minIndicatorCount:1,maxIndicatorCount:1,buildOptions:function(t,n,e){var r=Object(i.a)(t.indicators,1)[0],a=y(t,e),o=R(n,r);return{color:j.b,tooltip:{trigger:"item"},legend:{data:a.map((function(t){return t.value}))},series:[{name:o.label||o.name,type:"pie",radius:["30%","70%"],center:["50%","50%"],data:a.map((function(t){var n=t.value,e=t.row;return{name:n,value:k(e[0]||0)}}))}]}}},M={type:x.e.LINE,name:"Line",minDimensionCount:1,minIndicatorCount:1,buildOptions:function(t,n,e){var r=t.indicators.map((function(t,e){var r=R(n,t);return{label:r.label||r.name,indicator:t,index:e}})),a=y(t,e);return{color:j.b,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:r.map((function(t){return t.label}))},xAxis:[{type:"category",axisTick:{show:!1},data:a.map((function(t){return t.value}))}],yAxis:[{type:"value"}],series:r.map((function(t){var n=t.label,e=t.index;return{name:n,type:"line",barGap:0,label:{show:!0,position:"insideTop",distance:15,verticalAlign:"middle",rotate:0},data:a.map((function(t){var n=t.row;return k(n[e])}))}}))}}},P={type:x.e.NIGHTINGALE,name:"Nightingale",minDimensionCount:1,minIndicatorCount:1,maxIndicatorCount:1,buildOptions:function(t,n,e){var r=Object(i.a)(t.indicators,1)[0],a=y(t,e),o=R(n,r);return{color:j.b,tooltip:{trigger:"item"},legend:{data:a.map((function(t){return t.value}))},series:[{name:o.label||o.name,type:"pie",roseType:"area",center:["50%","50%"],data:a.map((function(t){var n=t.value,e=t.row;return{name:n,value:k(e[0]||0)}}))}]}}},L={type:x.e.PIE,name:"Pie",minDimensionCount:1,minIndicatorCount:1,maxIndicatorCount:1,buildOptions:function(t,n,e){var r=Object(i.a)(t.indicators,1)[0],a=y(t,e),o=R(n,r);return{color:j.b,tooltip:{trigger:"item"},legend:{data:a.map((function(t){return t.value}))},series:[{name:o.label||o.name,type:"pie",center:["50%","50%"],data:a.map((function(t){var n=t.value,e=t.row;return{name:n,value:k(e[0]||0)}}))}]}}},z=e(28),F=e(74),H=function(t,n){return t.data.reduce((function(t,e){var r=e[n];return r>t.max&&(t.max=r),r<t.min&&(t.min=r),t}),{max:-1/0,min:1/0})},B=[_,A,M,L,N,P,{type:x.e.SCATTER,name:"Scatter",minDimensionCount:1,maxDimensionCount:2,minIndicatorCount:1,maxIndicatorCount:3,buildOptions:function(t,n,e){var r=t.dimensions,a=t.indicators,o=E(t),i=function(t,n,e){var r=t.dimensions,a=E(t);if(1===r.length){var o=C(n,r[0]);return[{name:o.label||o.name,rows:e.data}]}var i=new Map;return e.data.reduce((function(t,n){var e="".concat(n[a]),r=i.get(e);return null==r?(t.push({name:e,rows:[n]}),i.set(e,t.length-1)):t[r].rows.push(n),t}),[])}(t,n,e),c=C(n,r[r.length-1]),s=R(n,a[0]);return{color:j.b,tooltip:{trigger:"item"},legend:i.length>1?{data:i.map((function(t){return t.name}))}:void 0,xAxis:{type:"category",name:c.label||c.name},yAxis:{type:"value",name:s.label||s.name},series:i.map((function(t){return{name:t.name,type:"scatter",data:t.rows.map((function(t){return[t[r.length-1+o]].concat(Object(F.a)(a.map((function(n,e){return t[e]}))))}))}})),visualMap:1===a.length?void 0:a.map((function(t,n){switch(n){case 0:return null;case 1:return Object(z.a)(Object(z.a)({show:!1,dimension:2},H(e,1)),{},{inRange:{symbolSize:[10,50]}});case 2:return Object(z.a)(Object(z.a)({show:!1,dimension:2},H(e,2)),{},{inRange:{colorAlpha:[.4,1]}});default:return null}})).filter((function(t){return!t}))}}},{type:x.e.SUNBURST,name:"Sunburst",minDimensionCount:2,minIndicatorCount:1,maxIndicatorCount:1,buildOptions:function(t,n,e){return{color:j.b,tooltip:{trigger:"item"},series:[{type:"sunburst",radius:["10%","90%"],data:w(t,e)}]}}},{type:x.e.TREE,name:"Tree",minDimensionCount:2,minIndicatorCount:1,maxIndicatorCount:1,buildOptions:function(t,n,e){return{color:j.b,tooltip:{trigger:"item"},series:[{type:"tree",top:"2%",left:"2%",bottom:"2%",right:"2%",symbolSize:8,label:{position:"right",verticalAlign:"middle",align:"left"},leaves:{label:{position:"left",verticalAlign:"middle",align:"right"}},expandAndCollapse:!0,data:w(t,e)}]}}},{type:x.e.TREEMAP,name:"Treemap",minDimensionCount:2,minIndicatorCount:1,maxIndicatorCount:1,buildOptions:function(t,n,e){return{color:j.b,tooltip:{trigger:"item"},series:[{name:t.name,type:"treemap",leafDepth:1,data:w(t,e)}]}}}],U=B.map((function(t){return{label:t.name,value:t.type}})),G=B.reduce((function(t,n){return t.set(n.type,n),t}),new Map),Y=function(t){return G.get(t)},q=function(t,n){var e=n.validate;if(e){var r=e(t,n);return!0===r?{pass:!0}:{pass:!1,error:"string"===typeof r?r:""}}return{pass:!0}},X=function(t,n,e){var r=Y(t.type);return r.buildOptions&&r.buildOptions(t,n,e)};function Z(){var t=Object(c.a)(["\n\tdisplay         : flex;\n\talign-items     : center;\n\tjustify-content : center;\n\tfont-family     : var(--console-title-font-family);\n\tcolor           : ",";\n\twidth           : 100%;\n\theight          : 100%;\n\t&[data-visible=false] {\n\t\tdisplay : none;\n\t}\n"]);return Z=function(){return t},t}function V(){var t=Object(c.a)(["\n\tflex-grow : 1;\n\theight    : 100%;\n\toverflow  : hidden;\n\t&[data-visible=false] {\n\t\tdisplay : none;\n\t}\n"]);return V=function(){return t},t}function W(){var t=Object(c.a)(["\n\tdisplay     : none;\n\tfont-family : var(--console-title-font-family);\n\t&[data-visible=true] {\n\t\tdisplay : block;\n\t}\n"]);return W=function(){return t},t}function J(){var t=Object(c.a)(["\n\tdisplay         : flex;\n\tposition        : absolute;\n\talign-items     : center;\n\tjustify-content : center;\n\twidth           : 100%;\n\theight          : 100%;\n"]);return J=function(){return t},t}var Q=f.c.div(J()),K=f.c.div(W()),$=f.c.div(V()),tt=f.c.div(Z(),j.b[4]),nt=function(t){if(t.current&&"none"!==getComputedStyle(t.current).display){var n=t.current.clientHeight,e=Math.min(512,n/2);t.current.style.fontSize="".concat(e,"px")}},et=function(t){var n=t.rootRef,e=t.data,r=t.visible,a=Object(l.useRef)(null);if(Object(l.useEffect)((function(){if(r&&n.current){var t=new ResizeObserver((function(){nt(a)}));return t.observe(n.current),nt(a),function(){return t.disconnect()}}})),!r)return null;var o=(((null===e||void 0===e?void 0:e.data)||[])[0]||[0])[0];return"number"===typeof o&&(o=o.toLocaleString()),Object(s.jsx)(tt,{ref:a,children:o||"No data fetched yet."})},rt=function(t){var n=t.space,e=t.subject,r=t.chart,c=t.visible,u=Object(l.useRef)(null),d=Object(l.useState)(null),f=Object(i.a)(d,2),p=f[0],b=f[1],m=Object(l.useState)(null),v=Object(i.a)(m,2),h=v[0],j=v[1],E=Object(l.useState)({pass:!1,error:"Chart not prepared yet."}),y=Object(i.a)(E,2),w=y[0],S=y[1];if(Object(l.useEffect)((function(){if(c&&u.current){var t=new ResizeObserver((function(){p&&p.resize()}));return t.observe(u.current),function(){return t.disconnect()}}})),Object(l.useEffect)((function(){if(c&&u.current){var t=function(t){if(!t.type)return{pass:!1,error:"No chart type defined."};var n=Y(t.type);return[T,I,q].reduce((function(e,r){return e.pass?r(t,n):e}),{pass:!0})}(r);console.log(r.type,t.pass),t.pass?r.type===x.e.COUNT?Object(o.a)(a.a.mark((function n(){var o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(O.j)(e.subjectId,r.chartId);case 2:o=n.sent,b(null),j(o),S(t);case 6:case"end":return n.stop()}}),n)})))():Object(o.a)(a.a.mark((function o(){var i,c,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=g.a.init(u.current),a.prev=1,a.next=4,Object(O.h)(e.subjectId,r.chartId);case 4:c=a.sent,s=X(r,n,c),i.setOption(s,!0),b(i),j(c),S(t),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),console.error(a.t0),S({pass:!1,error:"Unpredicted error occurred, check chart settings please."});case 16:case"end":return a.stop()}}),o,null,[[1,12]])})))():S(t)}}),[c,n,e.subjectId,r,r.type]),!c)return null;try{return Object(s.jsxs)(Q,{children:[Object(s.jsx)($,{ref:u,"data-visible":w.pass,children:Object(s.jsx)(et,{rootRef:u,data:h,visible:r.type===x.e.COUNT})}),Object(s.jsx)(K,{"data-visible":!w.pass,children:!w.pass&&(w.error||"Unfinished definition.")})]})}catch(C){return console.error(C),Object(s.jsx)(Q,{children:Object(s.jsx)(K,{"data-visible":!0,children:"Unpredicted error occurred, check chart settings please."})})}},at=e(92),ot=e(79),it=e(29),ct=e(40),st=e(26);function ut(){var t=Object(c.a)(["\n\tdisplay: block;\n\tposition: relative;\n\twidth: 24px;\n\theight: 18px;\n\tborder-radius: 9px;\n\ttransition: all 300ms ease-in-out;\n\t&[data-positive=true] {\n\t\tmargin-left: 21px;\n\t\tbackground-color: var(--toggle-positive-slider-color);\n\t}\n\t&[data-positive=false] {\n\t\tmargin-left: 1px;\n\t\tbackground-color: var(--toggle-negative-slider-color);\n\t}\n"]);return ut=function(){return t},t}function dt(){var t=Object(c.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\twidth: 48px;\n\theight: 22px;\n\tborder-width: 1px;\n\tborder-style: solid;\n\tborder-radius: 11px;\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t&[data-positive=true] {\n\t\tbackground-color: var(--toggle-positive-bg-color);\n\t\tborder-color: var(--toggle-positive-border-color);\n\t}\n\t&[data-positive=false] {\n\t\tbackground-color: var(--toggle-negative-bg-color);\n\t\tborder-color: var(--toggle-negative-border-color);\n\t}\n"]);return dt=function(){return t},t}var lt=f.c.div.attrs({"data-widget":"toggle"})(dt()),ft=f.c.div(ut()),pt=function(t){var n=t.value,e=t.onChange,r=Object(l.useRef)(null);return Object(s.jsx)(lt,{"data-positive":n,onClick:function(t){var a=t.clientX,o=r.current.getBoundingClientRect();a-o.left>o.width/2?n||e(!0):n&&e(!1)},ref:r,children:Object(s.jsx)(ft,{"data-positive":n})})};function bt(){var t=Object(c.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\theight: 52px;\n\tmin-height: 52px;\n\tmargin: 0 var(--margin);\n\tborder-top: var(--border);\n"]);return bt=function(){return t},t}function mt(){var t=Object(c.a)(["\n\tgrid-column: span 4;\n\theight: calc(var(--margin) / 2);\n"]);return mt=function(){return t},t}function vt(){var t=Object(c.a)(["\n\tgrid-column: span 4;\n\talign-self: center;\n\tjustify-self: end;\n"]);return vt=function(){return t},t}function ht(){var t=Object(c.a)(["\n\tpadding-left: calc(var(--margin) / 2);\n"]);return ht=function(){return t},t}function gt(){var t=Object(c.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tgrid-column: span 4;\n\tfont-variant: petite-caps;\n\tfont-weight: var(--font-demi-bold);\n\tfont-size: 0.8em;\n\theight: 28px;\n\t&:after {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 55%;\n\t\tright: 0;\n\t\twidth: 100%;\n\t\theight: 1px;\n\t\tbackground-color: var(--border-color);\n\t\topacity: 0.3;\n\t}\n\t> span {\n\t\tz-index: 1;\n\t\tbackground-color: var(--bg-color);\n\t\tpadding-right: calc(var(--margin) / 2);\n\t}\n"]);return gt=function(){return t},t}function jt(){var t=Object(c.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tfont-variant: petite-caps;\n\tfont-weight: var(--font-demi-bold);\n\tfont-size: 0.8em;\n\theight: 28px;\n"]);return jt=function(){return t},t}function Ot(){var t=Object(c.a)(["\n\twidth: 100%;\n\tflex-grow: 1;\n\tdisplay: grid;\n\tgrid-template-columns: 120px 1fr 120px 1fr;\n\tgrid-auto-rows: minmax(28px, auto);\n\tgrid-column-gap: var(--margin);\n\tgrid-row-gap: calc(var(--margin) / 4);\n\talign-content: start;\n\tpadding: calc(var(--margin) / 2) var(--margin);\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\t&::-webkit-scrollbar {\n\t\tbackground-color: transparent;\n\t\twidth: 4px;\n\t}\n\t&::-webkit-scrollbar-track {\n\t\tbackground-color: transparent;\n\t\tborder-radius: 2px;\n\t}\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground-color: var(--console-favorite-color);\n\t\tborder-radius: 2px;\n\t}\n\tinput {\n\t\tfont-size: 0.8em;\n\t\tcolor: var(--console-font-color);\n\t\theight: 28px;\n\t}\n\tdiv[data-widget=dropdown] {\n\t\tfont-size: 0.8em;\n\t\tcolor: var(--console-font-color);\n\t\theight: 28px;\n\t\t> div:last-child {\n\t\t\t&::-webkit-scrollbar {\n\t\t\t\tbackground-color: transparent;\n\t\t\t\twidth: 4px;\n\t\t\t}\n\t\t\t&::-webkit-scrollbar-track {\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tborder-radius: 2px;\n\t\t\t}\n\t\t\t&::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: var(--console-favorite-color);\n\t\t\t\tborder-radius: 2px;\n\t\t\t}\n\t\t}\n\t}\n\tdiv[data-widget=toggle] {\n\t\tmargin-top: 3px;\n\t\tmargin-bottom: 3px;\n\t}\n"]);return Ot=function(){return t},t}function xt(){var t=Object(c.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\theight: 52px;\n\tmin-height: 52px;\n\tfont-variant: petite-caps;\n\tfont-weight: var(--font-demi-bold);\n\tfont-size: 1.4em;\n\tmargin: 0 var(--margin);\n\tborder-bottom: var(--border);\n"]);return xt=function(){return t},t}function Et(){var t=Object(c.a)(["\n\tdisplay: block;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tz-index: -1;\n"]);return Et=function(){return t},t}function yt(){var t=Object(c.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: fixed;\n\ttop: 10vh;\n\tleft: 10vw;\n\twidth: 80vw;\n\theight: 80vh;\n\tborder-radius: calc(var(--border-radius) * 2);\n\tbackground-color: var(--bg-color);\n\ttransition: all 300ms ease-in-out;\n\toverflow: hidden;\n\tz-index: 100;\n\tbox-shadow: var(--console-hover-shadow);\n\t&[data-visible=false] {\n\t\tpadding-top: 0;\n\t\tpadding-bottom: 0;\n\t\ttop: 50vh;\n\t\theight: 0;\n\t\t> div:first-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n"]);return yt=function(){return t},t}var wt=f.c.div(yt()),It=f.c.div(Et()),Tt=f.c.div(xt()),St=f.c.div(Ot()),Ct=f.c.div(jt()),Rt=f.c.div(gt()),Dt=Object(f.c)(Ct)(ht()),kt=Object(f.c)(ct.c)(vt()),At=f.c.div(mt()),_t=f.c.div(bt()),Nt=function(t){var n=t.chart,e=Object(p.f)();return Object(s.jsxs)(l.Fragment,{children:[Object(s.jsx)(Dt,{children:"Predefined:"}),Object(s.jsx)(pt,{value:n.predefined||!1,onChange:function(t){n.predefined=t,e()}})]})},Mt=function(t){if(!Object(st.c)())return null;var n=t.chart;return Object(s.jsxs)(l.Fragment,{children:[Object(s.jsx)(Rt,{children:Object(s.jsx)("span",{children:"Admin"})}),Object(s.jsx)(Nt,{chart:n})]})},Pt=e(758),Lt=e(151);function zt(){var t=Object(c.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\t&[data-can-remove=true] {\n\t\t> div:first-child {\n\t\t\tborder-right: 0;\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t\t> button {\n\t\t\tborder: var(--border);\n\t\t\tborder-top-right-radius: var(--border-radius);\n\t\t\tborder-bottom-right-radius: var(--border-radius);\n\t\t\tborder-left-color: transparent;\n\t\t\t&:before {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\t\t\t> svg {\n\t\t\t\topacity: 0;\n\t\t\t}\n\t\t}\n\t}\n\t&:hover > button,\n\t> div:first-child:focus-within + button {\n\t\tborder-left-color: var(--border-color);\n\t\t> svg {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\t> div:first-child {\n\t\tflex-grow: 1;\n\t\twidth: 0;\n\t}\n\t> button {\n\t\talign-self: stretch;\n\t\tmin-width: 32px;\n\t\tfont-size: 0.8em;\n\t\tmargin-left: -1px;\n\t\t> svg {\n\t\t\ttransform: scale(0.9);\n\t\t\ttransition: all 300ms ease-in-out;\n\t\t}\n\t}\n"]);return zt=function(){return t},t}var Ft=f.c.div(zt()),Ht=function(t){var n=t.space,e=t.subject,r=t.chart,i=t.dimension,c=t.onRemove,f=e.dataset,b=(f=void 0===f?{}:f).columns,v=void 0===b?[]:b,h=r.dimensions,g=Object(p.f)(),j=function(){var t=Object(o.a)(a.a.mark((function t(n){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n.column,i.topicId=e.topicId,i.factorId=e.factorId,i.operator=e.operator,i.secondaryTopicId=e.secondaryTopicId,i.secondaryFactorId=e.secondaryFactorId,i.alias=e.alias,g();case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),O=h.indexOf(i),x=Object(Lt.h)(n,v),E=function(t){var n=Y(t.type);if(t.dimensions.length<=(n.minDimensionCount||1))return!1;var e=n.canReduceDimensions;return!e||e(t,n)}(r),y=Object(Lt.g)(i);return Object(s.jsxs)(l.Fragment,{children:[Object(s.jsx)(Dt,{children:0===O?"On:":"And On:"}),Object(s.jsxs)(Ft,{"data-can-remove":E,children:[Object(s.jsx)(ot.a,{value:y,options:x,onChange:j}),E?Object(s.jsx)(m.a,{onClick:function(){return c(i)},children:Object(s.jsx)(d.a,{icon:u.Gb})}):null]})]})},Bt=function(t){var n=t.space,e=t.subject,r=t.chart,a=Object(p.f)(),o=function(t){r.dimensions=r.dimensions.filter((function(n){return n!==t})),a()},i=function(t){var n=Y(t.type),e=t.dimensions.length;if(n.maxDimensionCount&&e>=n.maxDimensionCount)return!1;var r=n.canAppendDimensions;return!r||r(t,n)}(r);return Object(s.jsxs)(l.Fragment,{children:[Object(s.jsx)(Rt,{children:Object(s.jsx)("span",{children:"Dimensions"})}),r.dimensions.map((function(t){return Object(s.jsx)(Ht,{space:n,subject:e,chart:r,dimension:t,onRemove:o},Object(Pt.a)())})),i?Object(s.jsxs)(kt,{onClick:function(){r.dimensions.push({}),a()},children:[Object(s.jsx)(d.a,{icon:u.U}),Object(s.jsx)("span",{children:"Add Dimension"})]}):null]})},Ut=e(44);function Gt(){var t=Object(c.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\t&[data-can-remove=true] {\n\t\t> div:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t\t> div:nth-child(2) {\n\t\t\tborder-right: 0;\n\t\t\tborder-radius: 0;\n\t\t}\n\t\t> button {\n\t\t\tborder: var(--border);\n\t\t\tborder-top-right-radius: var(--border-radius);\n\t\t\tborder-bottom-right-radius: var(--border-radius);\n\t\t\tborder-left-color: transparent;\n\t\t\t&:before {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\t\t\t> svg {\n\t\t\t\topacity: 0;\n\t\t\t}\n\t\t}\n\t}\n\t&:hover > button,\n\t> div:first-child:focus-within ~ button,\n\t> div:nth-child(2):focus-within + button {\n\t\tborder-left-color: var(--border-color);\n\t\t> svg {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\t&:hover > div:nth-child(2),\n\t> div:first-child:focus-within + div,\n\t> div:nth-child(2):focus-within {\n\t\tborder-left-color: var(--border-color);\n\t}\n\t> div:first-child {\n\t\tflex-grow: 1;\n\t\tborder-right: 0;\n\t\tborder-top-right-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\twidth: 0;\n\t}\n\t> div:nth-child(2) {\n\t\tflex-grow: 0;\n\t\twidth: 0;\n\t\tmin-width: 100px;\n\t\tborder-left-color: transparent;\n\t\tborder-top-left-radius: 0;\n\t\tborder-bottom-left-radius: 0;\n\t\tmargin-left: -1px;\n\t}\n\t> button {\n\t\talign-self: stretch;\n\t\tmin-width: 32px;\n\t\tfont-size: 0.8em;\n\t\tmargin-left: -1px;\n\t\t> svg {\n\t\t\ttransform: scale(0.9);\n\t\t\ttransition: all 300ms ease-in-out;\n\t\t}\n\t}\n"]);return Gt=function(){return t},t}var Yt,qt=f.c.div(Gt()),Xt=function(t){var n=t.space,e=t.subject,r=t.chart,i=t.indicator,c=t.onRemove,f=e.dataset,b=(f=void 0===f?{}:f).columns,v=void 0===b?[]:b,h=r.indicators,g=Object(p.f)(),j=function(){var t=Object(o.a)(a.a.mark((function t(n){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n.column,i.topicId=e.topicId,i.factorId=e.factorId,i.operator=e.operator,i.secondaryTopicId=e.secondaryTopicId,i.secondaryFactorId=e.secondaryFactorId,i.alias=e.alias,g();case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),O=function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.aggregator=n.value,g();case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),E=h.indexOf(i),y=Object(Lt.h)(n,v),w=function(t){var n=Y(t.type);if(t.indicators.length<=(n.minIndicatorCount||1))return!1;var e=n.canReduceIndicators;return!e||e(t,n)}(r),I=Object(Lt.g)(i),T=[{label:"As Is",value:x.d.NONE},{label:"Count",value:x.d.COUNT}];if(i.topicId&&i.factorId){var S=n.topics.find((function(t){return t.topicId==i.topicId})),C=null===S||void 0===S?void 0:S.factors.find((function(t){return t.factorId==i.factorId}));switch(!0){case!C:break;case C.type===x.g.NUMBER:T.push({label:"Summary",value:x.d.SUMMARY},{label:"Average",value:x.d.AVERAGE},{label:"Median",value:x.d.MEDIAN},{label:"Minimum",value:x.d.MINIMUM},{label:"Maximum",value:x.d.MAXIMUM});break;case C.type===x.g.DATETIME:T.push({label:"Minimum",value:x.d.MINIMUM},{label:"Maximum",value:x.d.MAXIMUM})}}T.some((function(t){return t.value===i.aggregator}))||(i.aggregator=x.d.NONE);var R=i.aggregator;return Object(s.jsxs)(l.Fragment,{children:[Object(s.jsx)(Dt,{children:0===E?"With:":"And With:"}),Object(s.jsxs)(qt,{"data-can-remove":w,children:[Object(s.jsx)(ot.a,{value:I,options:y,onChange:j}),Object(s.jsx)(ot.a,{value:R,options:T,onChange:O}),w?Object(s.jsx)(m.a,{onClick:function(){return c(i)},children:Object(s.jsx)(d.a,{icon:u.Gb})}):null]})]})},Zt=function(t){var n=t.space,e=t.subject,r=t.chart,a=Object(p.f)(),o=function(t){r.indicators=r.indicators.filter((function(n){return n!==t})),a()},i=function(t){var n=Y(t.type),e=t.indicators.length;if(n.maxIndicatorCount&&e>=n.maxIndicatorCount)return!1;var r=n.canAppendIndicators;return!r||r(t,n)}(r);return Object(s.jsxs)(l.Fragment,{children:[Object(s.jsx)(Rt,{children:Object(s.jsx)("span",{children:"Indicators"})}),r.indicators.map((function(t){return Object(s.jsx)(Xt,{space:n,subject:e,chart:r,indicator:t,onRemove:o},Object(Pt.a)())})),i?Object(s.jsxs)(kt,{onClick:function(){r.indicators.push({aggregator:x.d.NONE}),a()},children:[Object(s.jsx)(d.a,{icon:Ut.b}),Object(s.jsx)("span",{children:"Add Indicator"})]}):null]})},Vt=e(25);function Wt(){var t=Object(c.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 50% 1fr;\n\tgrid-column-gap: var(--margin);\n\tposition: fixed;\n\tbackground-color: var(--bg-color);\n\tborder: var(--border);\n\tborder-radius: var(--border-radius);\n\tpadding: calc(var(--margin) / 4);\n\theight: ","px;\n\tz-index: 100;\n\ttransition: opacity 300ms ease-in-out;\n"]);return Wt=function(){return t},t}function Jt(){var t=Object(c.a)(["\n\tdisplay: block;\n\talign-self: center;\n\tjustify-self: end;\n\twidth: 16px;\n\theight: 16px;\n\tborder: var(--border);\n\tborder-radius: var(--border-radius);\n\tcursor: pointer;\n\t&:hover {\n\t\tbox-shadow: 0 0 8px rgba(0, 0, 0, 0.7);\n\t}\n"]);return Jt=function(){return t},t}function Qt(){var t=Object(c.a)(["\n\tgrid-column: span 2;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(24, minmax(20px, 1fr));\n\talign-self: center;\n\theight: 28px;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=false] {\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n"]);return Qt=function(){return t},t}function Kt(){var t=Object(c.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\talign-items: center;\n\t> span {\n\t\tmargin-right: var(--margin);\n\t\ttext-transform: capitalize;\n\t}\n\t> div {\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\t> span {\n\t\t\tdisplay: block;\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t\t&:first-child {\n\t\t\t\tborder-top-left-radius: 2px;\n\t\t\t\tborder-bottom-left-radius: 2px;\n\t\t\t}\n\t\t\t&:last-child {\n\t\t\t\tborder-top-right-radius: 2px;\n\t\t\t\tborder-bottom-right-radius: 2px;\n\t\t\t}\n\t\t}\n\t}\n"]);return Kt=function(){return t},t}function $t(){var t=Object(c.a)(["\n\toverflow: hidden;\n\t> span {\n\t\tmargin-right: 4px;\n\t\tborder-top-right-radius: 2px;\n\t\tborder-bottom-right-radius: 2px;\n\t}\n"]);return $t=function(){return t},t}var tn;!function(t){t.STANDARD="standard",t.DARK="dark",t.LIGHT="light",t.LIGHTER="lighter"}(tn||(tn={}));var nn,en=(Yt={},Object(Vt.a)(Yt,tn.STANDARD,j.b),Object(Vt.a)(Yt,tn.DARK,j.d),Object(Vt.a)(Yt,tn.LIGHT,j.e),Object(Vt.a)(Yt,tn.LIGHTER,j.f),Yt),rn="custom",an=Object(f.c)(ot.a)($t()),on=f.c.div(Kt()),cn=f.c.div(Qt()),sn=f.c.span.attrs((function(t){var n=t.color;return{style:{backgroundColor:n||"transparent",borderColor:n||"var(--border-color)"}}}))(Jt()),un=f.c.div.attrs((function(t){var n=t.top,e=t.left,r=t.width,a=t.visible;return{style:{top:n,left:e,width:r,opacity:a?1:0,pointerEvents:a?"auto":"none"}}}))(Wt(),200),dn=function(t){var n=t.type;return Object(s.jsxs)(on,{children:[Object(s.jsx)("span",{children:n}),Object(s.jsx)("div",{children:en[n].map((function(t,n){return Object(s.jsx)("span",{style:{backgroundColor:t}},"".concat(t,"-").concat(n))}))})]})},ln=function(t){var n=t.chart,e=Object(l.useRef)(null),r=Object(l.useRef)(null),c=Object(l.useState)({top:0,left:0,width:0,visible:!1}),u=Object(i.a)(c,2),d=u[0],f=u[1],b=Object(p.f)();Object(p.e)(r,(function(){return f(Object(z.a)(Object(z.a)({},d),{},{visible:!1}))}));var m,v=function(){var t=Object(o.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.value===rn?n.colors=["#ff0000","#00ff00","#0000ff"]:n.colors=e.value,b();case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),h=function(t){return function(r){var a=r.target.getBoundingClientRect().top,o=e.current.getBoundingClientRect(),i=o.left,c=o.width,s=e.current.querySelector("span:first-child").getBoundingClientRect().left;console.log((n.colors||[])[t]),f({top:a-200-6,left:s,width:c-(s-i),visible:!0,color:(n.colors||[])[t],colorIndex:t})}},g=Object(F.a)(Object.keys(en).map((function(t){return{value:t,label:Object(s.jsx)(dn,{type:t})}})));return m=n.colors&&"string"===typeof n.colors?n.colors:Array.isArray(n.colors)?rn:tn.STANDARD,Object(s.jsxs)(l.Fragment,{children:[Object(s.jsx)(Dt,{children:"Color Series:"}),Object(s.jsx)(an,{value:m,options:g,onChange:v}),Object(s.jsxs)(cn,{"data-visible":Array.isArray(n.colors),ref:e,children:[new Array(24).fill(1).map((function(t,e){return Object(s.jsx)(sn,{color:(n.colors||[])[e],onClick:h(e)},e)})),Object(s.jsx)(un,Object(z.a)(Object(z.a)({},d),{},{ref:r}))]})]})},fn=function(t){var n=t.chart;return Object(s.jsxs)(l.Fragment,{children:[Object(s.jsx)(Rt,{children:Object(s.jsx)("span",{children:"Render"})}),Object(s.jsx)(ln,{chart:n})]})},pn=function(t){var n=t.space,e=t.subject,r=t.chart,i=t.visible,c=t.closeSettings,l=Object(p.f)(),f=function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.type=n.value,l();case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return function(t){t.type||(t.type=x.e.BAR),t.dimensions||(t.dimensions=[]),t.indicators||(t.indicators=[]);var n=Y(t.type);new Array(Math.max((n.minDimensionCount||1)-t.dimensions.length,0)).fill(1).forEach((function(){return t.dimensions.push({})})),new Array(Math.max((n.minIndicatorCount||1)-t.indicators.length,0)).fill(1).forEach((function(){return t.indicators.push({aggregator:x.d.NONE})}));var e=n.defend;e&&e(t,n)}(r),Object(s.jsxs)(wt,{"data-visible":i,children:[Object(s.jsx)(It,{}),Object(s.jsx)(Tt,{children:Object(s.jsx)("span",{children:r.name||"Noname"})}),Object(s.jsxs)(St,{children:[Object(s.jsx)(Ct,{children:"Name:"}),Object(s.jsx)(it.a,{value:r.name||"",onChange:function(t){r.name=t.target.value,l()}}),Object(s.jsx)(Ct,{children:"Type:"}),Object(s.jsx)(ot.a,{options:U,value:r.type,onChange:f}),Object(s.jsx)(Bt,{space:n,subject:e,chart:r}),Object(s.jsx)(Zt,{space:n,subject:e,chart:r}),Object(s.jsx)(fn,{chart:r}),Object(s.jsx)(Mt,{chart:r}),Object(s.jsx)(At,{})]}),Object(s.jsx)(_t,{children:Object(s.jsxs)(ct.a,{onClick:function(){return c()},children:[Object(s.jsx)(d.a,{icon:u.C}),Object(s.jsx)("span",{children:"Done & Close"})]})})]})};function bn(){var t=Object(c.a)(["\n\tflex-grow : 1;\n\tposition  : relative;\n\tmargin    : 0 3px 3px;\n"]);return bn=function(){return t},t}function mn(){var t=Object(c.a)(["\n\tdisplay      : flex;\n\talign-items  : center;\n\tmargin-right : calc(var(--margin) / -4);\n\t&[data-visible=false] {\n\t\t> button:not(:first-child) {\n\t\t\tdisplay : none;\n\t\t}\n\t}\n\t&[data-expanded=true] {\n\t\t> button:first-child > svg {\n\t\t\ttransform : rotateZ(180deg);\n\t\t}\n\t}\n\t> button {\n\t\theight : 32px;\n\t\twidth  : 32px;\n\t\t&:first-child > svg {\n\t\t\ttransition : transform 300ms ease-in-out;\n\t\t}\n\t\t> svg {\n\t\t\tfont-size : 0.8em;\n\t\t}\n\t}\n"]);return mn=function(){return t},t}function vn(){var t=Object(c.a)(["\n\tdisplay       : flex;\n\talign-items   : center;\n\tfont-variant  : petite-caps;\n\tfont-size     : 0.8em;\n\tfont-weight   : var(--font-demi-bold);\n\theight        : 40px;\n\tmargin        : 3px 3px 0;\n\tpadding       : 0 calc(var(--margin) / 2);\n\tborder-bottom : var(--border);\n\tcursor        : move;\n\t&[data-locked=true] {\n\t\tcursor : default;\n\t}\n\t> span:first-child {\n\t\tflex-grow : 1;\n\t}\n"]);return vn=function(){return t},t}function hn(){var t=Object(c.a)(["\n\tdisplay  : block;\n\tposition : absolute;\n\t&[data-locked=true] {\n\t\tdisplay : none;\n\t}\n\t&[data-position=","],\n\t&[data-position=","] {\n\t\tleft   : 6px;\n\t\twidth  : calc(100% - 12px);\n\t\tcursor : row-resize;\n\t}\n\t&[data-position=","],\n\t&[data-position=","] {\n\t\ttop    : 6px;\n\t\theight : calc(100% - 12px);\n\t\tcursor : col-resize;\n\t}\n\t&[data-position^=","] {\n\t\ttop    : 0;\n\t\theight : 6px;\n\t}\n\t&[data-position^=","] {\n\t\tbottom : 0;\n\t\theight : 6px;\n\t}\n\t&[data-position$=left] {\n\t\tleft  : 0;\n\t\twidth : 6px;\n\t}\n\t&[data-position$=right] {\n\t\tright : 0;\n\t\twidth : 6px;\n\t}\n\t&[data-position=","] {\n\t\tcursor : nw-resize;\n\t}\n\t&[data-position=","] {\n\t\tcursor : ne-resize;\n\t}\n\t&[data-position=","] {\n\t\tcursor : se-resize;\n\t}\n\t&[data-position=","] {\n\t\tcursor : sw-resize;\n\t}\n\t&[data-part-type=dragging] {\n\t\tdisplay  : none;\n\t\tposition : fixed;\n\t\ttop      : 0;\n\t\tleft     : 0;\n\t\twidth    : 100vw;\n\t\theight   : 100vh;\n\t\t//background-color: rgba(0, 0, 0, 0.05);\n\t\tz-index  : 1000;\n\t\t&:not([data-position=","]) {\n\t\t\tdisplay : block;\n\t\t}\n\t\t&[data-position=","] {\n\t\t\tcursor : move;\n\t\t}\n\t}\n"]);return hn=function(){return t},t}function gn(){var t=Object(c.a)(["\n\tdisplay        : flex;\n\tflex-direction : column;\n\tposition       : absolute;\n\ttop            : -3px;\n\tleft           : -3px;\n\twidth          : calc(100% + 6px);\n\theight         : calc(100% + 6px);\n"]);return gn=function(){return t},t}function jn(){var t=Object(c.a)(["\n\tdisplay          : block;\n\tborder-radius    : var(--border-radius);\n\tborder           : var(--border);\n\tbackground-color : var(--bg-color);\n\ttransition       : all 300ms ease-in-out;\n\t&[data-max=false]:hover {\n\t\tbox-shadow : var(--console-hover-shadow);\n\t}\n"]);return jn=function(){return t},t}!function(t){t.NONE="none",t.DND="drag-drop",t.RESIZE_TOP="resize-top",t.RESIZE_LEFT="resize-left",t.RESIZE_RIGHT="resize-right",t.RESIZE_BOTTOM="resize-bottom",t.RESIZE_TOP_LEFT="resize-top-left",t.RESIZE_TOP_RIGHT="resize-top-right",t.RESIZE_BOTTOM_LEFT="resize-bottom-left",t.RESIZE_BOTTOM_RIGHT="resize-bottom-right"}(nn||(nn={}));var On=f.c.div.attrs((function(t){var n=t["data-max"],e=t.rect,r=t.relative;return{"data-widget":"console-subject-view-chart",style:{position:n?"fixed":r?"relative":"absolute",top:r&&!n||null===e||void 0===e?void 0:e.top,left:r&&!n||null===e||void 0===e?void 0:e.left,width:r&&!n||null===e||void 0===e?void 0:e.width,height:r&&!n||null===e||void 0===e?void 0:e.height,borderRadius:n?0:"",zIndex:n?2:""}}}))(jn()),xn=f.c.div(gn()),En=f.c.div(hn(),nn.RESIZE_TOP,nn.RESIZE_BOTTOM,nn.RESIZE_LEFT,nn.RESIZE_RIGHT,nn.RESIZE_TOP,nn.RESIZE_BOTTOM,nn.RESIZE_TOP_LEFT,nn.RESIZE_TOP_RIGHT,nn.RESIZE_BOTTOM_RIGHT,nn.RESIZE_BOTTOM_LEFT,nn.NONE,nn.DND),yn=f.c.div.attrs({"data-widget":"console-subject-view-chart-header"})(vn()),wn=f.c.div.attrs({"data-widget":"console-subject-view-chart-header-buttons"})(mn()),In=f.c.div.attrs({"data-widget":"console-subject-view-chart-body"})(bn()),Tn=function(t,n,e,r){var a,o;return e<=r?(a=Math.max(n+r-e,Lt.c),o=Math.max(t+e-r,0)):e-r<=n?(a=Math.max(n-(e-r),Lt.c),o=Math.max(t+e-r,0)):(a=Lt.c,o=Math.max(t+e-r,0)),{top:o,height:a}},Sn=function(t,n,e,r){var a,o=t;return r-e<=0?a=Math.max(n+e-r,Lt.c):r-e<=n?(a=Math.max(n-(r-e),Lt.c))===Lt.c&&(o=Math.max(t-(r-e-(n-Lt.c)),0)):(a=Lt.c,o=Math.max(t-(r-e-(n-Lt.c)),0)),{top:o,height:a}},Cn=function(t,n,e,r){var a,o;return e<=r?(a=Math.max(n+r-e,Lt.d),o=Math.max(t+e-r,0)):e-r<=n?(a=Math.max(n-(e-r),Lt.d),o=Math.max(t+e-r,0)):(a=Lt.d,o=Math.max(t+e-r,0)),{left:o,width:a}},Rn=function(t,n,e,r){var a,o=t;return r-e<=0?a=Math.max(n+e-r,Lt.d):r-e<=n?(a=Math.max(n-(r-e),Lt.d))===Lt.d&&(o=Math.max(t-(r-e-(n-Lt.d)),0)):(a=Lt.d,o=Math.max(t-(r-e-(n-Lt.d)),0)),{left:o,width:a}},Dn=function(t){var n=t.containerRef,e=t.space,r=t.subject,c=t.chart,f=t.relative,h=void 0!==f&&f,g=t.settings,j=void 0===g||g,O=t.onDeleteChart,x=t.relative||t.locked,E=Object(v.b)(),y=Object(at.b)().save,w=Object(l.useRef)(null),I=Object(l.useRef)(null),T=Object(l.useRef)(null),S=Object(l.useState)(!1),C=Object(i.a)(S,2),R=C[0],D=C[1],k=Object(l.useState)(!1),A=Object(i.a)(k,2),_=A[0],N=A[1],M=Object(l.useState)({top:0,left:0,width:0,height:0,type:nn.NONE,startX:0,startY:0}),P=Object(i.a)(M,2),L=P[0],z=P[1],F=Object(p.f)();if(Object(l.useEffect)((function(){c.rect||(c.rect=Object(Lt.f)(n.current),F())})),Object(l.useEffect)((function(){var t=new ResizeObserver((function(){if(n.current&&w.current&&R){var t=w.current.getBoundingClientRect(),e=t.top,r=t.left,a=t.width,o=t.height,i=H(),c=i.top,s=i.left,u=i.width,d=i.height;c===e&&s===r&&u===a&&d===o||F()}}));return t.observe(n.current),function(){return t.disconnect()}})),!c.rect)return null;var H=function(){var t=n.current.getBoundingClientRect(),e=t.top,r=t.left,a=n.current;return{top:e-1,left:r-1,width:a.offsetWidth+2,height:a.offsetHeight+2}},B=function(){if(L.type!==nn.NONE){var t;if(w.current){var n=w.current;n.style.transition="",n.style.boxShadow="";var e=n.getBoundingClientRect(),r=e.width,a=e.height;c.rect={top:parseInt(n.style.top),left:parseInt(n.style.left),width:r,height:a}}z({top:0,left:0,width:0,height:0,type:nn.NONE,startX:0,startY:0}),null===(t=window.getSelection())||void 0===t||t.removeAllRanges(),y()}},U=function(){var t=Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(!0);case 2:N(!1);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),G=function(){O(c),E.hide()},Y=R?H():c.rect;return Object(s.jsx)(On,{"data-max":R,rect:Y,relative:h,ref:w,children:Object(s.jsxs)(xn,{onMouseDown:function(t){var n,e;if(!R&&!x&&w.current){var r=t.clientX,a=t.clientY,o=parseFloat(w.current.style.top),i=parseFloat(w.current.style.left),c=parseFloat(w.current.style.width),s=parseFloat(w.current.style.height),u=t.target,d=u.getAttribute("data-position");d?(w.current.style.transition="none",w.current.style.boxShadow="var(--console-primary-hover-shadow)",z({top:o,left:i,width:c,height:s,type:d,startX:r,startY:a})):(null===(n=I.current)||void 0===n?void 0:n.contains(u))&&!(null===(e=T.current)||void 0===e?void 0:e.contains(u))&&(w.current.style.transition="none",w.current.style.boxShadow="var(--console-primary-hover-shadow)",z({top:o,left:i,width:c,height:s,type:nn.DND,startX:r,startY:a}))}},onMouseUp:function(){return B()},onMouseMove:function(t){if(!R&&!x&&w.current&&L.type!==nn.NONE){var n=t.clientX,e=t.clientY,r=w.current.style,a=L.top,o=L.left,i=L.width,c=L.height,s=L.type,u=L.startX,d=L.startY;switch(s){case nn.DND:r.top="".concat(Math.max(0,a+e-d),"px"),r.left="".concat(Math.max(0,o+n-u),"px");break;case nn.RESIZE_TOP:var l=Tn(a,c,e,d),f=l.top,p=l.height;r.top="".concat(f,"px"),r.height="".concat(p,"px");break;case nn.RESIZE_BOTTOM:var b=Sn(a,c,e,d),m=b.top,v=b.height;r.top="".concat(m,"px"),r.height="".concat(v,"px");break;case nn.RESIZE_LEFT:var h=Cn(o,i,n,u),g=h.left,j=h.width;r.left="".concat(g,"px"),r.width="".concat(j,"px");break;case nn.RESIZE_RIGHT:var O=Rn(o,i,n,u),E=O.left,y=O.width;r.left="".concat(E,"px"),r.width="".concat(y,"px");break;case nn.RESIZE_TOP_LEFT:var I=Tn(a,c,e,d),T=I.top,S=I.height,C=Cn(o,i,n,u),D=C.left,k=C.width;r.top="".concat(T,"px"),r.left="".concat(D,"px"),r.width="".concat(k,"px"),r.height="".concat(S,"px");break;case nn.RESIZE_TOP_RIGHT:var A=Tn(a,c,e,d),_=A.top,N=A.height,M=Rn(o,i,n,u),P=M.left,z=M.width;r.top="".concat(_,"px"),r.left="".concat(P,"px"),r.width="".concat(z,"px"),r.height="".concat(N,"px");break;case nn.RESIZE_BOTTOM_LEFT:var F=Sn(a,c,e,d),H=F.top,B=F.height,U=Cn(o,i,n,u),G=U.left,Y=U.width;r.top="".concat(H,"px"),r.left="".concat(G,"px"),r.width="".concat(Y,"px"),r.height="".concat(B,"px");break;case nn.RESIZE_BOTTOM_RIGHT:var q=Sn(a,c,e,d),X=q.top,Z=q.height,V=Rn(o,i,n,u),W=V.left,J=V.width;r.top="".concat(X,"px"),r.left="".concat(W,"px"),r.width="".concat(J,"px"),r.height="".concat(Z,"px")}}},onMouseLeave:function(){return B()},children:[Object(s.jsxs)(yn,{"data-position":nn.DND,"data-locked":x,ref:I,children:[Object(s.jsx)("span",{children:c.name||"Noname"}),Object(s.jsxs)(wn,{"data-visible":!x,"data-expanded":R,ref:T,children:[Object(s.jsx)(m.a,{ignoreHorizontalPadding:!0,tooltip:R?"Minimize":"Maximize",center:!0,onClick:function(t){t.preventDefault(),t.stopPropagation(),D(!R)},children:Object(s.jsx)(d.a,{icon:R?u.z:u.J})}),j?Object(s.jsx)(m.a,{ignoreHorizontalPadding:!0,tooltip:"Open Settings",center:!0,onClick:function(t){t.preventDefault(),t.stopPropagation(),N(!0)},children:Object(s.jsx)(d.a,{icon:u.w})}):null,Object(s.jsx)(m.a,{ignoreHorizontalPadding:!0,tooltip:"Delete Chart",center:!0,onClick:function(t){t.preventDefault(),t.stopPropagation(),E.show(Object(s.jsx)("div",{"data-widget":"dialog-console-delete",children:Object(s.jsx)("span",{children:"Are you sure to delete this chart?"})}),Object(s.jsxs)(l.Fragment,{children:[Object(s.jsx)("div",{style:{flexGrow:1}}),Object(s.jsx)(b.c,{inkType:b.b.PRIMARY,onClick:G,children:"Yes"}),Object(s.jsx)(b.c,{inkType:b.b.DEFAULT,onClick:E.hide,children:"Cancel"})]}))},children:Object(s.jsx)(d.a,{icon:u.Gb})})]})]}),Object(s.jsxs)(In,{children:[Object(s.jsx)(rt,{space:e,subject:r,chart:c,visible:!_}),Object(s.jsx)(pn,{space:e,subject:r,chart:c,visible:!x&&_,closeSettings:U})]}),Object(s.jsx)(En,{"data-position":nn.RESIZE_TOP,"data-locked":x}),Object(s.jsx)(En,{"data-position":nn.RESIZE_LEFT,"data-locked":x}),Object(s.jsx)(En,{"data-position":nn.RESIZE_RIGHT,"data-locked":x}),Object(s.jsx)(En,{"data-position":nn.RESIZE_BOTTOM,"data-locked":x}),Object(s.jsx)(En,{"data-position":nn.RESIZE_TOP_LEFT,"data-locked":x}),Object(s.jsx)(En,{"data-position":nn.RESIZE_TOP_RIGHT,"data-locked":x}),Object(s.jsx)(En,{"data-position":nn.RESIZE_BOTTOM_LEFT,"data-locked":x}),Object(s.jsx)(En,{"data-position":nn.RESIZE_BOTTOM_RIGHT,"data-locked":x}),Object(s.jsx)(En,{"data-part-type":"dragging","data-position":L.type,"data-locked":x})]})})}},388:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(9),a=e(1),o=e(2),i=function(){var t=Object(o.e)().consoleMenuWidth,n=Object(a.useState)(t),e=Object(r.a)(n,2);return{menuWidth:e[0],setMenuWidth:e[1]}}},389:function(t,n,e){"use strict";e.d(n,"a",(function(){return p}));var r=e(28),a=e(19),o=e.n(a),i=e(74),c=e(23),s=e(9),u=e(82),d=e(1),l=e(15),f=function(t,n){var e=new Set(t.map((function(t){return t.id}))),r=new Set(n.map((function(t){return t.id})));return t.sort((function(t,n){return t.createDate.localeCompare(n.createDate)})).reverse().filter((function(t){return!!e.has(t.id)&&(e.delete(t.id),!r.has(t.id))}))},p=function(t){var n=t.updateAsRead,e=t.listReadMessages,a=t.listUnreadMessages,p=t.getLatestMessages,b=t.typeStr,m=t.latestArrivedEvent,v=Object(d.useState)(new u.EventEmitter),h=Object(s.a)(v,1)[0],g=Object(l.f)(),j=Object(d.useState)({initialized:!1,unread:[],allUnreadLoaded:!1,read:[],allReadLoaded:!1}),O=Object(s.a)(j,1)[0],x=function(t){Object.keys(t).forEach((function(n){return O[n]=t[n]})),g()},E=function(){var t=Object(c.a)(o.a.mark((function t(){var e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===O.unread.length){t.next=6;break}return e=O.unread,r=f([].concat(Object(i.a)(O.read),Object(i.a)(e)),[]),x({unread:[],read:r}),t.next=6,n(e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(c.a)(o.a.mark((function t(e){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=O.unread.filter((function(t){return t!==e})),a=f([].concat(Object(i.a)(O.read),[e]),[]),x({read:a,unread:r}),t.next=5,n([e]);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),w=function(){var t=Object(c.a)(o.a.mark((function t(n){var r,a,c,s,u,d,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(r=n||{}).pageSize,c=void 0===a?30:a,s=r.endTime,t.prev=1,t.next=4,e({pageSize:c,endTime:s});case 4:u=t.sent,d=u.list,l=u.allLoaded,x({read:f([].concat(Object(i.a)(O.read),Object(i.a)(d)),O.unread),allReadLoaded:l}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),console.groupCollapsed("%cError on fetch read ".concat(b,"."),"color:rgb(251,71,71)"),console.error(t.t0),console.groupEnd();case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(n){return t.apply(this,arguments)}}(),I=function(){var t=Object(c.a)(o.a.mark((function t(n){var e,r,c,s,u,d,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(e=n||{}).pageSize,c=void 0===r?30:r,s=e.endTime,t.prev=1,t.next=4,a({pageSize:c,endTime:s});case 4:u=t.sent,d=u.list,l=u.allLoaded,x({unread:f([].concat(Object(i.a)(O.unread),Object(i.a)(d)),O.read),allUnreadLoaded:l}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),console.groupCollapsed("%cError on fetch unread ".concat(b,"."),"color:rgb(251,71,71)"),console.error(t.t0),console.groupEnd();case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(n){return t.apply(this,arguments)}}(),T=function(){var t=Object(c.a)(o.a.mark((function t(){var n,e,r=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(r.length>0&&void 0!==r[0])||r[0],t.prev=1,t.next=4,p();case 4:0!==(e=t.sent).length&&(x({initialized:n,unread:f([].concat(Object(i.a)(O.unread),Object(i.a)(e)),O.read)}),h.emit(m,e[0])),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.groupCollapsed("%cError on fetch latest ".concat(b,"."),"color:rgb(251,71,71)"),console.error(t.t0),console.groupEnd();case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return Object(r.a)(Object(r.a)({},O),{},{readAll:E,readOne:y,fetchRead:w,fetchUnread:I,fetchLatest:T,on:function(t,n){return h.on(t,n)},off:function(t,n){return h.off(t,n)}})}},390:function(t,n,e){"use strict";e.d(n,"a",(function(){return m}));var r=e(3),a=e(0),o=e(14),i=e(1),c=e(2),s=e(97);function u(){var t=Object(r.a)(["\n\tposition: relative;\n\tflex-grow: 1;\n\tmargin-left: calc((var(--console-menu-width) - 32px) / 2);\n\topacity: 0.7;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tfont-variant: petite-caps;\n"]);return u=function(){return t},t}function d(){var t=Object(r.a)(["\n\t&[data-widget='menu-item-icon'] {\n\t\twidth: var(--console-menu-item-icon-size);\n\t\tfont-size: ",";\n\t}\n"]);return d=function(){return t},t}function l(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\tpadding: 0 calc((var(--console-menu-width) - var(--console-menu-item-icon-size)) / 2) 0 calc(var(--margin) / 4);\n\tmin-height: var(--console-menu-height);\n\talign-items: center;\n\tcursor: pointer;\n\t&:hover {\n\t\tcolor: var(--console-primary-color);\n\t\t> div:last-child {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\t&[data-active=true] {\n\t\t> div:first-child {\n\t\t\tcolor: var(--invert-color);\n\t\t\tbackground-color: var(--console-primary-color);\n\t\t}\n\t}\n\t> div:first-child {\n\t\tborder-radius: var(--border-radius);\n\t\theight: 32px;\n\t\tmin-height: 32px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n"]);return l=function(){return t},t}var f=c.c.div.attrs({"data-widget":"menu-item-container"})(l()),p=Object(c.c)(o.a).attrs({"data-widget":"menu-item-icon"})(d(),(function(t){var n=t["icon-size"];return null!=n?"".concat(n,"em"):""})),b=c.c.div(u()),m=function(t){var n=t.icon,e=t.iconSize,r=t.label,o=t.showTooltip,c=t.className,u=t.active,d=t.onClick,l=t.visible,m=void 0===l||l,v=Object(i.useRef)(null),h=Object(s.c)({show:o,tooltip:r,ref:v,rect:function(){return{align:s.b.LEFT,offsetX:-5}}}),g=h.mouseEnter,j=h.mouseLeave;if(!m)return null;return Object(a.jsxs)(f,{className:c,"data-active":u,ref:v,onMouseEnter:g,onMouseLeave:j,onClick:function(){d&&d(v.current.getBoundingClientRect())},children:[Object(a.jsx)("div",{children:Object(a.jsx)(p,{icon:n,"icon-size":e})}),Object(a.jsx)(b,{children:r})]})}},391:function(t,n,e){"use strict";e.d(n,"a",(function(){return p}));var r=e(3),a=e(0),o=(e(1),e(2)),i=e(20);function c(){var t=Object(r.a)(["\n\tfont-family: var(--console-title-font-family);\n\tfont-weight: var(--console-title-font-weight);\n\tfont-style: italic;\n\tfont-size: 1.8em;\n\tletter-spacing: 2px;\n\tfont-variant: petite-caps;\n\tmargin-left: calc((var(--console-menu-width) - var(--console-menu-item-icon-size)) / 2);\n\toverflow-x: hidden;\n\twhite-space: nowrap;\n"]);return c=function(){return t},t}function s(){var t=Object(r.a)(["\n\twidth: var(--console-menu-item-icon-size);\n\theight: var(--console-menu-item-icon-size);\n"]);return s=function(){return t},t}function u(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tpadding: calc(var(--margin) / 2) calc((var(--console-menu-width) - var(--console-menu-item-icon-size)) / 2) \t\t\t calc(var(--margin) / 2) calc(var(--margin) / 4);\n\talign-items: center;\n"],["\n\tdisplay: flex;\n\tpadding: calc(var(--margin) / 2) calc((var(--console-menu-width) - var(--console-menu-item-icon-size)) / 2) \\\n\t\t\t calc(var(--margin) / 2) calc(var(--margin) / 4);\n\talign-items: center;\n"]);return u=function(){return t},t}var d=o.c.div.attrs({"data-widget":"console-logo-container"})(u()),l=Object(o.c)(i.a)(s()),f=o.c.div(c()),p=function(t){var n=t.title,e=void 0===n?"Watchmen":n;return Object(a.jsxs)(d,{children:[Object(a.jsx)(l,{}),Object(a.jsx)(f,{children:e})]})}},392:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(3);function a(){var t=Object(r.a)(["\n\tmargin: 0 calc(var(--margin) / 4);\n\theight: 1px;\n\tmin-height: 1px;\n\twidth: calc("," - var(--margin) / 2);\n\tbackground-color: var(--console-menu-separator-color);\n"]);return a=function(){return t},t}var o=e(2).c.div(a(),(function(t){var n=t.width;return"".concat(n,"px")}))},393:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e(3),a=e(0),o=(e(1),e(2)),i=e(134);function c(){var t=Object(r.a)(["\n\tposition: relative;\n\tflex-grow: 1;\n\tmargin-left: calc((var(--console-menu-width) - 32px) / 2);\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tfont-variant: petite-caps;\n"]);return c=function(){return t},t}function s(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tpadding: calc(var(--margin) / 2) calc((var(--console-menu-width) - var(--console-menu-item-icon-size)) / 2) \t\t\t calc(var(--margin) / 2) calc(var(--margin) / 4);\n\talign-items: center;\n"],["\n\tdisplay: flex;\n\tpadding: calc(var(--margin) / 2) calc((var(--console-menu-width) - var(--console-menu-item-icon-size)) / 2) \\\n\t\t\t calc(var(--margin) / 2) calc(var(--margin) / 4);\n\talign-items: center;\n"]);return s=function(){return t},t}var u=o.c.div.attrs({"data-widget":"console-user-container"})(s()),d=o.c.div(c()),l=function(t){var n=t.user.name;return Object(a.jsxs)(u,{children:[Object(a.jsx)(i.a,{name:n}),Object(a.jsx)(d,{children:n})]})}},394:function(t,n,e){"use strict";e.d(n,"a",(function(){return m}));var r=e(3),a=e(0),o=(e(1),e(2));function i(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: absolute;\n\tborder-radius: 50%;\n\t&[data-small] {\n\t\tanimation: "," 5s infinite alternate;\n\t}\n\t&[data-middle] {\n\t\tanimation: "," 5s infinite alternate;\n\t}\n\t&[data-large] {\n\t\tanimation: "," 5s infinite alternate;\n\t}\n"]);return i=function(){return t},t}function c(){var t=Object(r.a)(["\n\tfrom {\n\t\ttransform: translateX(0);\n\t}\n\tto {\n\t\ttransform: translateX(80px);\n\t}\n"]);return c=function(){return t},t}function s(){var t=Object(r.a)(["\n\tfrom {\n\t\ttransform: translateX(0);\n\t}\n\tto {\n\t\ttransform: translateX(120px);\n\t}\n"]);return s=function(){return t},t}function u(){var t=Object(r.a)(["\n\tfrom {\n\t\ttransform: translateX(0);\n\t}\n\tto {\n\t\ttransform: translateX(160px);\n\t}\n"]);return u=function(){return t},t}function d(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: absolute;\n\tborder-radius: 100%;\n\tbackground-color: var(--primary-color);\n\topacity: ",";\n\tleft: calc(50% - ","px);\n\twidth: ","px;\n\theight: ","px;\n\tuser-select: none;\n\tpointer-events: none;\n\tanimation: "," 6s linear infinite;\n"]);return d=function(){return t},t}function l(){var t=Object(r.a)(["",""]);return l=function(){return t},t}function f(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tjustify-content: space-around;\n\ttransition: opacity 300ms ease-in-out;\n\t&[data-visible=true] {\n\t\topacity: 1;\n\t}\n\t&[data-visible=false] {\n\t\topacity: 0;\n\t}\n"]);return f=function(){return t},t}var p=o.c.div.attrs({"data-widget":"console-horizontal-loading"})(f()),b=o.c.div(d(),(function(t){return t.opacity}),(function(t){return t.width/2}),(function(t){return t.width}),(function(t){return t.width}),(function(t){return function(t){var n=t.distance,e=t.opacity,r={1:[1,.6,.2,.6,1,.6,.2,.6,1,.6,.2,.6,1],.6:[.6,.2,.6,1,.6,.2,.6,1,.6,.2,.6,1,.6],.2:[.2,.6,1,.6,.2,.6,1,.6,.2,.6,1,.6,.2]}["".concat(e)]||[1,1,1,1,1,1,1,1,1,1,1,1,1];return Object(o.d)(l(),new Array(13).fill(1).map((function(t,e,a){var o=0,i=0,c=r[e];switch(!0){case 0===e||12===e:o=0-n,i=0;break;case 1===e||11===e:o=0-n/3*2,i=180;break;case 2===e||10===e:o=0-n/3,i=360;break;case 3===e||9===e:o=0,i=540;break;case 4===e||8===e:o=n/3,i=720;break;case 5===e||7===e:o=n/3*2,i=900;break;case 6===e:o=n,i=1080}return"\n\t\t\t\t".concat(e/(a.length-1)*100,"% {\n\t\t\t\t\ttransform: rotateY(").concat(i,"deg);\n\t\t\t\t\tmargin-left: ").concat(o,"px;\n\t\t\t\t\topacity: ").concat(c,";\n\t\t\t\t}\n\t\t\t")})).join(""))}({distance:t.distance,opacity:t.opacity})})),m=function(t){var n=t.className,e=t.visible;return Object(a.jsxs)(p,{className:n,"data-visible":e,children:[Object(a.jsx)(b,{width:12,opacity:1,distance:80}),Object(a.jsx)(b,{width:16,opacity:.6,distance:70}),Object(a.jsx)(b,{width:20,opacity:.2,distance:60})]})},v=Object(o.d)(u()),h=Object(o.d)(s()),g=Object(o.d)(c());o.c.div.attrs((function(t){var n=t.left,e=t.size;return{style:{width:e,height:e,marginTop:20-e,left:n,backgroundColor:t.color}}}))(i(),v,h,g)},395:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return v}));var r,a=e(19),o=e.n(a),i=e(23),c=e(1),s=e(16),u=e.n(s),d=e(70),l=function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){t({notifications:[{id:"5",subject:"Awesome report for investigating customers distribution.",category:d.c.REPORT_PUSHED,body:"A distribution diagram of customers of age bracket and place of residence.",sender:"Damon Lindelof",createDate:"2020/11/05 20:18:19"},{id:"4",subject:"Scatter support dynamic effect now.",category:d.c.CHART_TYPE_PUSHED,body:"Use dynamic effect, active your chart!",sender:"Sally Jupiter",createDate:"2020/11/03 09:55:09"},{id:"3",subject:"A big space for marketing digging.",category:d.c.SPACE_PUSHED,body:"After 3 weeks great work, the marketing space is online now.\nThanks to all involved in making this happen!\nFollow us to find more...",sender:"Sally Jupiter",createDate:"2020/11/01 11:24:01"},{id:"2",subject:"Jeffrey Dean Morgan left.",category:d.c.GROUP_LEFT,body:'Jeffrey Dean Morgan left group "Oklahoma".',sender:"Roy Raymond",createDate:"2020/10/14 15:42:00"},{id:"1",subject:"Hello there.",category:d.c.GROUP_JOINED,body:'Welcome to group "Oklahoma", guess which one here?',sender:"Damon Lindelof",createDate:"2020/10/05 17:45:37"}],allLoaded:!0})}),1e3)})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){t({notifications:[],allLoaded:!0})}),3e3)})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{id:"6",subject:"Jeffrey Dean Morgan join us again.",category:d.c.GROUP_JOINED,body:"Misoperation must be prevented on system level.",sender:"Damon Lindelof",createDate:u()().format("YYYY-MM-DD HH:mm:ss")}]);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),b=function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),m=e(389);!function(t){t.LATEST_RECEIVED="latest-notification-received"}(r||(r={}));var v=function(){var t=Object(m.a)({updateAsRead:b,listReadMessages:function(){var t=Object(i.a)(o.a.mark((function t(n){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(n);case 2:return e=t.sent,t.abrupt("return",{list:e.notifications,allLoaded:e.allLoaded});case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),listUnreadMessages:function(){var t=Object(i.a)(o.a.mark((function t(n){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(n);case 2:return e=t.sent,t.abrupt("return",{list:e.notifications,allLoaded:e.allLoaded});case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),getLatestMessages:p,typeStr:"notifications",latestArrivedEvent:r.LATEST_RECEIVED});return Object(c.useEffect)((function(){t.initialized||setTimeout(Object(i.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.fetchLatest();case 2:case"end":return n.stop()}}),n)}))),3e4)}),[t.initialized]),t}},70:function(t,n,e){"use strict";var r,a,o,i,c,s,u,d,l,f,p;e.d(n,"c",(function(){return r})),e.d(n,"g",(function(){return a})),e.d(n,"h",(function(){return o})),e.d(n,"f",(function(){return i})),e.d(n,"j",(function(){return c})),e.d(n,"i",(function(){return s})),e.d(n,"a",(function(){return u})),e.d(n,"k",(function(){return d})),e.d(n,"e",(function(){return l})),e.d(n,"d",(function(){return f})),e.d(n,"b",(function(){return p})),function(t){t.CHART_TYPE_PUSHED="CHART_TYPE_PUSHED",t.SPACE_PUSHED="SPACE_PUSHED",t.TOPIC_PUSHED="TOPIC_PUSHED",t.FACTOR_PUSHED="FACTOR_PUSHED",t.REPORT_PUSHED="REPORT_PUSHED",t.GROUP_JOINED="GROUP_JOINED",t.GROUP_LEFT="GROUP_LEFT",t.SPACE_JOINED="SPACE_JOINED",t.SPACE_LEFT="SPACE_LEFT",t.SUBSCRIBE_REPORT_CHANGED="SUBSCRIBE_REPORT_CHANGED",t.SUBSCRIBE_REPORT_DELETED="SUBSCRIBE_REPORT_DELETED"}(r||(r={})),function(t){t.SEQUENCE="sequence",t.NUMBER="number",t.TEXT="text",t.DATETIME="datetime",t.BOOLEAN="boolean",t.ENUM="enum"}(a||(a={})),function(t){t.ONE_2_ONE="one-2-one",t.ONE_2_MANY="one-2-many",t.MANY_2_ONE="many-2-one"}(o||(o={})),function(t){t.PUBLIC="public",t.PRIVATE="private"}(i||(i={})),function(t){t.AND="and",t.OR="or"}(c||(c={})),function(t){t.EQUALS="equals",t.NOT_EQUALS="not-equals",t.LESS="less",t.LESS_EQUALS="less-equals",t.MORE="more",t.MORE_EQUALS="more-equals",t.IN="in",t.NOT_IN="not-in",t.YEAR_OF="year-of",t.HALF_YEAR_OF="half-year-of",t.QUARTER_OF="quarter-of",t.MONTH_OF="month-of",t.WEEK_OF_YEAR="week-of-year",t.WEEK_OF_MONTH="week-of-month",t.WEEKDAYS="weekdays",t.TILL_NOW="till-now"}(s||(s={})),function(t){t.NONE="none",t.ADD="add",t.SUBTRACT="subtract",t.MULTIPLY="multiply",t.DIVIDE="divide",t.MODULUS="modulus"}(u||(u={})),function(t){t.LEFT="left",t.RIGHT="right",t.INNER="inner"}(d||(d={})),function(t){t.COUNT="count",t.BAR="bar",t.LINE="line",t.SCATTER="scatter",t.PIE="pie",t.DOUGHNUT="doughnut",t.NIGHTINGALE="nightingale",t.SUNBURST="sunburst",t.TREE="tree",t.TREEMAP="treemap"}(l||(l={})),function(t){t.NONE="none",t.COUNT="count",t.SUMMARY="sum",t.AVERAGE="avg",t.MEDIAN="med",t.MAXIMUM="max",t.MINIMUM="min"}(f||(f={})),function(t){t.SPACE="space",t.DASHBOARD="dashboard"}(p||(p={}))},76:function(t,n,e){"use strict";e.d(n,"b",(function(){return u})),e.d(n,"a",(function(){return l}));var r=e(3),a=e(0),o=e(1),i=e(2),c=e(97);function s(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 4px ",";\n\tborder: 0;\n\tappearance: none;\n\toutline: none;\n\tcolor: currentColor;\n\tbackground-color: transparent;\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t","\n"]);return s=function(){return t},t}var u=function(t){var n=t.opacity;return"\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-radius: var(--border-radius);\n\t\t\tbackground-color: transparent;\n\t\t\topacity: ".concat(void 0===n?.2:n,";\n\t\t\ttransition: all 300ms ease-in-out;\n\t\t}\n\t\t&:hover:before {\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--console-waive-color);\n\t\t}\n\t")},d=i.c.button(s(),(function(t){return t["ignore-horizontal-padding"]?"4px":"calc(var(--margin) / 2)"}),u({opacity:.2})),l=function(t){var n=t.tooltip,e=t.center,r=void 0!==e&&e,i=t.right,s=void 0!==i&&i,u=t.offsetX,l=void 0===u?0:u,f=t.offsetY,p=void 0===f?10:f,b=t.ignoreHorizontalPadding,m=t.onClick,v=t.children,h=Object(o.useRef)(null),g=Object(c.c)({show:!!n,tooltip:n,ref:h,rect:function(){return{align:r?c.b.CENTER:s?c.b.RIGHT:c.b.LEFT,offsetY:p,offsetX:l}}}),j=g.mouseEnter,O=g.mouseLeave,x=g.hide;return Object(a.jsx)(d,{"ignore-horizontal-padding":b,onMouseEnter:j,onMouseLeave:O,onClick:function(t){m&&(x&&x(),m(t))},ref:h,children:v})}},78:function(t,n,e){"use strict";e.d(n,"c",(function(){return s})),e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return d})),e.d(n,"d",(function(){return f})),e.d(n,"e",(function(){return p})),e.d(n,"f",(function(){return b}));var r=e(9),a=e(135),o=e.n(a),i=["#60acfc","#32d3eb","#5bc49f","#feb64d","#ff7c7c","#9287e7"],c=["#238ee4","#42B1C2","#8DD86F","#FD8C56","#E14D7C","#6163D9"],s=i,u=[].concat(i,c),d=[].concat(i,c,["#31A3E5","#39C6BB","#CCED48","#F66B5B","#CA4697","#5057D6"],["#2EB1D9","#55CEA3","#FED535","#F75559","#A542AF","#5479CD"]),l=d.map((function(t){return o()(t)})),f=l.map((function(t){return t.darken(.1).rgb().toString()})),p=l.map((function(t){return t.lighten(.2).rgb().toString()})),b=l.map((function(t){return t.lighten(.4).rgb().toString()})),m=[f,p,b].map((function(t){return t.filter((function(t,n){return n%2===0}))})),v=Object(r.a)(m,3),h=(v[0],v[1],v[2],[f,p,b].map((function(t){return t.filter((function(t,n){return n%4===0}))}))),g=Object(r.a)(h,3);g[0],g[1],g[2]},79:function(t,n,e){"use strict";var r=e(19),a=e.n(r),o=e(23),i=e(28),c=e(9),s=e(117),u=e(3),d=e(0),l=e(18),f=e(14),p=e(1),b=e(2);function m(){var t=Object(u.a)(["\n\tposition: fixed;\n\tmax-height: calc(var(--height) * 8 + 2px);\n\tpointer-events: none;\n\topacity: 0;\n\tbackground-color: var(--bg-color);\n\tborder: var(--border);\n\ttransition: opacity 300ms ease-in-out;\n\tz-index: 999;\n\toverflow-y: auto;\n\t> span {\n\t\theight: var(--height);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 6px var(--input-indent);\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\t&:hover {\n\t\t\tbackground-color: var(--hover-color);\n\t\t}\n\t}\n"]);return m=function(){return t},t}function v(){var t=Object(u.a)(["\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\toverflow-x: hidden;\n\tflex-grow: 1;\n"]);return v=function(){return t},t}var h=b.c.div.attrs((function(){return{"data-widget":"dropdown"}}))((function(t){var n=t.theme,e=t.top,r=t.height,a=t.itemCount,o=e+r+Math.min(a,8)*n.height+2<window.innerHeight;return"\n\t\tposition: relative;\n\t\tpadding: 6px var(--input-indent);\n\t\toutline: none;\n\t\tappearance: none;\n\t\tborder: var(--border);\n\t\tborder-radius: var(--border-radius);\n\t\tfont-size: var(--font-size);\n\t\theight: var(--height);\n\t\tline-height: var(--line-height);\n\t\tcolor: var(--font-color);\n\t\tbackground-color: transparent;\n\t\ttransition: all 300ms ease-in-out;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\t\twidth: 100%;\n\t\t> svg {\n\t\t\topacity: 0;\n\t\t\tmargin-left: var(--letter-gap);\n\t\t\ttransition: all 300ms ease-in-out;\n\t\t}\n\t\t&:hover,\n\t\t&:focus {\n\t\t\t> svg {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t\t&[data-options-visible=true]:focus {\n\t\t\tborder-bottom-left-radius: ".concat(o?0:"var(--border-radius)",";\n\t\t\tborder-bottom-right-radius: ").concat(o?0:"var(--border-radius)",";\n\t\t\tborder-top-left-radius: ").concat(o?"var(--border-radius)":0,";\n\t\t\tborder-top-right-radius: ").concat(o?"var(--border-radius)":0,";\n\t\t\t> div:last-child {\n\t\t\t\topacity: 1;\n\t\t\t\tpointer-events: auto;\n\t\t\t}\n\t\t}\n\t")})),g=b.c.span(v()),j=b.c.div.attrs((function(t){var n=t.theme,e=t.top,r=t.left,a=t.height,o=t.minWidth,i=t.itemCount,c=e+a+Math.min(i,8)*n.height+2<window.innerHeight;return{style:{top:c?e+a-1:"unset",bottom:c?"unset":"calc(100vh - ".concat(e+1,"px)"),left:r,minWidth:o,borderTopLeftRadius:c?0:"var(--border-radius)",borderTopRightRadius:c?0:"var(--border-radius)",borderBottomLeftRadius:c?"var(--border-radius)":0,borderBottomRightRadius:c?"var(--border-radius)":0}}}))(m()),O=function(t){var n=t.getBoundingClientRect();return{top:n.top,left:n.left,width:n.width,height:n.height}};n.a=function(t){var n,e=t.className,r=t.options,u=void 0===r?[]:r,b=t.onChange,m=t.value,v=t.please,x=void 0===v?"":v,E=t.select,y=Object(s.a)(t,["className","options","onChange","value","please","select"]),w=Object(p.useRef)(null),I=Object(p.useState)({active:!1,top:0,left:0,width:0,height:0,minWidth:0}),T=Object(c.a)(I,2),S=T[0],C=T[1];if(Object(p.useEffect)((function(){var t=function(){if(S.active){var t=O(w.current),n=t.top,e=t.left,r=t.width,a=t.height;C(Object(i.a)(Object(i.a)({},S),{},{top:n,left:e,width:r,height:a,minWidth:r}))}};return window.addEventListener("scroll",t,!0),function(){window.removeEventListener("scroll",t,!0)}})),null==m)n=x;else if(E)n=E(m)||x;else{var R=u.find((function(t){return t.value===m}));n=R?R.label:x}var D=function(t){return Object(o.a)(a.a.mark((function n(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(t);case 2:e=n.sent,C(e?Object(i.a)(Object(i.a)({},S),{},{active:e.active}):Object(i.a)(Object(i.a)({},S),{},{active:!1}));case 4:case"end":return n.stop()}}),n)})))};return Object(d.jsxs)(h,Object(i.a)(Object(i.a)(Object(i.a)({className:e,"data-options-visible":S.active},S),y),{},{itemCount:u.length,ref:w,role:"input",tabIndex:0,onClick:function(){var t=O(w.current),n=t.top,e=t.left,r=t.width,a=t.height;C({active:!0,top:n,left:e,width:r,height:a,minWidth:r})},onBlur:function(){return C(Object(i.a)(Object(i.a)({},S),{},{active:!1}))},children:[Object(d.jsx)(g,{children:n}),Object(d.jsx)(f.a,{icon:l.j}),Object(d.jsx)(j,Object(i.a)(Object(i.a)({},S),{},{itemCount:u.length,children:u.map((function(t){return Object(d.jsx)("span",{onClick:D(t),children:t.label},"".concat(t.value))}))}))]}))}},85:function(t,n,e){"use strict";e.d(n,"a",(function(){return A})),e.d(n,"b",(function(){return _}));var r,a=e(9),o=e(0),i=e(1),c=e.n(i),s=e(26),u=e(388),d=e(97),l=e(28),f=e(19),p=e.n(f),b=e(74),m=e(23),v=e(82),h=e(15),g=e(150);!function(t){t.DASHBOARD_ADDED="dashboard-added",t.DASHBOARD_DELETED="dashboard-deleted",t.DASHBOARD_RENAMED="dashboard-renamed"}(r||(r={}));var j,O=e(70),x=function(){var t=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{dashboardId:"1",type:O.b.DASHBOARD},{connectId:"2",type:O.b.SPACE}]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){t({mails:[{id:"1",subject:"Hello there.",body:'Welcome to group "Oklahoma", guess which one here?',sender:"Damon Lindelof",createDate:"2020/10/05 17:45:37"}],allLoaded:!0})}),1e3)})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),y=function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){t({mails:[],allLoaded:!0})}),3e3)})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),w=function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),I=function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),T=e(389);!function(t){t.LATEST_RECEIVED="latest-mail-received"}(j||(j={}));var S,C=e(395),R=e(183),D=e(101);!function(t){t.SPACE_ADDED="space-added",t.SPACE_DELETED="space-deleted",t.SPACE_RENAMED="space-renamed"}(S||(S={}));var k=c.a.createContext({});k.displayName="ConsoleContext";var A=function(t){var n=t.children,e=Object(u.a)(),c=Object(i.useState)((function(){var t;return{name:(null===(t=Object(s.a)())||void 0===t?void 0:t.name)||"Walter Kovacs"}})),f={menu:e,user:Object(a.a)(c,1)[0],notifications:Object(C.b)(),mails:Object(T.a)({updateAsRead:I,listReadMessages:function(){var t=Object(m.a)(p.a.mark((function t(n){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(n);case 2:return e=t.sent,t.abrupt("return",{list:e.mails,allLoaded:e.allLoaded});case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),listUnreadMessages:function(){var t=Object(m.a)(p.a.mark((function t(n){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(n);case 2:return e=t.sent,t.abrupt("return",{list:e.mails,allLoaded:e.allLoaded});case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),getLatestMessages:w,typeStr:"mails",latestArrivedEvent:j.LATEST_RECEIVED}),spaces:function(){var t=Object(i.useState)(new v.EventEmitter),n=Object(a.a)(t,1)[0],e=Object(i.useState)({initialized:!1,connected:[],available:[]}),r=Object(a.a)(e,1)[0],o=Object(i.useState)({addSpace:function(t){r.initialized=!0,r.connected.push(t),n.emit(S.SPACE_ADDED,t)},addSpaceAddedListener:function(t){return n.on(S.SPACE_ADDED,t)},removeSpaceAddedListener:function(t){return n.off(S.SPACE_ADDED,t)},deleteSpace:function(t){r.initialized=!0;var e=r.connected.findIndex((function(n){return n.connectId==t.connectId}));-1!==e&&r.connected.splice(e,1),n.emit(S.SPACE_DELETED,t)},addSpaceDeletedListener:function(t){return n.on(S.SPACE_DELETED,t)},removeSpaceDeletedListener:function(t){return n.off(S.SPACE_DELETED,t)},spaceRenamed:function(t){return n.emit(S.SPACE_RENAMED,t)},addSpaceRenamedListener:function(t){return n.on(S.SPACE_RENAMED,t)},removeSpaceRenamedListener:function(t){return n.off(S.SPACE_RENAMED,t)}}),c=Object(a.a)(o,1)[0],s=Object(h.f)();return Object(i.useEffect)((function(){r.initialized||Object(m.a)(p.a.mark((function t(){var n,e,a,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(D.i)();case 3:return a=t.sent,t.next=6,Object(D.g)();case 6:o=t.sent,r.initialized=!0,(n=r.connected).push.apply(n,Object(b.a)(a)),(e=r.available).push.apply(e,Object(b.a)(o)),s(),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),console.groupCollapsed("%cError on fetch spaces.","color:rgb(251,71,71)"),console.error(t.t0),console.groupEnd();case 18:case"end":return t.stop()}}),t,null,[[0,13]])})))()}),[s,r]),Object(l.a)(Object(l.a)({},r),c)}(),dashboards:function(){var t=Object(i.useState)(new v.EventEmitter),n=Object(a.a)(t,1)[0],e=Object(i.useState)({initialized:!1,items:[]}),o=Object(a.a)(e,1)[0],c=Object(i.useState)({addDashboard:function(t){o.initialized=!0,o.items.push(t),n.emit(r.DASHBOARD_ADDED,t)},addDashboardAddedListener:function(t){return n.on(r.DASHBOARD_ADDED,t)},removeDashboardAddedListener:function(t){return n.off(r.DASHBOARD_ADDED,t)},deleteDashboard:function(t){o.initialized=!0;var e=o.items.findIndex((function(n){return n.dashboardId==t.dashboardId}));-1!==e&&o.items.splice(e,1),n.emit(r.DASHBOARD_DELETED,t)},addDashboardDeletedListener:function(t){return n.on(r.DASHBOARD_DELETED,t)},removeDashboardDeletedListener:function(t){return n.off(r.DASHBOARD_DELETED,t)},dashboardRenamed:function(t){return n.emit(r.DASHBOARD_RENAMED,t)},addDashboardRenamedListener:function(t){return n.on(r.DASHBOARD_RENAMED,t)},removeDashboardRenamedListener:function(t){return n.off(r.DASHBOARD_RENAMED,t)}}),s=Object(a.a)(c,1)[0],u=Object(h.f)();return Object(i.useEffect)((function(){o.initialized||Object(m.a)(p.a.mark((function t(){var n,e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g.c)();case 3:e=t.sent,o.initialized=!0,(n=o.items).push.apply(n,Object(b.a)(e)),u(),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),console.groupCollapsed("%cError on fetch dashboards.","color:rgb(251,71,71)"),console.error(t.t0),console.groupEnd();case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()}),[u,o]),Object(l.a)(Object(l.a)({},o),s)}(),favorites:function(){var t=Object(h.f)(),n=Object(i.useState)({initialized:!1,items:[],pinned:!1,visible:!1}),e=Object(a.a)(n,1)[0],r=function(n){Object.keys(n).forEach((function(t){return e[t]=n[t]})),t()};return Object(i.useEffect)((function(){e.initialized||Object(m.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x();case 3:n=t.sent,r({initialized:!0,items:n}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.groupCollapsed("%cError on fetch favorites.","color:rgb(251,71,71)"),console.error(t.t0),console.groupEnd();case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[e.initialized]),Object(l.a)(Object(l.a)({},e),{},{remove:function(t){r({items:e.items.filter((function(n){return n!==t}))})},add:function(t){r({items:[].concat(Object(b.a)(e.items),[t])})},show:function(t,n){return r({visible:!0,invoker:{rect:t,isMenuExpanded:n}})},hide:function(){e.visible&&r({visible:!1})},pin:function(){return r({pinned:!0})},unpin:function(){return r({pinned:!1,visible:!1})}})}(),settings:Object(R.c)()};return Object(o.jsx)(k.Provider,{value:f,children:Object(o.jsx)(d.a,{children:n})})},_=function(){return c.a.useContext(k)}},92:function(t,n,e){"use strict";e.d(n,"a",(function(){return b})),e.d(n,"b",(function(){return m}));var r=e(19),a=e.n(r),o=e(23),i=e(9),c=e(0),s=e(1),u=e.n(s),d=e(101),l=e(85),f=u.a.createContext({});f.displayName="SubjectContext";var p=function(t,n){var e=t.find((function(t){return t.spaceId==n.spaceId})),r=e.topics.map((function(t){return{label:t.name,value:t.topicId,topic:t}})),a=e.topics.reduce((function(t,n){return t[n.topicId]=n.factors.map((function(t){return{label:t.label,value:t.factorId,factor:t,topic:n}})),t}),{}),o=(e.topicRelations||[]).map((function(t){return{value:t.relationId,label:"",source:{topic:r.find((function(n){return n.value==t.sourceTopicId})).topic,factors:t.sourceFactorNames.map((function(n){return a[t.sourceTopicId].find((function(t){return t.factor.name===n})).factor}))},target:{topic:r.find((function(n){return n.value==t.targetTopicId})).topic,factors:t.targetFactorNames.map((function(n){return a[t.targetTopicId].find((function(t){return t.factor.name===n})).factor}))},relation:t}}));return{space:e,topics:r,factors:a,relations:o}},b=function(t){var n=t.space,e=t.subject,r=t.doSave,u=t.children,b=(Object(l.b)()||{}).spaces,m=(b=void 0===b?{available:[n]}:b).available,v=Object(s.useState)(p(m,n)),h=Object(i.a)(v,2),g=h[0],j=h[1],O=Object(s.useState)(null),x=Object(i.a)(O,2),E=x[0],y=x[1];Object(s.useEffect)((function(){1===m.length&&m[0]===n||j(p(m,n))}),[n,m]);var w=function(){var t=Object(o.a)(a.a.mark((function t(){var n,i=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>0&&void 0!==i[0]&&i[0],E&&clearTimeout(E),!n){t.next=13;break}if(y(null),!r){t.next=9;break}return t.next=7,r(e);case 7:t.next=11;break;case 9:return t.next=11,Object(d.n)(e);case 11:t.next=14;break;case 13:y(setTimeout(Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y(null),!r){t.next=6;break}return t.next=4,r(e);case 4:t.next=8;break;case 6:return t.next=8,Object(d.n)(e);case 8:case"end":return t.stop()}}),t)}))),3e3));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.jsx)(f.Provider,{value:{defs:g,save:w},children:u})},m=function(){return u.a.useContext(f)}},97:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return g})),e.d(n,"c",(function(){return O}));var r,a=e(28),o=e(9),i=e(3),c=e(0),s=e(18),u=e(14),d=e(1),l=e.n(d),f=e(2);function p(){var t=Object(i.a)(["\n\tdisplay: block;\n\tposition: absolute;\n\tcolor: var(--console-tooltip-bg-color);\n\tfont-size: 1.2em;\n\ttop: calc(100% - 6px);\n"]);return p=function(){return t},t}function b(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tposition: fixed;\n\tmin-height: ","px;\n\tmin-width: 120px;\n\talign-items: center;\n\tfont-size: 12px;\n\tfont-weight: var(--font-bold);\n\tfont-stretch: expanded;\n\tborder-radius: var(--border-radius);\n\tpadding: calc(var(--margin) / 6) calc(var(--margin) / 2);\n\tbackground-color: var(--console-tooltip-bg-color);\n\tcolor: var(--invert-color);\n\topacity: 0;\n\tpointer-events: none;\n\tuser-select: none;\n\ttransition: opacity 300ms ease-in-out;\n\tz-index: 10000;\n\t&[data-show=true] {\n\t\topacity: 1;\n\t}\n"]);return b=function(){return t},t}!function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"}(r||(r={}));var m=l.a.createContext({});m.displayName="ConsoleTooltipContext";var v=f.c.div.attrs((function(t){var n=t.rect,e=(n=void 0===n?{}:n).align,a=n.maxWidth,o=n.offsetY,i=void 0===o?0:o,c=n.offsetX,s=void 0===c?0:c,u=n.trigger,d=t["data-show"],l=u||{},f=l.y,p=void 0===f?0:f,b=l.x,m=void 0===b?0:b,v=l.width,h=void 0===v?0:v;return{"data-widget":"console-tooltip",style:{maxWidth:a||200,bottom:d?"calc(100vh - ".concat(p-i,"px)"):-1e3,left:e===r.LEFT?m-s:e===r.CENTER?m+h/2:"unset",right:e===r.RIGHT?"calc(100vw - ".concat(m+h-s,"px)"):"unset",transform:"scale(0.91666667) ".concat(e===r.CENTER?"translateX(-50%)":""),transformOrigin:e===r.LEFT?"bottom left":e===r.RIGHT?"bottom right":"bottom left"}}}))(b(),(function(t){return t.theme.consoleTooltipMinHeight})),h=Object(f.c)(u.a).attrs((function(t){var n=t.rect,e=(n=void 0===n?{}:n).align,a=n.trigger;(a=void 0===a?{}:a).width;return{style:{left:e===r.LEFT?16:e===r.CENTER?"calc(50% - 4px)":"unset",right:e===r.RIGHT?16:"unset"}}}))(p()),g=function(t){var n=t.children,e=Object(d.useState)(null),r=Object(o.a)(e,2),a=r[0],i=r[1],u=Object(d.useState)({show:function(t,n){i({tooltip:t,rect:n})},hide:function(){return i(null)}}),l=Object(o.a)(u,1)[0];return Object(c.jsxs)(m.Provider,{value:l,children:[n,Object(c.jsxs)(v,{"data-show":null!=a,rect:null===a||void 0===a?void 0:a.rect,children:[null===a||void 0===a?void 0:a.tooltip,Object(c.jsx)(h,{icon:s.j,rect:null===a||void 0===a?void 0:a.rect})]})]})},j=function(){},O=function(t){var n=t.show,e=t.ref,r=t.tooltip,o=t.rect,i=l.a.useContext(m);if(!n)return{context:i,mouseEnter:j,mouseLeave:j};return{context:i,mouseEnter:function(){if(e.current&&r){var t=e.current.getBoundingClientRect();i.show(r,Object(a.a)(Object(a.a)({},o(t)),{},{trigger:t}))}},mouseLeave:i.hide,show:function(t){var n=e.current.getBoundingClientRect();i.show(t,Object(a.a)(Object(a.a)({},o(n)),{},{trigger:n}))},hide:i.hide}}}}]);
//# sourceMappingURL=2.d8f7346a.chunk.js.map