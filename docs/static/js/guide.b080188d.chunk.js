(this["webpackJsonpwatchmen-panels"]=this["webpackJsonpwatchmen-panels"]||[]).push([[5],{337:function(t,n){},338:function(t,n){},387:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e(99),a=["TRUE","T","FALSE","F","YES","Y","NO","N"],i=/^(-?\d+)(\.\d+)?$/,o=/^(\d{2}|\d{4})([-/])(\d{1,2})([-/])(\d{1,2})$/,c=/^(\d{1,2}):(\d{1,2})$/,s=/^(\d{2}|\d{4})([-/])(\d{1,2})([-/])(\d{1,2})([\sT])(\d{1,2}):(\d{1,2})(:(\d{1,2}))?$/,l=function(t){return t?"number"===typeof t?r.a.NUMERIC:"boolean"===typeof t?r.a.BOOLEAN:Array.isArray(t)?r.a.ARRAY:"string"===typeof t?a.includes(t.toUpperCase())?r.a.BOOLEAN:i.test(t)?r.a.NUMERIC:o.test(t)&&!isNaN(new Date(t).getTime())?r.a.DATE:c.test(t)&&!isNaN(new Date(t).getTime())?r.a.TIME:s.test(t)&&!isNaN(new Date(t).getTime())?r.a.DATETIME:r.a.TEXT:r.a.OBJECT:r.a.UNKNOWN}},650:function(t,n){},652:function(t,n){},686:function(t,n){},687:function(t,n){},692:function(t,n){},694:function(t,n){},718:function(t,n){},752:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return isExpressionIncorrect})),__webpack_require__.d(__webpack_exports__,"a",(function(){return calculateColumn}));var dayjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16),dayjs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__),_data_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(99),_data_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(387),_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(753),_ref=function(){var t=function(t,n){var e=dayjs__WEBPACK_IMPORTED_MODULE_0___default()(n),r=e.day(),a=dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t),i=a.day(),o=e.diff(a,"day")+1;return r>=i&&o<=7?r-i-(0===i?1:0)+(6===r?1:0):r>=i?5*Math.floor(o/7)+((6===r?5:r)-i):5*Math.floor(o/7)+(6-(0===i?1:i))+r};t.doc=function(t){console.info("%cWorkdays duration: %cworkdays({{StartDate}}, {{EndDate}})",_styles__WEBPACK_IMPORTED_MODULE_3__.b,t.expression)};var n=function(t,n){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(n).diff(dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t),"day")+1};n.doc=function(t){console.info("%cDays duration: %cdays({{StartDate}}, {{EndDate}})",_styles__WEBPACK_IMPORTED_MODULE_3__.b,t.expression)};var e=function(t,n,e,r){var a=dayjs__WEBPACK_IMPORTED_MODULE_0___default()(n),i=dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t);return a.diff(i,e,r)};e.doc=function(t){console.groupCollapsed("Time duration: %cdateDiff({{StartDate}}, {{EndDate}}), 'unit', float)",[_styles__WEBPACK_IMPORTED_MODULE_3__.c,t.expression].join(";")),console.group("%cOptional Parameter [unit]:",t.parameterLead),console.info("Options: y | year | Q | quarter | M | month | w | week | d | day | h | hour | m | minute | s | second | ms | millisecond. Default in millisecond."),console.info("Single quote is required in expression when parameter is given explicitly."),console.groupEnd(),console.group("%cOptional Parameter [float]:",t.parameterLead),console.info("Options: true | false. Default in false."),console.groupEnd(),console.groupEnd()};var r=function(t){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t).year()},a=function(t){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t).month()+1},i=function(t){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t).quarter()},o=function(t){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t).week()},c=function(t){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t).date()},s=function(t){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t).day()},l=function(t){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t).hour()},u=function(t){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t).minute()},d=function(t){return dayjs__WEBPACK_IMPORTED_MODULE_0___default()(t).second()};return{workdays:t,days:n,dateDiff:e,year:r,month:a,quarter:i,week:o,day:c,weekday:s,hour:l,minute:u,second:d,printDocs:function(){console.groupCollapsed("Date & Time Functions"),[t,n,e].forEach((function(t){return t.doc({expression:_styles__WEBPACK_IMPORTED_MODULE_3__.a,parameterLead:_styles__WEBPACK_IMPORTED_MODULE_3__.d})}));[r,a,i,o,c,s,l,u,d].forEach((function(t){return n=t.name,e={expression:_styles__WEBPACK_IMPORTED_MODULE_3__.a},void console.info("%c".concat(n,": %c").concat(n,"({{Date}})"),"text-transform:capitalize;".concat(_styles__WEBPACK_IMPORTED_MODULE_3__.b),e.expression);var n,e})),console.groupEnd()}}}(),workdays=_ref.workdays,days=_ref.days,dateDiff=_ref.dateDiff,year=_ref.year,month=_ref.month,quarter=_ref.quarter,week=_ref.week,day=_ref.day,weekday=_ref.weekday,hour=_ref.hour,minute=_ref.minute,second=_ref.second,printDateTimeDocs=_ref.printDocs;[workdays,days,dateDiff,year,month,quarter,week,day,weekday,hour,minute,second].forEach((function(t){return t})),console.groupCollapsed("%cSupported expression syntax on calculating factor directly on watchmen frontend.","background-color:chocolate;padding:2px 16px;line-height:18px;font-size:14px;border-radius:11px;color:#fff"),console.groupCollapsed("Property Declaration in Expression"),console.info("Property name must be wrapped by double braces."),console.info("For example: %c{{StartDate}}%c, %cStartDate%c is property name of topic.",_styles__WEBPACK_IMPORTED_MODULE_3__.a,"",_styles__WEBPACK_IMPORTED_MODULE_3__.a,""),console.groupEnd(),console.groupCollapsed("Result Type Declaration in Expression"),console.info("Result type can be appointed explicitly in expression, otherwise it is detected by engine itself, may cause misunderstanding in some cases."),console.info("For example: %cnumeric:month({{StartDate}})%c, then expression result is a number.",_styles__WEBPACK_IMPORTED_MODULE_3__.a,""),console.info("Supported types: %cnumeric%c, %cboolean%c, %ctext%c, %cdate%c, %ctime%c, %cdatetime%c.",_styles__WEBPACK_IMPORTED_MODULE_3__.a,"",_styles__WEBPACK_IMPORTED_MODULE_3__.a,"",_styles__WEBPACK_IMPORTED_MODULE_3__.a,"",_styles__WEBPACK_IMPORTED_MODULE_3__.a,"",_styles__WEBPACK_IMPORTED_MODULE_3__.a,"",_styles__WEBPACK_IMPORTED_MODULE_3__.a,""),console.groupEnd(),printDateTimeDocs(),console.groupEnd();var VARIABLE_PATTERN=/{{(((?![{}]).)+)}}/m,calculate=function calculate(options){var target=options.target,propName=options.propName,expression=options.expression,topic=options.topic;if(expression&&0!==expression.trim().length){for(var result=expression,match=VARIABLE_PATTERN.exec(result),_loop=function(){var t=match[0],n=match[1],e=match.index,r=target[n],a=topic.columns.find((function(t){return t.name===n}));switch(!0){case null==r:r="null";break;case!a||[_data_types__WEBPACK_IMPORTED_MODULE_1__.a.ARRAY,_data_types__WEBPACK_IMPORTED_MODULE_1__.a.OBJECT,_data_types__WEBPACK_IMPORTED_MODULE_1__.a.UNKNOWN].includes(a.type):r="'".concat(r.replace(/'/g,"\\'"),"'");break;case a.type===_data_types__WEBPACK_IMPORTED_MODULE_1__.a.BOOLEAN:switch(!0){case"boolean"===typeof r:r=r.toString();break;case["TRUE","T","YES","Y"].includes(r.toUpperCase()):r="true";break;case["FALSE","F","NO","N"].includes(r.toUpperCase()):default:r="false"}break;case a.type===_data_types__WEBPACK_IMPORTED_MODULE_1__.a.NUMERIC:var i=parseFloat(r);r=isNaN(i)?"null":"".concat(r);break;case[_data_types__WEBPACK_IMPORTED_MODULE_1__.a.DATE,_data_types__WEBPACK_IMPORTED_MODULE_1__.a.TIME,_data_types__WEBPACK_IMPORTED_MODULE_1__.a.DATETIME].includes(a.type):r=0===(r=r.trim()).length?"null":"'".concat(r,"'");break;case a.type===_data_types__WEBPACK_IMPORTED_MODULE_1__.a.TEXT:default:r="'".concat(r.replace(/'/g,"\\'"),"'")}result="".concat(result.substring(0,e)).concat(r).concat(result.substring(e+t.length)),match=VARIABLE_PATTERN.exec(result)};match;)_loop();try{var value=eval(result);null==value||["string","boolean","number"].includes(typeof value)||(value=void 0),target[propName]=value}catch(e){console.error("Error occurred on evaluate expression[origin=".concat(expression,", replaced=").concat(result,"].")),console.error(e)}}},isExpressionIncorrect=function(t,n){var e=(n.expression||"").trim();if(!e)return!0;var r=e.match(/{{(((?![{}]).)+)}}/g)||[];if(0===r.length)return!0;var a=t.columns.map((function(t){return t.name}));return-1!==r.findIndex((function(t){var e=t.replace("{{","").replace("}}","");return e===n.name||!a.includes(e)}))},detectColumnTypeByExpression=function(t){var n=t.expression;return[_data_types__WEBPACK_IMPORTED_MODULE_1__.a.TEXT,_data_types__WEBPACK_IMPORTED_MODULE_1__.a.BOOLEAN,_data_types__WEBPACK_IMPORTED_MODULE_1__.a.NUMERIC,_data_types__WEBPACK_IMPORTED_MODULE_1__.a.DATE,_data_types__WEBPACK_IMPORTED_MODULE_1__.a.TIME,_data_types__WEBPACK_IMPORTED_MODULE_1__.a.DATETIME].map((function(t){return{type:t,prefix:"".concat(t,":")}})).some((function(e){var r=e.type,a=e.prefix;return!!n.startsWith(a)&&(n=n.substring(a.length),t.type=r,!0)}))},calculateColumn=function(t,n){var e=n.name,r=n.expression;if(e||r){var a=detectColumnTypeByExpression(n);if((t.data||[]).forEach((function(n){calculate({target:n,propName:e,expression:r,topic:t})})),!a){var i=(t.data||[]).map((function(t){return Object(_data_utils__WEBPACK_IMPORTED_MODULE_2__.a)(t[e])})),o=Array.from(new Set(i));o.includes(_data_types__WEBPACK_IMPORTED_MODULE_1__.a.TEXT)?n.type=_data_types__WEBPACK_IMPORTED_MODULE_1__.a.TEXT:n.type=o[0]}}}},753:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i})),e.d(n,"d",(function(){return o}));var r="font-weight:bold",a="font-weight:normal",i="background-color:chocolate;padding:2px 16px;line-height:14px;font-size:12px;border-radius:9px;color:#fff",o="color:chocolate;font-weight:bold"},757:function(t,n,e){"use strict";e.r(n);var r=e(3),a=e(0),i=e(1),o=e.n(i),c=e(5),s=e(2),l=e.p+"static/media/build-metrics.5dace14c.png",u=e.p+"static/media/domain-select.c6fbb39d.png",d=e.p+"static/media/export-report.9e1cf1dd.png",f=e.p+"static/media/import-data.eb76619c.png",p=e.p+"static/media/mapping-factor.27fe399d.png",b=e.p+"static/media/measure-indicator.a0bf45a4.png",h=e(7),v=e(46),m=e(74),g=e(9),j=e(758),O=e(8),x=e(27),_=e(43);function y(){var t=Object(r.a)(["\n\tdisplay: none;\n\theight: 100%;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 1.2em;\n\tfont-weight: var(--font-bold);\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t&:hover {\n\t\ttransform: scale(1.05);\n\t}\n\t> span {\n\t\tmargin: 0 var(--letter-gap);\n\t\ttext-decoration: underline;\n\t}\n"]);return y=function(){return t},t}function E(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\talign-items: center;\n\theight: var(--height);\n\tpadding: 0 calc(var(--margin) / 2);\n\tcursor: pointer;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tborder-bottom: var(--border);\n\ttransition: all 300ms ease-in-out;\n\t&:hover {\n\t\tbackground-color: var(--hover-color);\n\t}\n\t&[data-active=true] {\n\t\tbackground-color: var(--active-color);\n\t\tcolor: var(--invert-color);\n\t}\n"]);return E=function(){return t},t}function w(){var t=Object(r.a)(["\n\tposition: relative;\n\twidth: 30%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-right: var(--border);\n\t&[data-has-data=false] {\n\t\twidth: 100%;\n\t\tborder-right: 0;\n\t\t> div {\n\t\t\tdisplay: flex;\n\t\t}\n\t\t~ div {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\t> div:nth-child(n + 11):nth-last-child(2) {\n\t\tborder-bottom-color: transparent;\n\t}\n"]);return w=function(){return t},t}function D(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tmargin: 0 var(--margin);\n\tborder-radius: calc(var(--border-radius) * 2);\n\tborder: var(--border);\n\tmin-height: 350px;\n\toverflow: hidden;\n"]);return D=function(){return t},t}var C=s.c.div(D()),M=s.c.div(w()),k=s.c.div(E()),A=s.c.div(y());function T(){var t=Object(r.a)(["\n\tflex-grow: 1;\n"]);return T=function(){return t},t}function I(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tmargin-top: var(--margin);\n\tpadding: 0 var(--margin);\n\t> button:not(:first-child) {\n\t\tmargin-left: var(--margin);\n\t}\n"]);return I=function(){return t},t}var R,N=s.c.div.attrs({"data-widget":"guide-operation-bar"})(I()),P=s.c.div(T()),S=e(28),U=e(15),L=e(19),B=e.n(L),W=e(23),z=e(135),G=e.n(z),K=(e(242),e(281),e(282),e(283),e(285),e(288),e(289),e(290),e(292),e(205),e(296),e(300),e(301),e(72)),F=e.n(K),q=e(82),Y=o.a.createContext({});Y.displayName="ChartInstanceContext",function(t){t.DOWNLOAD="download",t.IMAGE="image"}(R||(R={}));var V=function(t){var n=t.children,e=Object(i.useState)(new q.EventEmitter),r=Object(g.a)(e,1)[0],o={download:function(){return new Promise((function(t,n){r.once(R.IMAGE,(function(e){e?t(e):n()})),r.emit(R.DOWNLOAD)}))},on:function(t,n){r.on(t,n)},off:function(t,n){r.off(t,n)},sendImage:function(t){r.emit(R.IMAGE,t)}};return Object(a.jsx)(Y.Provider,{value:o,children:n})},H=function(){return o.a.useContext(Y)};function X(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\toverflow: hidden;\n"]);return X=function(){return t},t}function $(){var t=Object(r.a)(["\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return $=function(){return t},t}var J,Q,Z,tt=s.c.div.attrs({"data-widget":"chart"})($()),nt=s.c.div(X()),et=function(t){var n=t.className,e=t.options,r=Object(s.e)(),o=H(),c=Object(i.useRef)(null),l=Object(i.useState)(null),u=Object(g.a)(l,2),d=u[0],f=u[1];return Object(i.useEffect)((function(){if(c.current){var t=new ResizeObserver((function(){d&&d.resize()}));return t.observe(c.current),function(){return t.disconnect()}}})),Object(i.useEffect)((function(){var t,n=F.a.init(c.current);e.backgroundColor=null!==(t=e.backgroundColor)&&void 0!==t?t:r.chartBgColorLight,n.setOption(e,!0),f(n)}),[e,r]),Object(i.useEffect)((function(){var t=function(){var t=F.a.init(c.current);t.setOption(e,!0);var n=t.getDataURL({type:"png",pixelRatio:window.devicePixelRatio,backgroundColor:"transparent"});o.sendImage(n)};return o.on(R.DOWNLOAD,t),function(){o.off(R.DOWNLOAD,t)}})),Object(a.jsx)(tt,{children:Object(a.jsx)(nt,{className:n,ref:c})})},rt=e(78),at=e(99);!function(t){t.CATEGORY="category",t.TIME="time",t.VALUE="value"}(J||(J={})),function(t){t.NONE="none",t.COUNT="count",t.SUMMARY="sum",t.AVERAGE="avg",t.MEDIAN="med",t.MAXIMUM="max",t.MINIMUM="min"}(Q||(Q={})),function(t){t.BAR="bar",t.LINE="line",t.SCATTER="scatter",t.PIE="pie",t.DOUGHNUT="doughnut",t.NIGHTINGALE="nightingale",t.SUNBURST="sunburst",t.TREE="tree",t.TREEMAP="treemap"}(Z||(Z={}));var it=function(t){var n=t.items,e=t.keyCount,r=n.reduce((function(t,n){return(t||0)+1*(n[e]||0)}),0)/n.length;return{value:r,label:"Average: ".concat(r),aggregator:Q.AVERAGE}},ot=function(t){var n=t.items;return{value:n.length,label:"Count: ".concat(n.length),aggregator:Q.COUNT}},ct=e(16),st=e.n(ct),lt=function(t){var n=t.items,e=t.indicator,r=t.keyCount,a=n.reduce((function(t,n){var a;if((null===(a=e.column)||void 0===a?void 0:a.type)===at.a.NUMERIC)return(t||0)-(n[r]||0)<0?n[r]||0:t||0;if(null==t)return n[r];if(null==n[r])return t;var i=st()(t),o=st()(n[r]);return i.isBefore(o)?n[r]:t}),n[0][r]);return{value:a,label:"Max: ".concat(a),aggregator:Q.MAXIMUM}},ut=function(t){var n,e=t.items,r=t.keyCount,a=e.sort((function(t,n){if(null==t[r])return null==n[r]?0:-1;if(null==n[r])return 1;var e=(t[r]||0)-(n[r]||0);if(isNaN(e)){var a=(t[r]||"").toString(),i=(n[r]||"").toString();return a.localeCompare(i)}return-1*e}));if(a.length%2===1)n=a[Math.floor(a.length/2)];else{n=(1*a[a.length/2-1]+1*a[a.length/2])/2}return{value:n,label:"Median: ".concat(n),aggregator:Q.MEDIAN}},dt=function(t){var n=t.items,e=t.indicator,r=t.keyCount,a=n.reduce((function(t,n){var a;if((null===(a=e.column)||void 0===a?void 0:a.type)===at.a.NUMERIC)return(t||0)-(n[r]||0)>0?n[r]||0:t||0;if(null==t)return n[r];if(null==n[r])return t;var i=st()(t),o=st()(n[r]);return i.isBefore(o)?t:n[r]}),n[0][r]);return{value:a,label:"Min: ".concat(a),aggregator:Q.MINIMUM}},ft=function(t){var n=t.items,e=t.keyCount,r=n.reduce((function(t,n){return(t||0)+1*(n[e]||0)}),0);return{value:r,label:"Sum: ".concat(r),aggregator:Q.MINIMUM}},pt=function(t){switch(t.aggregator){case Q.COUNT:return ot;case Q.SUMMARY:return ft;case Q.AVERAGE:return it;case Q.MEDIAN:return ut;case Q.MAXIMUM:return lt;case Q.MINIMUM:return dt;case Q.NONE:default:return null}},bt=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=pt(n);if(null==r)return t;var a=new Array(e).fill(1),i=t.reduce((function(t,n){var e=a.map((function(t,e){return n[e]})).map((function(t){return t||""})).join(","),r=t.get(e);return r||(r=[],t.set(e,r)),r.push(n),t}),new Map);return Array.from(i.values()).reduce((function(t,a){var i=[];a[0].forEach((function(t,n){return i[n]=t}));var o=r({items:a,indicator:n,keyCount:e}),c=o.value,s=o.label;return i[e]=c,i[e+1]=s,t.push(i),t}),[])},ht=function(t){var n;switch(null===(n=t.column)||void 0===n?void 0:n.type){case at.a.NUMERIC:return J.VALUE;case at.a.DATE:case at.a.DATETIME:case at.a.TIME:return J.TIME;case at.a.BOOLEAN:case at.a.TEXT:case at.a.UNKNOWN:default:return J.CATEGORY}},vt=function(t){return!!t.column},mt=function(t,n){var e=t.topicName,r=t.column,a=(r=void 0===r?{name:""}:r).name,i=n[e];return Object(m.a)(new Set((i.data||[]).map((function(t){return t[a]}))))},gt=function(t,n){var e=n.column,r=(e=void 0===e?{name:""}:e).name;switch(ht(n)){case J.CATEGORY:return null==t[r]?null:"".concat(t[r]);case J.VALUE:var a=t[r];if(null==a)return a;if("number"===typeof a)return a;var i=parseFloat(a);return isNaN(i)?null:i;default:return t[r]}},jt=function(t){var n,e;return t.label||(null===(n=t.column)||void 0===n?void 0:n.label)||(null===(e=t.column)||void 0===e?void 0:e.name)},Ot=function(t){var n=t.data,e=t.dimension,r=ht(e);return{type:r,name:jt(e),data:r===J.CATEGORY?(mt(e,n)||[]).map((function(t){return"".concat(t)})):void 0}},xt=function(t){var n=t.row;return t.dimensions.map((function(t){return gt(n,t)})).join(", ")},_t=function(t){return!!t.column},yt=function(t){var n,e;return t.label||(null===(n=t.column)||void 0===n?void 0:n.label)||(null===(e=t.column)||void 0===e?void 0:e.name)},Et=function(t){var n=t.data,e=t.indicator,r=t.dimensions,a=(n[e.topicName].data||[]).map((function(t){var a=yt(e),i=t[e.column.name];return[xt({data:n,dimensions:r,row:t}),i,"".concat(a,": ").concat(i),a]}));return bt(a,e)},wt=function(t){var n=t.data,e=t.indicator,r=t.dimensions,a=(n[e.topicName].data||[]).map((function(t){var n=yt(e),a=t[e.column.name];return[gt(t,r[0]),gt(t,r[1]),a,"".concat(n,": ").concat(a),n]}));return bt(a,e,2)},Dt=function(t){var n=t.data,e=t.indicator,r=t.dimensions,a=(n[e.topicName].data||[]).map((function(t){var n=yt(e),a=e.column;return{name:n,value:t[a.name],groups:r.map((function(n){return"".concat(gt(t,n))}))}})),i=0,o=new Map,c=new Map,s=new Map;a.forEach((function(t){var n,r=t.name,a=t.value,l=t.groups.reduce((function(t,n){var e=t;if(t){if(t="".concat(t,",").concat(n),!c.get(t)){var r={name:n,children:[],itemStyle:{color:rt.b[i++%rt.b.length]}};c.set(t,r),c.get(e).children.push(r)}}else if(t=n,!o.get(t)){var a={name:n,children:[],itemStyle:{color:rt.b[i++%rt.b.length]}};c.set(t,a),o.set(t,a)}return t}),""),u=c.get(l);s.set(l,u),(null===(n=e.column)||void 0===n?void 0:n.type)!==at.a.NUMERIC?u.children.push({name:a,value:1,itemStyle:{color:rt.b[i++%rt.b.length]}}):u.children.push({name:r,value:a,itemStyle:{color:rt.b[i++%rt.b.length]}})}));var l=pt(e);if(l){var u=new Intl.NumberFormat(void 0,{maximumFractionDigits:2}).format;Array.from(s.values()).forEach((function(t){var n=l({items:(t.children||[]).map((function(t){return["group",t.value]})),indicator:e,keyCount:1}).value;t.value=Math.round(+n+"e2")/Math.pow(10,2),t.name="".concat(t.name,": ").concat(u(t.value)),delete t.children}))}return Array.from(o.values())},Ct=function(t,n){return[t.filter(vt),n.filter(_t)]},Mt=function(t){var n=t.title,e=t.theme;if(n)return{text:n,bottom:32,left:"50%",textAlign:"center",textStyle:{color:e.fontColor,fontSize:e.fontSize,lineHeight:e.fontSize,fontWeight:e.fontBold}}},kt=function(t){return t.reduce((function(n,e,r){return n["hr".concat(r)]={backgroundColor:t[r],borderRadius:3,width:3,height:3,padding:[3,3,0,-12]},n["a".concat(r)]={padding:[8,-60,-20,-20],color:t[r],fontSize:12},n}),{})},At=function(t){return function(n){var e=t.rose,r=void 0!==e&&e,a=t.innerRing,i=void 0===a?0:a,o=n.data,c=n.theme,s=n.settings,l=s.title,u=s.dimensions,d=s.indicators,f=Ct(u,d),p=Object(g.a)(f,2),b=p[0],h=p[1].map((function(t){return{type:"pie",radius:["".concat(i,"%"),"50%"],center:["50%","50%"],clockwise:!0,avoidLabelOverlap:!0,roseType:r,label:{show:!0,position:"outside",alignTo:"edge",formatter:function(t){var n=t.name,e=t.percent+"%",r=t.value,a=t.dataIndex%rt.b.length;return["{a".concat(a,"|").concat(n,"\uff1a").concat(r,", ").concat(e,"}"),"{hr".concat(a,"|}")].join("\n")},rich:kt(rt.b)},labelLine:{normal:{length:20,length2:100,lineStyle:{width:1}}},data:Et({data:o,indicator:t,dimensions:b}).map((function(t){return{name:t[0],value:t[1],tooltip:{formatter:function(n){return"".concat(n.name,"<br>").concat(t[2],"<br>").concat(n.percent,"%")}}}})).sort((function(t,n){return t.value-n.value}))}}));return{title:Mt({title:l,theme:c}),color:rt.b,grid:{top:64,bottom:64,containLabel:!0},tooltip:{trigger:"item"},series:h}}},Tt=[{x:0,y:0,x2:1,y2:1},{x:0,y:0,x2:0,y2:1},{x:0,y:0,x2:1,y2:0},{x:1,y:0,x2:0,y2:0},{x:0,y:1,x2:0,y2:0},{x:1,y:1,x2:0,y2:0},{x:1,y:0,x2:0,y2:1},{x:0,y:1,x2:1,y2:0}],It=function(t){var n=t.data,e=t.theme,r=t.title,a=(n=function(t){var n={};return t.forEach((function(t){var e;n[t.name]?n[t.name].value+=null!==(e=t.value)&&void 0!==e?e:0:n[t.name]=Object(S.a)({},t)})),Object.keys(n).map((function(t){return n[t]})).sort((function(t,n){var e=t.value;return n.value-e}))}(n)).length>18?rt.b:n.length>6?rt.a:rt.c,i=a.length,o=n.reduce((function(t,n){return t+n.value}),0),c=function(t){return t.map((function(n){var e=G()(n);return Object(S.a)(Object(S.a)({type:"linear"},Tt[t.length%8]),{},{colorStops:[{offset:0,color:e.fade(.95).rgb().toString()},{offset:1,color:e.fade(.45).rgb().toString()}]})}))}(a);return{title:function(t){if(t)return{text:t.replace("{{count}}","".concat(o)),bottom:"5%",left:"50%",textAlign:"center",textStyle:{color:e.fontColor,fontSize:e.fontSize,lineHeight:e.fontSize,fontWeight:e.fontBold}}}(r),grid:{top:"3%"},series:[{type:"pie",radius:["30%","60%"],center:["50%","50%"],clockwise:!0,avoidLabelOverlap:!0,label:{show:!0,position:"outside",alignTo:"edge",formatter:function(t){var n=t.name,e=t.percent+"%",r=t.dataIndex%i;return["{a".concat(r,"|").concat(n,"\uff1a").concat(e,"}"),"{hr".concat(r,"|}")].join("\n")},rich:kt(a)},labelLine:{length:10,length2:100,show:!0},itemStyle:{normal:{color:function(t){return c[t.dataIndex%i]}}},data:n}]}},Rt=function(t){var n=t.className,e=t.data,r=t.title,i=Object(s.e)(),o=It({data:e,theme:i,title:r});return Object(a.jsx)(et,{className:n,options:o})},Nt=function(t,n){var e=n.value(2),r=n.coord([n.value(0),e]),a=n.coord([n.value(1),e]),i=.8*n.size([0,1])[1];return{type:"rect",shape:F.a.graphic.clipRectByRect({x:r[0],y:r[1]-i/2,width:a[0]-r[0],height:i},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height}),style:n.style()}},Pt=function(t){var n=t.data,e=t.theme,r=t.title;n=function(t){return t.map((function(t){return Object(S.a)(Object(S.a)({},t),{},{endDate:st()(t.endDate).add(1,"day").format("YYYY/MM/DD")})}))}(n);var a=Object(m.a)(new Set(n.map((function(t){return t.owner})))).sort((function(t,n){return t.localeCompare(n)})),i=rt.b,o=i.length,c=n.length,s=new Set(n.map((function(t){return t.owner}))).size,l=n.map((function(t){return t.startDate})).sort((function(t,n){return t.localeCompare(n)}))[0],u=n.map((function(t){return t.endDate})).sort((function(t,n){return n.localeCompare(t)}))[0];return{title:function(t){if(t)return{text:t.replace("{{tasks}}","".concat(c)).replace("{{members}}","".concat(s)),bottom:"3%",left:"50%",textAlign:"center",textStyle:{color:e.fontColor,fontSize:e.fontSize,lineHeight:e.fontSize,fontWeight:e.fontBold}}}(r),tooltip:{trigger:"item",formatter:function(t){var n=t.value[0],e=st()(t.value[1]).add(-1,"day").format("YYYY/MM/DD");return"".concat(t.name,"<br>").concat(n," - ").concat(e)}},dataZoom:[{type:"slider",filterMode:"weakFilter",showDataShadow:!1,top:5,height:2,borderColor:"transparent",backgroundColor:e.chartZoomSliderBgColor,handleIcon:e.chartZoomHandlerIcon,handleSize:10,labelFormatter:""},{type:"inside",filterMode:"weakFilter"}],grid:{left:"5%",top:"3%",bottom:"12%",containLabel:!0},xAxis:{type:"time",min:l,max:u},yAxis:{type:"category",data:a},series:[{type:"custom",renderItem:Nt,encode:{x:[0,1],y:[2]},data:n.map((function(t,n){var e=G()(i[n%o]);return{name:t.name,value:[t.startDate,t.endDate,t.owner,t.name],itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:e.fade(.75).rgb().toString()},{offset:1,color:e.fade(.15).rgb().toString()}]}}}}}))}]}},St=function(t){var n=t.className,e=t.data,r=t.title,i=Object(s.e)(),o=Pt({data:e,theme:i,title:r});return Object(a.jsx)(et,{className:n,options:o})},Ut=function(t){var n=t.className,e=t.data,r=t.segments,i=t.title,o=function(t){var n=t.data,e=t.segments,r=t.theme,a=t.title,i=n.length>18?rt.b:n.length>6?rt.a:rt.c,o=i.length,c=n.length,s=e.definition.reduce((function(t,e){return n.forEach((function(n){e.take(n.value)&&(t[e.name]?t[e.name].value+=1:t[e.name]={value:1,label:e.label})})),t}),{}),l=Object.keys(s).map((function(t,n){var e=G()(i[n%o]);return{value:[t,s[t].value,s[t].label],itemStyle:{normal:{color:{type:"linear",x:1,y:1,x2:0,y2:0,colorStops:[{offset:0,color:e.fade(.75).rgb().toString()},{offset:1,color:e.fade(.15).rgb().toString()}]}}}}}));return{title:function(t){if(t)return{text:t.replace("{{count}}","".concat(c)),bottom:"5%",left:"50%",textAlign:"center",textStyle:{color:r.fontColor,fontSize:r.fontSize,lineHeight:r.fontSize,fontWeight:r.fontBold}}}(a),grid:{top:"3%"},xAxis:{type:"category",name:e.label,data:e.definition.map((function(t){return t.name}))},yAxis:{type:"value",max:function(t){return 1.2*t.max}},series:[{type:"bar",label:{show:!0,formatter:"{@[2]}",color:r.fontColor},encode:{x:0,y:1},data:l}]}}({data:e,segments:r,theme:Object(s.e)(),title:i});return Object(a.jsx)(et,{className:n,options:o})},Lt={code:"software-implementation",label:"Software Implementation",expressions:[{code:"workdays",name:"Workdays",label:"Workdays",body:"workdays({{StartDate}}, {{EndDate}})"}],demo:{tasks:e.p+"static/media/software-implementation.87a1d67f.csv"},charts:[{key:"task-count-category",name:"Task - Count by Category",chart:function(t){var n=t.data.tasks.data,e=t.className,r=n.map((function(t){return{name:t.Category,value:1}}));return Object(a.jsx)(Rt,{className:e,title:"{{count}} Tasks",data:r})}},{key:"task-count-owner",name:"Task - Count by Owner",chart:function(t){var n=t.data.tasks.data,e=t.className,r=n.map((function(t){return{name:t.Owner,value:1}}));return Object(a.jsx)(Rt,{className:e,title:"{{count}} Tasks",data:r})}},{key:"task-count-categorical",name:"Task - Count Categorical",chart:function(t){var n=t.data.tasks.data,e=t.className,r=t.options,i=(r=void 0===r?{}:r).categoryBy,o=void 0===i?"Category":i,c=n.map((function(t){return{name:t[o],value:1}}));return Object(a.jsx)(Rt,{className:e,title:"{{count}} Tasks",data:c})},options:{groupBy:[{key:"categoryBy",label:"Count by",options:[{label:"Category",value:"Category",default:!0},{label:"Owner",value:"Owner"}]}]}},{key:"task-gantt",name:"Task Gantt",chart:function(t){var n=t.data.tasks.data,e=t.className,r=n.map((function(t){return{name:t.Task,owner:t.Owner,startDate:t.StartDate,endDate:t.EndDate}}));return Object(a.jsx)(St,{className:e,title:"{{tasks}} Tasks, {{members}} Members",data:r})}},{key:"schedule-risk-management",name:"Schedule - Risk Management",enabled:function(t){var n,e=(null===(n=(t||{}).tasks)||void 0===n?void 0:n.data)||[],r=e&&-1===e.findIndex((function(t){return"number"!==typeof t.Workdays}));return{enabled:r,reason:'Factor "Workdays" missing.'}},chart:function(t){var n=t.data.tasks.data,e=t.className,r=n.map((function(t){return{name:t.Task,value:t.Workdays}}));return Object(a.jsx)(Ut,{className:e,title:"{{count}} Tasks",segments:{label:"Man day",definition:[{name:"5-",label:"Perfect",take:function(t){return t<=5}},{name:"6 ~ 10",label:"Good",take:function(t){return t>5&&t<=10}},{name:"11 ~ 20",label:"Cautious",take:function(t){return t>10&&t<=20}},{name:"21+",label:"Wild",take:function(t){return t>20}}]},data:r})}}]},Bt={code:"no-domain",label:"No Domain"},Wt={code:"insurance-visualization",label:"Insurance Visualization"},zt={code:"marketing-investigating",label:"Marketing Investigating"},Gt={code:"sales-planning",label:"Sales Planning"},Kt={code:"assets-management",label:"Assets Management"},Ft=function(){var t=Object(W.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{domains:[Wt,zt,Gt,Kt,Lt],hasMore:!0});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),qt=function(){var t=Object(W.a)(B.a.mark((function t(n){var e;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n);case 2:return e=t.sent,t.next=5,e.text();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),Yt=o.a.createContext({setDomain:U.b,getDomain:function(){return Bt},clearDomain:U.b,setData:U.b,getData:U.a,clearData:U.b});Yt.displayName="GuideContext";var Vt=function(t){var n=t.children,e=o.a.useState({domain:Bt}),r=Object(g.a)(e,2),i=r[0],c=r[1],s={setDomain:function(t){return c(Object(S.a)(Object(S.a)({},i),{},{domain:t}))},getDomain:function(){return i.domain},clearDomain:function(){return c(Object(S.a)(Object(S.a)({},i),{},{domain:Bt}))},setData:function(t){return c(Object(S.a)(Object(S.a)({},i),{},{data:t}))},getData:function(){return i.data},clearData:function(){return c(Object(S.a)(Object(S.a)({},i),{},{data:void 0}))}};return Object(a.jsx)(Yt.Provider,{value:s,children:n})},Ht=function(){return o.a.useContext(Yt)},Xt=e(18),$t=e(14);function Jt(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: fixed;\n\tfont-size: 32px;\n\tline-height: 64px;\n\twidth: 64px;\n\tright: 32px;\n\ttop: 166px;\n\tz-index: 10000;\n\tpadding: 0;\n\tborder: 0;\n\tborder-radius: 100%;\n"]);return Jt=function(){return t},t}var Qt=Object(s.c)(O.c).attrs({"data-widget":"chart-add-paragraph-btn"})(Jt()),Zt=function(t){var n=t.rnd,e=t.onAdd;return n?Object(a.jsx)(Qt,{inkType:O.b.PRIMARY,title:"Add new paragraph",onClick:e,children:Object(a.jsx)($t.a,{icon:Xt.eb})}):null},tn=e(754);function nn(){var t=Object(r.a)(["\n\tdisplay: none;\n\toverflow: hidden;\n"]);return nn=function(){return t},t}var en=s.c.div(nn()),rn=function(t){var n=t.rnd,e=t.lock,r=void 0!==e&&e,o=t.hidden,c=void 0!==o&&o,s=t.children;return n?c?Object(a.jsx)(en,{children:s}):Object(a.jsx)(tn.a,{enableResizing:!r,disableDragging:r,children:s}):Object(a.jsx)(i.Fragment,{children:s})};function an(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t> input,\n\t> div[data-widget=dropdown] {\n\t\tflex-grow: 1;\n\t\tfont-size: 0.8em;\n\t}\n\t> button:last-child {\n\t\tmin-width: 27px;\n\t\theight: var(--height);\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\t&:hover {\n\t\t\tcolor: var(--primary-color);\n\t\t\ttransform: none;\n\t\t\topacity: 1;\n\t\t\t> svg {\n\t\t\t\ttransform: scale(1.1);\n\t\t\t}\n\t\t}\n\t}\n"]);return an=function(){return t},t}function on(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\toverflow-x: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\tfont-size: 0.8em;\n\tfont-weight: var(--font-bold);\n\t&[data-require=true] {\n\t\t&:after {\n\t\t\tcontent: '*';\n\t\t\tmargin-left: 4px;\n\t\t\ttransform: scale(0.8);\n\t\t\ttransform-origin: left bottom;\n\t\t}\n\t}\n"]);return on=function(){return t},t}function cn(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 35% 65%;\n\talign-items: center;\n"]);return cn=function(){return t},t}function sn(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr;\n\tgrid-column-gap: calc(var(--margin) / 2);\n\tgrid-row-gap: calc(var(--margin) / 4);\n\talign-items: baseline;\n\talign-content: start;\n\tposition: absolute;\n\ttop: 40px;\n\tleft: 0;\n\twidth: 100%;\n\theight: 0;\n\tpadding: 0 var(--margin);\n\ttransition: all 300ms ease-in-out;\n\tbackground-color: var(--bg-color-opacity);\n\tz-index: 1;\n\toverflow: hidden;\n\t&[data-visible=true] {\n\t\theight: calc(100% - 40px);\n\t\tborder-top: var(--border);\n\t\toverflow-y: auto;\n\t\tpadding-top: calc(var(--margin) / 2);\n\t\tpadding-bottom: calc(var(--margin) / 2);\n\t}\n\t&[data-columns='2'] {\n\t\tgrid-template-columns: 1fr 1fr;\n\t}\n"]);return sn=function(){return t},t}function ln(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t> button {\n\t\tdisplay: block;\n\t\tborder: 0;\n\t\twidth: 28px;\n\t\theight: 28px;\n\t\tpadding: 0;\n\t\ttransition: all 300ms ease-in-out;\n\t\t&:not(:first-child) {\n\t\t\tmargin-left: 2px;\n\t\t}\n\t\t&:hover {\n\t\t\tbackground-color: var(--primary-hover-color);\n\t\t\tcolor: var(--invert-color);\n\t\t\topacity: 1;\n\t\t}\n\t\t&[data-visible=false] {\n\t\t\tdisplay: none;\n\t\t}\n\t\t&[data-active=true] {\n\t\t\tbackground-color: var(--primary-color);\n\t\t\tcolor: var(--invert-color);\n\t\t\topacity: 1;\n\t\t}\n\t\t@media (max-width: 799px) {\n\t\t\t&[data-size-fixed-visible=false] {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n"]);return ln=function(){return t},t}function un(){var t=Object(r.a)(["\n\tfont-size: 1em;\n\tfont-weight: bold;\n\twhite-space: nowrap;\n\toverflow-x: hidden;\n\ttext-overflow: ellipsis;\n\ttransition: all 300ms ease-in-out;\n"]);return un=function(){return t},t}function dn(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tpadding: 0 calc(var(--margin) / 2);\n\talign-items: center;\n\tjustify-content: space-between;\n\theight: 40px;\n"]);return dn=function(){return t},t}function fn(){var t=Object(r.a)(["\n\tborder-radius: calc(var(--border-radius) * 2);\n\tborder: var(--border);\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\t> div[data-widget='chart'],\n\t> div[data-widget='chart-disabled'] {\n\t\tflex-grow: 1;\n\t\theight: 300px;\n\t}\n\n\t&[data-expanded=true] {\n\t\t@media (min-width: 800px) {\n\t\t\tgrid-column: span 3;\n\t\t\t> div[data-widget='chart-header'] {\n\t\t\t\theight: 48px;\n\t\t\t\tpadding: 0 var(--margin);\n\t\t\t}\n\t\t\t> div[data-widget='chart-settings'] {\n\t\t\t\ttop: 48px;\n\t\t\t\t&[data-visible=true] {\n\t\t\t\t\theight: calc(100% - 48px);\n\t\t\t\t}\n\t\t\t}\n\t\t\t> div[data-widget='chart'],\n\t\t\t> div[data-widget='chart-disabled'] {\n\t\t\t\theight: 500px;\n\t\t\t}\n\t\t}\n\t\t@media (min-width: 1600px) {\n\t\t\tgrid-column: span 4;\n\t\t\t> div[data-widget='chart'],\n\t\t\t> div[data-widget='chart-disabled'] {\n\t\t\t\theight: 650px;\n\t\t\t}\n\t\t}\n\t\tdiv[data-widget='chart-title'] {\n\t\t\tfont-size: 1.4em;\n\t\t}\n\t}\n"]);return fn=function(){return t},t}var pn=s.c.div.attrs({"data-widget":"chart-container"})(fn()),bn=s.c.div.attrs({"data-widget":"chart-header"})(dn()),hn=s.c.div.attrs({"data-widget":"chart-title"})(un()),vn=s.c.div(ln()),mn=s.c.div.attrs({"data-widget":"chart-settings"})(sn()),gn=s.c.div.attrs({"data-widget":"chart-settings-item"})(cn()),jn=s.c.div.attrs({"data-widget":"chart-settings-item-label"})(on()),On=s.c.div.attrs({"data-widget":"chart-settings-item-editor"})(an()),xn=o.a.createContext({});xn.displayName="HideOnPrintContext";var _n=function(t){var n=t.children,e=Object(i.useState)([]),r=Object(g.a)(e,2),o=r[0],c=r[1],s={hide:function(t){return c([].concat(Object(m.a)(o),[t]))},get:function(){return o},recover:function(){var t=Object(W.a)(B.a.mark((function t(n){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.recover();case 2:c(o.filter((function(t){return t!==n})));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),clear:function(){return c([])}};return Object(a.jsx)(xn.Provider,{value:s,children:n})},yn=function(){return o.a.useContext(xn)},En=o.a.createContext({});En.displayName="ChartSettingsContext";var wn=function(t){var n=t.children,e=Object(i.useState)(!1),r=Object(g.a)(e,2),o=r[0],c=r[1],s={active:o,toggleActive:function(){return c(!o)}};return Object(a.jsx)(En.Provider,{value:s,children:n})},Dn=function(){return o.a.useContext(En)},Cn=o.a.createContext({});Cn.displayName="ChartContext";var Mn,kn=function(t){var n=t.children,e=yn(),r=Object(i.useRef)(null),o=Object(i.useState)(!1),c=Object(g.a)(o,2),s=c[0],l=c[1],u={expanded:s,toggleExpanded:function(){l(!s),setTimeout((function(){r.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),300)},hideOnPrint:function(t){var n=r.current.parentElement,a=n.getBoundingClientRect(),i=n.style,o=i.transform,c=i.top,s=i.left,l=i.width,u=i.height;n.style.position="fixed",n.style.transform="translate(0,0)",n.style.opacity="1",n.style.top="".concat(a.top,"px"),n.style.left="".concat(a.left,"px"),n.style.width="".concat(a.width,"px"),n.style.height="".concat(a.height,"px"),n.style.transition="all 500ms cubic-bezier(1, 0, 0.03, 0.85)",setTimeout((function(){n.style.top="92px",n.style.left="calc(100vw - 72px)",n.style.width="0",n.style.height="0",n.style.opacity="0",setTimeout((function(){e.hide({title:t,recover:function(){var t=Object(W.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){n.style.position="absolute",n.style.transform=o,n.style.transition="all 500ms cubic-bezier(1, 0.14, 0, 1.03)",n.style.opacity="",n.style.top=c,n.style.left=s,n.style.width=l,n.style.height=u,setTimeout((function(){n.style.transition="",t()}),300)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})}),300)}),10)}};return Object(a.jsx)(Cn.Provider,{value:u,children:Object(a.jsx)(pn,{"data-expanded":s,ref:r,children:Object(a.jsx)(wn,{children:Object(a.jsx)(V,{children:n})})})})},An=function(){return o.a.useContext(Cn)},Tn=e(25),In=function(t){return function(n){var e=n.data,r=n.theme,a=n.settings,i=a.title,o=a.dimensions,c=a.indicators,s=Ct(o,c),l=Object(g.a)(s,2),u=l[0],d=l[1],f=Object(S.a)(Object(S.a)({},function(t){var n=t.data,e=t.dimensions;if(1===e.length)return Ot({data:n,dimension:e[0]});var r=e.map((function(t){return mt(t,n)}));return{type:J.CATEGORY,name:e.map((function(t){return jt(t)})).join(", "),data:r.reduce((function(t,n){return 0===t.length?n.map((function(t){return"".concat(t)})):t.map((function(t){return n.map((function(n){return"".concat(t,", ").concat(n)}))})).flat()}),[])}}({data:e,dimensions:u})),{},{axisLabel:{interval:0}}),p=d.map((function(n){return{type:t,encode:{x:0,y:1},data:Et({data:e,indicator:n,dimensions:u})}}));if(f.type===J.CATEGORY&&1!==u.length&&f.data){var b=p.reduce((function(t,n){return(n.data||[]).forEach((function(n){return t.set(n[0],!0)})),t}),new Map);f.data=f.data.filter((function(t){return b.get(t)}))}return{title:Mt({title:i,theme:r}),color:rt.b,grid:{top:64,bottom:64,containLabel:!0},tooltip:{trigger:"item",axisPointer:{type:"cross"},formatter:function(t){var n=t.value;return"".concat(n[0],"<br>").concat(n[n.length-2])}},xAxis:f,yAxis:d.map((function(t){var n=function(t){var n=t.aggregator,e=void 0===n?Q.NONE:n,r=t.column,a=(r=void 0===r?{type:at.a.UNKNOWN}:r).type;switch(!0){case[Q.SUMMARY,Q.MEDIAN,Q.AVERAGE,Q.COUNT].includes(e):return J.VALUE}switch(!0){case at.a.NUMERIC===a:return J.VALUE;case[at.a.DATE,at.a.DATETIME,at.a.TIME].includes(a):return J.TIME;case[at.a.BOOLEAN,at.a.TEXT,at.a.UNKNOWN].includes(a):default:return J.CATEGORY}}(t),r=n===J.CATEGORY?function(t,n){var e=t.topicName,r=t.column,a=(r=void 0===r?{name:""}:r).name,i=n[e];return Object(m.a)(new Set((i.data||[]).map((function(t){return t[a]}))))}(t,e):void 0;return{type:n,name:yt(t),data:r}})),series:p}}},Rn=function(t){var n=t.items,e=t.inspect,r=t.validate;if(!n)return r(0);var a=r(n.length);return 0!==a.length?a:r(n.filter(e).length)},Nn=function(t){return function(n){return Rn({items:n.dimensions,inspect:function(t){return!!t.column},validate:function(n){return n<t?["At least ".concat(t," dimension(s) required.")]:[]}})}},Pn=function(t){return function(n){return Rn({items:n.indicators,inspect:function(t){return!!t.column},validate:function(n){return n<t?["At least ".concat(t," indicator(s) required.")]:[]}})}},Sn=function(t){return function(n){return Rn({items:n.indicators,inspect:function(t){return!!t.column},validate:function(n){return n>t?["At most ".concat(t," indicator(s) required.")]:[]}})}},Un=In("bar"),Ln={name:"Bar",key:Z.BAR,buildOptions:Un,settingsValidators:[Nn(1),Pn(1)]},Bn={name:"Doughnut",key:Z.DOUGHNUT,buildOptions:At({innerRing:25}),settingsValidators:[Nn(1),Pn(1),Sn(1)]},Wn=In("line"),zn={name:"Line",key:Z.LINE,buildOptions:Wn,settingsValidators:[Nn(1),Pn(1)]},Gn={name:"Nightingale",key:Z.NIGHTINGALE,buildOptions:At({rose:"area"}),settingsValidators:[Nn(1),Pn(1),Sn(1)]},Kn={name:"Pie",key:Z.PIE,buildOptions:At({}),settingsValidators:[Nn(1),Pn(1),Sn(1)]},Fn=[Ln,zn,{name:"Scatter",key:Z.SCATTER,buildOptions:function(t){var n=t.data,e=t.theme,r=t.settings,a=r.title,i=r.dimensions,o=r.indicators,c=Ct(i,o),s=Object(g.a)(c,2),l=s[0],u=s[1],d=l.map((function(t){return Object(S.a)(Object(S.a)({},Ot({data:n,dimension:t})),{},{axisLabel:{interval:0}})})),f=Object(g.a)(d,2),p=f[0],b=f[1],h=u.map((function(t){return{type:"scatter",encode:{x:0,y:1},data:wt({data:n,indicator:t,dimensions:l})}}));return{title:Mt({title:a,theme:e}),color:rt.b,grid:{top:64,bottom:64,containLabel:!0},tooltip:{trigger:"item",axisPointer:{type:"cross"},formatter:function(t){var n=t.value;return"".concat(n[0],", ").concat(n[1],"<br>").concat(n[n.length-1])}},xAxis:p,yAxis:b,series:h}},settingsValidators:[Nn(2),(Mn=2,function(t){return Rn({items:t.dimensions,inspect:function(t){return!!t.column},validate:function(t){return t>Mn?["At most ".concat(Mn," dimension(s) required.")]:[]}})}),Pn(1)]},Kn,Bn,Gn,{name:"Sunburst",key:Z.SUNBURST,buildOptions:function(t){var n=t.data,e=t.theme,r=t.settings,a=r.title,i=r.dimensions,o=r.indicators,c=Ct(i,o),s=Object(g.a)(c,2),l=s[0],u=s[1].map((function(t){var e=t.aggregator,r=(e&&e!==Q.NONE?90:53)-7;return{type:"sunburst",radius:[0,"90%"],center:["50%","50%"],data:Dt({data:n,indicator:t,dimensions:l}),levels:[{}].concat(Object(m.a)(l.map((function(t,n){return{r0:"".concat(n*r/l.length+7,"%"),r:"".concat((n+1)*r/l.length+7,"%")}}))),[{r0:"53%",r:"55%",label:{position:"outside"}}])}}));return{title:Mt({title:a,theme:e}),color:rt.b,grid:{top:64,bottom:64,containLabel:!0},tooltip:{trigger:"item"},series:u}},settingsValidators:[Nn(1),Pn(1),Sn(1)]},{name:"Tree",key:Z.TREE,buildOptions:function(t){var n=t.data,e=t.theme,r=t.settings,a=r.title,i=r.dimensions,o=r.indicators,c=Ct(i,o),s=Object(g.a)(c,2),l=s[0],u=s[1].map((function(t){return{type:"tree",left:"6%",right:"6%",initialTreeDepth:l.length+1,label:{normal:{position:"insideTopRight",distance:10}},data:[{name:"Root",children:Dt({data:n,indicator:t,dimensions:l})}]}}));return{title:Mt({title:a,theme:e}),color:rt.b,grid:{top:64,bottom:64,containLabel:!0},tooltip:{trigger:"item"},series:u}},settingsValidators:[Nn(1),Pn(1),Sn(1)]},{name:"TreeMap",key:Z.TREEMAP,buildOptions:function(t){var n=t.data,e=t.theme,r=t.settings,a=r.title,i=r.dimensions,o=r.indicators,c=Ct(i,o),s=Object(g.a)(c,2),l=s[0],u=s[1].map((function(t){return{type:"treemap",leafDepth:1,data:Dt({data:n,indicator:t,dimensions:l})}}));return{title:Mt({title:a,theme:e}),color:rt.b,grid:{top:64,bottom:64,containLabel:!0},tooltip:{trigger:"item"},series:u}},settingsValidators:[Nn(1),Pn(1),Sn(1)]}],qn=Fn.reduce((function(t,n){return t[n.key]=n,t}),{}),Yn=function(t){var n=t.className,e=t.data,r=t.settings,o=t.errorWrapper,c=Object(s.e)();if(!r.key)return Object(a.jsx)(i.Fragment,{});try{var l=qn[r.key].buildOptions({data:e,theme:c,settings:r});return Object(a.jsx)(et,{className:n,options:l})}catch(u){return console.error(u),Object(a.jsx)(o,{children:Object(a.jsx)("div",{children:"Uncaught error occurred, check your chart settings please."})})}},Vn=e(117),Hn=e(79);function Xn(){var t=Object(r.a)(["\n\ttransition: all 300ms ease-in-out;\n\twidth: 100%;\n\t&:hover,\n\t&:focus {\n\t\tborder-color: var(--primary-color);\n\t\t> svg {\n\t\t\tcolor: var(--primary-color);\n\t\t}\n\t\t> div:last-child {\n\t\t\tborder-color: var(--primary-color);\n\t\t}\n\t}\n"]);return Xn=function(){return t},t}var $n=Object(s.c)(Hn.a)(Xn());function Jn(){var t=Object(r.a)(['\n\tdiv[data-widget="dropdown"] {\n\t\t> span,\n\t\t> div > span {\n\t\t\ttext-transform: capitalize;\n\t\t}\n\t}\n']);return Jn=function(){return t},t}var Qn,Zn=Object(s.c)(gn)(Jn()),te=function(t){var n=t.label,e=t.value,r=t.please,i=t.require,o=t.options,c=t.onOptionChanged,s=t.removable,l=void 0!==s&&s,u=t.onRemove,d=t.className;return Object(a.jsxs)(Zn,{className:d,children:[Object(a.jsx)(jn,{"data-require":i,children:n}),Object(a.jsxs)(On,{children:[Object(a.jsx)($n,{options:o,onChange:c,value:e,please:r}),l?Object(a.jsx)(O.c,{onClick:u,children:Object(a.jsx)($t.a,{icon:Xt.Gb})}):null]})]})};!function(t){t[t.CHANGE=0]="CHANGE",t[t.REMOVE=1]="REMOVE"}(Qn||(Qn={}));var ne=function(t){var n=t.dimension,e=t.onChanged,r=Object(Vn.a)(t,["dimension","onChanged"]),i=n.topicName,o=void 0===i?"":i,c=n.column,s=(c=void 0===c?{name:""}:c).name,l=void 0===s?"":s,u=o&&l?"".concat(o,".").concat(l):"",d=function(){var t=Object(W.a)(B.a.mark((function t(r){var a,i,o;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(a=r).topicName,o=a.column,n.topicName=i,n.column=o,n.label=o.label||o.name,e(n,Qn.CHANGE);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(a.jsx)(te,Object(S.a)(Object(S.a)({},r),{},{value:u,onOptionChanged:d,onRemove:function(){e(n,Qn.REMOVE)}}))};function ee(){var t=Object(r.a)(["\n\t> div[data-widget='chart-settings-item-label'] {\n\t\topacity: 0.7;\n\t\ttransform: scale(0.8);\n\t\ttransform-origin: left;\n\t\t> svg {\n\t\t\tmargin-right: calc(var(--margin) / 4);\n\t\t}\n\t}\n"]);return ee=function(){return t},t}var re,ae=Object(s.c)(te)(ee());!function(t){t[t.CHANGE=0]="CHANGE",t[t.REMOVE=1]="REMOVE"}(re||(re={}));var ie=function(t){var n=t.indicator,e=t.onChanged,r=Object(Vn.a)(t,["indicator","onChanged"]),o=n.topicName,c=void 0===o?"":o,s=n.column,l=(s=void 0===s?{name:""}:s).name,u=void 0===l?"":l,d=c&&u?"".concat(c,".").concat(u):"",f=function(){var t=Object(W.a)(B.a.mark((function t(r){var a,i,o;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(a=r).topicName,o=a.column,n.topicName=i,n.column=o,n.label=o.label||o.name,e(n,re.CHANGE);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=null;if(n.column){var b=[{label:"No Aggregate",value:Q.NONE},{label:"Count",value:Q.COUNT}];if(n.column){var h=n.column.type;switch(!0){case at.a.NUMERIC===h:b.push({label:"Summary",value:Q.SUMMARY},{label:"Average",value:Q.AVERAGE},{label:"Median",value:Q.MEDIAN},{label:"Minimum",value:Q.MINIMUM},{label:"Maximum",value:Q.MAXIMUM});break;case[at.a.TIME,at.a.DATETIME,at.a.DATE].includes(h):b.push({label:"Minimum",value:Q.MINIMUM},{label:"Maximum",value:Q.MAXIMUM})}}b.some((function(t){return t.value===n.aggregator}))||(n.aggregator=Q.NONE);var v=function(){var t=Object(W.a)(B.a.mark((function t(r){var a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r.value,n.aggregator=a,e(n,re.CHANGE);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();p=Object(a.jsx)(ae,{value:n.aggregator,options:b,onOptionChanged:v,label:Object(a.jsxs)(i.Fragment,{children:[Object(a.jsx)($t.a,{icon:Xt.db}),Object(a.jsx)("span",{children:"Aggregate"})]})})}return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsx)(te,Object(S.a)(Object(S.a)({},r),{},{value:d,onOptionChanged:f,onRemove:function(){e(n,re.REMOVE)}})),p]})},oe=e(29);function ce(){var t=Object(r.a)(["\n\ttransition: all 300ms ease-in-out;\n\twidth: 100%;\n\t&:hover,\n\t&:focus {\n\t\tborder-color: var(--primary-color);\n\t}\n"]);return ce=function(){return t},t}var se=Object(s.c)(oe.a)(ce()),le=function(t){var n=t.label,e=t.value,r=t.placeholder,i=t.require,o=t.onValueChanged;return Object(a.jsxs)(gn,{children:[Object(a.jsx)(jn,{"data-require":i,children:n}),Object(a.jsx)(On,{children:Object(a.jsx)(se,{onChange:function(t){o(t.target.value)},value:e,placeholder:r})})]})},ue=function(t){var n=t.visible,e=Object(_.b)(),r=H(),i=Object(x.b)(),o=function(){var t=Object(W.a)(B.a.mark((function t(){var n,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.mobile){t.next=3;break}return i.show("Download doesn't support in mobile device."),t.abrupt("return");case 3:return t.prev=3,t.next=6,r.download();case 6:n=t.sent,(a=document.createElement("a")).href=n,a.download="chart.png",a.click(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),console.error(t.t0),i.show("Failed to generate chart image.");case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(){return t.apply(this,arguments)}}();return Object(a.jsx)(O.c,{onClick:o,"data-visible":n,"data-widget":"chart-download-btn",children:Object(a.jsx)($t.a,{icon:Xt.D})})},de=function(t){var n=t.visible,e=t.title,r=An();return Object(a.jsx)(O.c,{onClick:function(){return r.hideOnPrint(e||"Untitled")},"data-visible":n,"data-role":"rnd",children:Object(a.jsx)($t.a,{icon:Xt.L})})},fe=function(t){var n=t.visible,e=void 0===n||n,r=An();return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsx)(O.c,{onClick:r.toggleExpanded,"data-visible":e&&!r.expanded,"data-size-fixed-visible":!1,"data-widget":"chart-resize-btn",children:Object(a.jsx)($t.a,{icon:Xt.J})}),Object(a.jsx)(O.c,{onClick:r.toggleExpanded,"data-visible":e&&r.expanded,"data-size-fixed-visible":!1,"data-widget":"chart-resize-btn",children:Object(a.jsx)($t.a,{icon:Xt.z})})]})},pe=o.a.createContext({});pe.displayName="SavedCustomChartContext";var be=function(t){var n=t.children,e=Object(i.useState)([]),r=Object(g.a)(e,2),o=r[0],c=r[1],s={get:function(){return o},add:function(t){return c([].concat(Object(m.a)(o.filter((function(n){return n!==t}))),[Object(S.a)({},t)]))},replace:function(t,n){return c(o.map((function(e){return e===n?t:e})))}};return Object(a.jsx)(pe.Provider,{value:s,children:n})},he=function(){return o.a.useContext(pe)},ve=function(t){var n=t.visible,e=t.settings,r=he();return Object(a.jsx)(O.c,{onClick:function(){return r.add(JSON.parse(JSON.stringify(e)))},"data-visible":n,children:Object(a.jsx)($t.a,{icon:Xt.Fb})})},me=function(t){var n=t.visible,e=Dn();return Object(a.jsx)(O.c,{onClick:e.toggleActive,"data-visible":n,"data-active":e.active,"data-widget":"chart-settings-btn",children:Object(a.jsx)($t.a,{icon:Xt.w})})},ge=function(t){var n=t.children,e=Dn(),r=Object(i.useRef)(null),o=Object(i.useState)(1),c=Object(g.a)(o,2),s=c[0],l=c[1];return Object(i.useEffect)((function(){if(r.current){var t=new ResizeObserver((function(){if(r.current){var t=r.current.getBoundingClientRect();l(t.width>600?2:1)}}));return t.observe(r.current),function(){return t.disconnect()}}})),Object(a.jsx)(mn,{"data-visible":e.active,"data-columns":s,ref:r,children:n})};function je(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\topacity: 0.5;\n"]);return je=function(){return t},t}function Oe(){var t=Object(r.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tfont-size: 0.8em;\n\tfont-weight: var(--font-bold);\n\theight: var(--height);\n\tborder-bottom: var(--border);\n\t> button:last-child {\n\t\tmin-width: 27px;\n\t\theight: 27px;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\t&:hover {\n\t\t\tbackground-color: var(--primary-color);\n\t\t\tcolor: var(--invert-color);\n\t\t\topacity: 1;\n\t\t}\n\t}\n"]);return Oe=function(){return t},t}function xe(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\theight: 300px;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgrid-template-rows: 50% auto 1fr;\n\t&[data-visible=false] {\n\t\twidth: 0;\n\t}\n\t> svg {\n\t\tfont-size: 48px;\n\t\topacity: 0.2;\n\t\t&:first-child {\n\t\t\tcolor: ",";\n\t\t\talign-self: end;\n\t\t\tjustify-self: end;\n\t\t\tpadding-right: 4px;\n\t\t}\n\t\t&:nth-child(2) {\n\t\t\tcolor: ",";\n\t\t\talign-self: end;\n\t\t\tpadding-left: 4px;\n\t\t}\n\t\t&:nth-child(3) {\n\t\t\tcolor: ",";\n\t\t\tjustify-self: end;\n\t\t\tpadding-right: 4px;\n\t\t}\n\t\t&:nth-child(4) {\n\t\t\tcolor: ",";\n\t\t\tpadding-left: 4px;\n\t\t}\n\t}\n"]);return xe=function(){return t},t}function _e(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\theight: 300px;\n\tborder-top: var(--border);\n\tborder-top-color: transparent;\n\tdisplay: flex;\n\t&[data-expanded=true] {\n\t\t@media (min-width: 800px) {\n\t\t\theight: 500px;\n\t\t\t> div[data-widget='chart'],\n\t\t\t> div[data-widget='chart-disabled'] {\n\t\t\t\theight: 500px;\n\t\t\t}\n\t\t}\n\t\t@media (min-width: 1600px) {\n\t\t\theight: 650px;\n\t\t\t> div[data-widget='chart'],\n\t\t\t> div[data-widget='chart-disabled'] {\n\t\t\t\theight: 650px;\n\t\t\t}\n\t\t}\n\t}\n\t&[data-settings-active=true] {\n\t\tborder-top-color: var(--border-color);\n\t\t> div[data-widget='chart-settings'] {\n\t\t\tgrid-template-columns: 1fr;\n\t\t\tbackground-color: var(--bg-color-opacity7);\n\t\t\t> div:last-child {\n\t\t\t\tmargin-bottom: calc(var(--margin) / 2);\n\t\t\t}\n\t\t}\n\t\t> div[data-widget='chart'] + div[data-widget='chart-settings'] {\n\t\t\tbackground-color: var(--bg-color-opacity);\n\t\t}\n\t}\n\t&[data-settings-active=true][data-expanded=false] {\n\t\t> div[data-widget='chart'] {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\t&[data-settings-active=true][data-expanded=true] {\n\t\t> div[data-widget='chart'],\n\t\t> div[data-widget='chart-disabled'] {\n\t\t\twidth: 50%;\n\t\t}\n\t\t> div[data-widget='chart-settings'] {\n\t\t\tposition: relative;\n\t\t\ttop: unset;\n\t\t\tleft: unset;\n\t\t\twidth: 50%;\n\t\t\theight: unset;\n\t\t\tborder-top: 0;\n\t\t\tborder-left: var(--border);\n\t\t\tz-index: unset;\n\t\t\tbackground-color: var(--bg-color);\n\t\t}\n\t}\n\t&[data-settings-active=false] {\n\t\t> div[data-widget='chart'],\n\t\t> div[data-widget='chart-disabled'] {\n\t\t\twidth: 100%\n\t\t}\n\t}\n\t&[data-settings-active=false][data-expanded=true] {\n\t\t> div[data-widget='chart-settings'] {\n\t\t\tposition: relative;\n\t\t\ttop: unset;\n\t\t\tleft: unset;\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-top: 0;\n\t\t\tborder-left: 0;\n\t\t\tpadding-left: 0;\n\t\t\tpadding-right: 0;\n\t\t\tz-index: unset;\n\t\t\tbackground-color: var(--bg-color);\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n"]);return _e=function(){return t},t}var ye=s.c.div.attrs({"data-widget":"chart-body"})(_e()),Ee=s.c.div.attrs({"data-widget":"chart-disabled"})(xe(),rt.d[0],rt.d[1],rt.d[2],rt.d[3]),we=s.c.div(Oe()),De=s.c.div.attrs({"data-widget":"chart"})(je()),Ce=Fn.map((function(t){return{label:t.name,value:t.key}})),Me=function(t){var n,e=t.settings,r=t.onSettingsChanged,o=t.canSave,c=void 0!==o&&o,s=t.rnd,l=An(),u=Dn(),d=Ht(),f=function(t,n){n===re.REMOVE?r(Object(S.a)(Object(S.a)({},e),{},{indicators:e.indicators.filter((function(n){return n!==t}))})):n===re.CHANGE&&r(Object(S.a)({},e))},p=function(t,n){n===Qn.REMOVE?r(Object(S.a)(Object(S.a)({},e),{},{dimensions:e.dimensions.filter((function(n){return n!==t}))})):n===Qn.CHANGE&&r(Object(S.a)({},e))},b=d.getData()||{},h=Object.keys(b).map((function(t){var n=b[t];return n.columns.map((function(e){return{label:"".concat(t,".").concat(e.label||e.name),value:"".concat(t,".").concat(e.name),topicName:t,topic:n,column:e}}))})).flat().sort((function(t,n){return t.label.localeCompare(n.label)})),v=function(t){if(!t.key)return{valid:!0,advises:[]};var n=qn[t.key];if(!n)return{valid:!1,advises:["Chart definition of ".concat(t.key," is not found, cannot render it.")]};var e=(Array.isArray(n.settingsValidators)?n.settingsValidators:[n.settingsValidators]).map((function(n){return n(t)})).flat();return{valid:0===e.length,advises:e}}(e),g=v.valid,j=v.advises,x=e.title||"Chart on You";return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsxs)(bn,{children:[Object(a.jsx)(hn,{children:x}),Object(a.jsxs)(vn,{children:[Object(a.jsx)(de,{visible:s,title:x}),Object(a.jsx)(ve,{visible:c&&!!e.key&&g,settings:e}),Object(a.jsx)(ue,{visible:!!e.key&&g}),Object(a.jsx)(me,{visible:!0}),Object(a.jsx)(fe,{})]})]}),Object(a.jsxs)(ye,{"data-expanded":l.expanded,"data-settings-active":u.active,children:[e.key?0!==j.length?Object(a.jsx)(De,{children:j.map((function(t){return Object(a.jsx)("div",{children:t},t)}))}):Object(a.jsx)(Yn,{data:b,settings:e,errorWrapper:De}):null,e.key?null:Object(a.jsxs)(Ee,{children:[Object(a.jsx)($t.a,{icon:Xt.n}),Object(a.jsx)($t.a,{icon:Xt.p}),Object(a.jsx)($t.a,{icon:Xt.m}),Object(a.jsx)($t.a,{icon:Xt.o})]}),Object(a.jsxs)(ge,{children:[Object(a.jsx)(we,{children:Object(a.jsx)("span",{children:"Identity"})}),Object(a.jsx)(le,{label:"NarrowPageTitle",value:e.title,require:!0,onValueChanged:(n="title",function(t){r(Object(S.a)(Object(S.a)({},e),{},Object(Tn.a)({},n,t)))})}),Object(a.jsx)(te,{label:"Chart",value:e.key,require:!0,please:"...",options:Ce,onOptionChanged:function(t){return function(){var n=Object(W.a)(B.a.mark((function n(a){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(Object(S.a)(Object(S.a)({},e),{},Object(Tn.a)({},t,a.value)));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}("key")}),Object(a.jsxs)(we,{children:[Object(a.jsx)("span",{children:"Dimensions"}),Object(a.jsx)(O.c,{onClick:function(){return r(Object(S.a)(Object(S.a)({},e),{},{dimensions:[].concat(Object(m.a)(e.dimensions),[{}])}))},children:Object(a.jsx)($t.a,{icon:Xt.jb})})]}),e.dimensions.map((function(t,n,e){return Object(a.jsx)(ne,{label:0===n?"On":"And On",dimension:t,require:0===n,please:"...",options:h,removable:1!==e.length,onChanged:p},n)})),Object(a.jsxs)(we,{children:[Object(a.jsx)("span",{children:"Indicators"}),Object(a.jsx)(O.c,{onClick:function(){return r(Object(S.a)(Object(S.a)({},e),{},{indicators:[].concat(Object(m.a)(e.indicators),[{aggregator:Q.NONE}])}))},children:Object(a.jsx)($t.a,{icon:Xt.jb})})]}),e.indicators.map((function(t,n,e){return Object(a.jsx)(ie,{label:0===n?"With":"And With",indicator:t,require:0===n,please:"...",options:h,removable:1!==e.length,onChanged:f},n)}))]})]})]})},ke=function(t){var n=t.rnd,e=Object(i.useState)({dimensions:[{}],indicators:[{aggregator:Q.NONE}]}),r=Object(g.a)(e,2),o=r[0],c=r[1];return Object(a.jsx)(Me,{settings:o,onSettingsChanged:function(t){return c(t)},canSave:!0,rnd:n})},Ae=function(t){var n=t.rnd;return Object(a.jsx)(rn,{rnd:n,hidden:!0,children:Object(a.jsx)(kn,{children:Object(a.jsx)(ke,{rnd:n})})})},Te=function(t){var n=t.rnd,e=he();return Object(a.jsx)(i.Fragment,{children:e.get().map((function(t,r){return Object(a.jsx)(rn,{rnd:n,children:Object(a.jsx)(kn,{children:Object(a.jsx)(Me,{settings:t,onSettingsChanged:(i=t,function(t){return e.replace(t,i)}),rnd:n})})},r);var i}))})},Ie=e(80);function Re(){var t=Object(r.a)(["\n\toverflow: auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 64px;\n\tmax-height: 282px;\n\theight: 0;\n\twidth: 0;\n\tposition: absolute;\n\topacity: 0;\n\tright: 0;\n\ttop: 0;\n\tborder-radius: var(--border-radius);\n\tborder-top-right-radius: 0;\n\tborder-bottom-right-radius: 0;\n\tbackground-color: var(--primary-color);\n\tz-index: 1;\n\toverflow-x: hidden;\n\ttransition: all 300ms ease-in-out;\n\t> div {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\theight: 28px;\n\t\tline-height: initial;\n\t\tcolor: var(--invert-color);\n\t\tborder-top: var(--border);\n\t\tborder-top-color: var(--primary-color);\n\t\tpadding: 0 calc(var(--margin) / 2);\n\t\tfont-size: 12px;\n\t\t&:first-child {\n\t\t\tborder-top-color: transparent;\n\t\t}\n\t\t&:hover {\n\t\t\tborder-radius: var(--border-radius);\n\t\t\tbackground-color: var(--primary-hover-color);\n\t\t\ttransform: scale(1.05);\n\t\t\t> span {\n\t\t\t\t&:first-child {\n\t\t\t\t\tbackground-color: var(--invert-color);\n\t\t\t\t\tcolor: var(--primary-hover-color);\n\t\t\t\t}\n\t\t\t\t&:last-child {\n\t\t\t\t\tcolor: var(--invert-color);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t> span {\n\t\t\ttransition: all 300ms ease-in-out;\n\t\t\t&:first-child {\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin-right: 6px;\n\t\t\t\twidth: 32px;\n\t\t\t\tborder-radius: 9px;\n\t\t\t\tcolor: var(--primary-color);\n\t\t\t\tbackground-color: var(--invert-color);\n\t\t\t\theight: 18px;\n\t\t\t\tline-height: 18px;\n\t\t\t}\n\t\t\t&:last-child {\n\t\t\t\tflex-grow: 1;\n\t\t\t\ttext-align: left;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t}\n\t\t}\n\t}\n"]);return Re=function(){return t},t}function Ne(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: fixed;\n\tfont-size: 32px;\n\tline-height: 64px;\n\twidth: 64px;\n\tright: 32px;\n\ttop: 92px;\n\tz-index: 10000;\n\tpadding: 0;\n\tborder: 0;\n\tborder-radius: 100%;\n\t> span {\n\t\tdisplay: block;\n\t    position: absolute;\n\t    font-size: var(--font-size);\n\t\tfont-weight: var(--font-boldest);\n\t\ttop: calc(var(--font-size) - 2px);\n\t\tright: calc(var(--font-size) - 2px);\n\t\tline-height: 0.8em;\n\t}\n\t&:before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 40px;\n\t\tleft: -23px;\n\t\twidth: 60px;\n\t\theight: 60px;\n\t\tborder-radius: 50%;\n\t\tborder: 24px solid var(--primary-color);\n\t\toverflow: hidden;\n\t\tclip: rect(0, 0, 0, 0);\n\t\ttransition: clip 300ms ease-in-out;\n\t\topacity: 0;\n\t}\n\t&:hover {\n\t\tborder-top-left-radius: 0;\n\t\tborder-bottom-left-radius: 0;\n\t\twidth: 72px;\n\t\t&:before {\n\t\t\tclip: ",";\n\t\t\topacity: 1;\n\t\t}\n\t\t> div {\n\t\t\topacity: 1;\n\t\t\tright: 71px;\n\t\t\tborder: var(--border);\n\t\t\tborder-color: var(--primary-color);\n\t\t\twidth: 200px;\n\t\t\theight: calc("," * 28px + 5px);\n\t\t\tborder-bottom-right-radius: ",";\n\t\t}\n\t}\n"]);return Ne=function(){return t},t}var Pe=Object(s.c)(O.c).attrs({"data-widget":"chart-hide-on-print-btn"})(Ne(),(function(t){return t.count>2?"rect(0, 30px, 30px, 0)":"rect(0, 0, 0, 0)"}),(function(t){return t.count}),(function(t){return t.count>2?"var(--border-radius)":0})),Se=s.c.div(Re()),Ue=function(t){var n=t.rnd,e=yn();if(!n)return null;var r=e.get(),i=0!==r.length,o=function(t){return Object(W.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.recover(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))};return Object(a.jsxs)(Pe,{inkType:O.b.PRIMARY,count:r.length,children:[Object(a.jsx)($t.a,{icon:Ie.g}),Object(a.jsx)("span",{children:r.length}),Object(a.jsx)(Se,{children:i?r.map((function(t,n){return Object(a.jsxs)("div",{title:t.title,onClick:o(t),children:[Object(a.jsx)("span",{children:n+1}),Object(a.jsx)("span",{children:t.title})]},"".concat(t.title,"-").concat(n))})):Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"0"}),Object(a.jsx)("span",{children:"No chart is hidden."})]})})]})};function Le(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tposition: relative;;\n\tgrid-template-columns: 1fr;\n\tgrid-column-gap: var(--margin);\n\tgrid-row-gap: var(--margin);\n\tmargin: var(--margin) var(--margin) 0;\n\t&[data-rnd=true] {\n\t\theight: calc(42.0cm - 3.3cm);\n\t\twidth: calc(29.7cm - 3cm);\n\t\tmargin-right: auto;\n\t\t&:before,\n\t\t&:after {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tfont-size: 5em;\n\t\t\tfont-weight: var(--font-boldest);\n\t\t\topacity: 0.15;\n\t\t\tborder-radius: 2px;\n\t\t}\n\t\t&:before {\n\t\t\tcontent: 'A4';\n\t\t\theight: calc(29.7cm - 3.3cm);\n\t\t\twidth: calc(21cm - 3cm);\n\t\t\tcolor: var(--success-color);\n\t\t\tborder: 2px dashed var(--success-color);\n\t\t\tz-index: -1;\n\t\t}\n\t\t&:after {\n\t\t\tcontent: 'A3';\n\t\t\theight: calc(42.0cm - 6cm);\n\t\t\twidth: calc(29.7cm - 4.6cm);\n\t\t\tcolor: var(--danger-color);\n\t\t\tz-index: -2;\n\t\t\tborder: 2px dashed var(--danger-color);\n\t\t}\n\t}\n\t@media (min-width: 800px) {\n\t\tgrid-template-columns: repeat(3, 1fr);\n\t}\n\t@media (min-width: 1600px) {\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t}\n"]);return Le=function(){return t},t}var Be=s.c.div.attrs({"data-widget":"metrics-container"})(Le()),We=e(548),ze=e.n(We);e(648);function Ge(){var t=Object(r.a)(["\n\tposition: relative;\n\theight: 100%;\n\t> button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tborder: 0;\n\t\tborder-radius: 100%;\n\t\ttop: 6px;\n\t\tleft: 100%;\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tpointer-events: none;\n\t\tpadding: 0;\n\t\topacity: 0;\n\t}\n\t.quill {\n\t\theight: 100%;\n\t\t.ql-toolbar {\n\t\t\tposition: absolute;\n\t\t\tborder: var(--border);\n\t\t\tborder-radius: var(--border-radius);\n\t        opacity: 0;\n\t        pointer-events: none;\n\t        bottom: calc(100% + 4px);\n\t        width: 400px;\n\t        background-color: var(--bg-color);\n\t        transition: all 300ms ease-in-out;\n\t        &.ql-snow + .ql-container.ql-snow {\n\t        \tborder-top: var(--border);\n\t        \tborder-top-color: transparent;\n\t        }\n\t        &.ql-snow .ql-picker.ql-font {\n\t        \twidth: 200px;\n\t        }\n\t\t}\n\t\t.ql-container {\n\t\t\tborder: var(--border);\n\t\t\tborder-color: transparent;\n\t\t\tborder-radius: var(--border-radius);\n\t\t\ttransition: all 300ms ease-in-out;\n\t\t}\n\t}\n"]);return Ge=function(){return t},t}function Ke(){var t=Object(r.a)(["\n\tposition: absolute;\n\t&:hover {\n\t\t.quill {\n\t\t\t.ql-toolbar.ql-snow + .ql-container.ql-snow {\n\t            border-top-color: var(--border-color);\n\t            border-top-style: dashed;\n\t        }\n\t\t\t.ql-container {\n\t\t\t\tborder-color: var(--border-color);\n\t\t\t\tborder-style: dashed;\n\t\t\t}\n\t\t}\n\t}\n\t&:focus-within {\n\t\tdiv[data-widget='chart-paragraph-container'] > button {\n\t\t\tpointer-events: auto;\n\t\t\topacity: 1;\n\t\t\t&:first-child {\n\t\t\t\tleft: calc(100% + 4px);\n\t\t\t}\n\t\t\t&:nth-child(2) {\n\t\t\t\tleft: calc(100% + 4px + 32px + 4px);\n\t\t\t}\n\t\t}\n\t\t.quill {\n\t\t\t.ql-toolbar {\n\t\t\t\topacity: 1;\n\t\t\t\tpointer-events: auto;\n\t\t\t\t&.ql-snow + .ql-container.ql-snow {\n\t\t            border-top-color: var(--border-color);\n\t\t             border-top-style: solid;\n\t\t        }\n\t\t\t}\n\t\t\t.ql-container {\n\t\t\t\tborder-color: var(--border-color);\n\t\t\t\tbackground-color: var(--bg-color);\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n"]);return Ke=function(){return t},t}var Fe=["Arial","Microsoft-YaHei","SimHei","Tahoma","Times-New-Roman","Verdana"];We.Quill.import("formats/font").whitelist=Fe;var qe={toolbar:[[{font:Fe}],[{header:[1,2,3,4,5,6,!1]},{align:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{script:"sub"},{script:"super"}],["image"],[{color:[]},{background:[]}],["clean"]]},Ye=s.c.div(Ke()),Ve=s.c.div.attrs({"data-widget":"chart-paragraph-container"})(Ge()),He=function(t){var n=t.rnd,e=t.value,r=t.onChanged,o=t.onRemove,c=Object(i.useState)(!1),s=Object(g.a)(c,2),l=s[0],u=s[1];return Object(a.jsx)(Ye,{children:Object(a.jsx)(rn,{rnd:n,lock:l,children:Object(a.jsxs)(Ve,{children:[Object(a.jsx)(O.c,{inkType:O.b.PRIMARY,title:l?"Unlock":"Lock",onClick:function(){return u(!l)},children:Object(a.jsx)($t.a,{icon:l?Xt.Jb:Xt.Y})}),Object(a.jsx)(O.c,{inkType:O.b.PRIMARY,title:"Delete this paragraph",onClick:o,children:Object(a.jsx)($t.a,{icon:Xt.Gb})}),Object(a.jsx)(ze.a,{value:e.text,modules:qe,onChange:function(t){e.text=t,r(e)}})]})})})},Xe=function(t){var n=t.rnd,e=t.texts,r=t.onTextsChanged;if(!n)return null;var o=function(){r(Object(m.a)(e))},c=function(t){return function(){r(e.filter((function(n){return n!==t})))}};return Object(a.jsx)(i.Fragment,{children:e.map((function(t,e){return Object(a.jsx)(He,{rnd:n,value:t,onChanged:o,onRemove:c(t)},t.uuid)}))})};function $e(){var t=Object(r.a)(["\n\tflex-grow: 1;\n\theight: 300px;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\t> svg {\n\t\tfont-size: 64px;\n\t\topacity: 0.2;\n\t}\n\t> div {\n\t\tfont-size: 0.8em;\n\t\topacity: 0.8;\n\t}\n"]);return $e=function(){return t},t}var Je=s.c.div.attrs({"data-widget":"chart-disabled"})($e()),Qe=function(t){var n=t.def,e=t.options,r=t.onChange;if(!n)return null;return Object(a.jsx)(i.Fragment,{children:n.map((function(t){var n,i=t.options.map((function(t){return{label:t.label,value:t.value}}));return Object(a.jsxs)(gn,{children:[Object(a.jsx)(jn,{children:t.label}),Object(a.jsx)(On,{children:Object(a.jsx)(Hn.a,{options:i,onChange:(n=t.key,function(){var t=Object(W.a)(B.a.mark((function t(a){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(Object(S.a)(Object(S.a)({},e),{},Object(Tn.a)({},n,a.value)));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),value:e[t.key]})})]},t.label)}))})},Ze=function(t){var n,e=t.chart,r=t.rnd,o=Ht(),c=Object(i.useState)(function(t){if(!t)return{};var n={};return(t.groupBy||[]).forEach((function(t){var e,r=t.key;n[r]=null===(e=t.options.find((function(t){return t.default})))||void 0===e?void 0:e.value})),n}(e.options)),s=Object(g.a)(c,2),l=s[0],u=s[1],d=e.chart,f=o.getData(),p=!(!e.options||0===Object.keys(e.options).length),b=e.enabled?e.enabled(f):{enabled:!0,reason:null};return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsxs)(bn,{children:[Object(a.jsx)(hn,{children:e.name}),Object(a.jsxs)(vn,{children:[Object(a.jsx)(de,{visible:r,title:e.name}),Object(a.jsx)(ue,{visible:b.enabled}),Object(a.jsx)(me,{visible:p&&b.enabled}),Object(a.jsx)(fe,{visible:b.enabled})]})]}),Object(a.jsx)(ge,{children:Object(a.jsx)(Qe,{def:null===(n=e.options)||void 0===n?void 0:n.groupBy,options:l,onChange:u})}),b.enabled?Object(a.jsx)(d,{data:f||{},options:l}):Object(a.jsxs)(Je,{children:[Object(a.jsx)($t.a,{icon:Xt.n}),Object(a.jsx)("div",{children:b.reason})]})]})},tr=function(t){var n=t.rnd,e=Ht(),r=e.getDomain().charts||[];return Object(a.jsx)(i.Fragment,{children:r.map((function(t){var r=!(t.enabled?t.enabled(e.getData()):{enabled:!0}).enabled;return Object(a.jsx)(rn,{rnd:n,hidden:r,children:Object(a.jsx)(kn,{children:Object(a.jsx)(Ze,{chart:t,rnd:n})})},t.name)}))})};function nr(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: fixed;\n\tfont-size: 32px;\n\tline-height: 64px;\n\twidth: 64px;\n\tright: 32px;\n\ttop: 240px;\n\tz-index: 10000;\n\tpadding: 0;\n\tborder: 0;\n\tborder-radius: 100%;\n"]);return nr=function(){return t},t}var er=Object(s.c)(O.c).attrs({"data-widget":"chart-print-pdf-btn"})(nr()),rr=function(t){var n=t.rnd,e=t.onPrint;return n?Object(a.jsx)(er,{inkType:O.b.PRIMARY,title:"Print as PDF",onClick:e,children:Object(a.jsx)($t.a,{icon:Xt.lb})}):null};function ar(){var t=Object(r.a)(["\n\tdisplay: block;\n\tposition: fixed;\n\tfont-size: 32px;\n\tline-height: 64px;\n\twidth: 64px;\n\tright: 32px;\n\ttop: 314px;\n\tz-index: 10000;\n\tpadding: 0;\n\tborder: 0;\n\tborder-radius: 100%;\n"]);return ar=function(){return t},t}var ir=Object(s.c)(O.c).attrs({"data-widget":"chart-quit-export-btn"})(ar()),or=function(t){var n=t.rnd,e=t.onQuited,r=yn();if(!n)return null;return Object(a.jsx)(ir,{inkType:O.b.PRIMARY,title:"Quit Export",onClick:function(){e(),r.clear()},children:Object(a.jsx)($t.a,{icon:Xt.C})})},cr=function(){var t=Object(c.g)(),n=Ht(),e=Object(_.b)(),r=Object(x.b)(),o=Object(i.useState)(!1),s=Object(g.a)(o,2),l=s[0],u=s[1],d=Object(i.useState)([]),f=Object(g.a)(d,2),p=f[0],b=f[1],v=Object(i.useRef)(null);Object(i.useEffect)((function(){if(l&&null!=v.current){var t=function(){var t=v.current,n=t.getBoundingClientRect(),e=t.querySelectorAll(".react-draggable"),r=Array.from(e).reduce((function(t,e){var r=e.getBoundingClientRect();return t.width=Math.max(t.width,r.left+r.width-n.left),t.height=Math.max(t.height,r.top+r.height-n.top),t}),{width:0,height:0}),a=r.width,i=r.height;t.style.width="".concat(a,"px"),t.style.height="".concat(i,"px"),document.documentElement.setAttribute("data-on-print","true")},n=function(){var t=v.current;t.style.width="",t.style.height="",document.documentElement.removeAttribute("data-on-print")};window.addEventListener("beforeprint",t),window.addEventListener("afterprint",n);var e=v.current.querySelectorAll(".react-draggable"),r=0,a=0;return Array.from(e).forEach((function(t){var n=t;n.style.width="8.5cm",n.style.height="6cm",n.style.top="".concat(r,"cm"),n.style.left="".concat(a,"cm"),0===a?a=9.6:(a=0,r+=7)})),function(){window.removeEventListener("beforeprint",t),window.removeEventListener("afterprint",n)}}}),[l]);var y=0!==Object.keys(n.getData()||{}).length;return Object(a.jsxs)(_n,{children:[y?Object(a.jsxs)(Be,{"data-rnd":l,ref:v,children:[Object(a.jsx)(tr,{rnd:l}),Object(a.jsxs)(be,{children:[Object(a.jsx)(Te,{rnd:l}),Object(a.jsx)(Ae,{rnd:l})]}),Object(a.jsx)(Xe,{rnd:l,texts:p,onTextsChanged:b})]}):Object(a.jsx)(C,{children:Object(a.jsx)(M,{"data-has-data":!1,"data-has-active":!1,children:Object(a.jsxs)(A,{onClick:function(){return t.push(Object(h.f)(h.a.GUIDE_IMPORT_DATA,n.getDomain().code))},children:["No valid data imported, back and ",Object(a.jsx)("span",{children:"Import Data"})," again."]})})}),Object(a.jsxs)(N,{children:[l?null:Object(a.jsx)(O.a,{onClick:function(){t.push(Object(h.f)(h.a.GUIDE_MEASURE_INDICATOR,n.getDomain().code))},children:"Adjust Indicators"}),Object(a.jsx)(P,{}),l?null:Object(a.jsx)(O.a,{inkType:O.b.PRIMARY,onClick:function(){e.mobile?r.show("Export doesn't support in mobile device."):y?u(!0):r.show("No topic described.")},children:"Export"})]}),Object(a.jsx)(Zt,{rnd:l,onAdd:function(){return b([].concat(Object(m.a)(p),[{text:"New paragraph content here.",uuid:Object(j.a)()}]))}}),Object(a.jsx)(rr,{rnd:l,onPrint:function(){return window.print()}}),Object(a.jsx)(Ue,{rnd:l}),Object(a.jsx)(or,{rnd:l,onQuited:function(){return u(!1)}})]})},sr=e(42);function lr(){var t=Object(r.a)(["\n\topacity: 0.5;\n\t&:hover {\n\t\topacity: 0.7;\n\t}\n"]);return lr=function(){return t},t}function ur(){var t=Object(r.a)(["\n\tfont-size: 1.8em;\n\tfont-weight: var(--font-bold);\n\tline-height: 2.2em;\n\tborder: var(--border);\n\tborder-radius: calc(var(--border-radius) * 2);\n\tpadding: calc(var(--margin) / 2) var(--margin);\n\ttransition: all 300ms ease-in-out;\n\tcursor: pointer;\n\tuser-select: none;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\t@media (min-width: ","px) {\n\t\t&:hover {\n\t\t\ttransform: scale(1.05);\n\t\t}\n\t}\n\t> svg {\n\t\topacity: 0;\n\t\ttransition: opacity 300ms ease-in-out;\n\t}\n\t&[data-selected=true] > svg {\n\t\topacity: 1;\n\t}\n\t@media (max-width: ","px) {\n\t\tpadding: var(--margin) var(--margin);\n\t\tline-height: 1.2em;\n\t}\n"]);return ur=function(){return t},t}function dr(){var t=Object(r.a)(["\n\tpadding: var(--margin) var(--margin) 0;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgrid-column-gap: calc(var(--margin) * 2);\n\tgrid-row-gap: calc(var(--margin));\n\t@media (max-width: ","px) {\n\t\tgrid-template-columns: 1fr;\n\t}\n"]);return dr=function(){return t},t}var fr=s.c.div(dr(),(function(t){return t.theme.maxMobileWidth})),pr=s.c.div(ur(),(function(t){return t.theme.minDeskWidth}),(function(t){return t.theme.maxMobileWidth})),br=Object(s.c)(pr)(lr()),hr=function(){var t=Object(c.g)(),n=Object(sr.b)(),e=Ht(),r=Object(i.useState)({domains:[],hasMore:!1}),o=Object(g.a)(r,2),s=o[0],l=o[1],u=function(){var t=Object(W.a)(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ft();case 3:n=t.sent,l(n),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){u()}),[]);var d=e.getDomain(),f=function(t){return d&&t.code===d.code},p=function(t){return function(){f(t)?e.clearDomain():e.setDomain(t)}},b=d?"Next":"Ignore",v=d?O.b.PRIMARY:O.b.DEFAULT;return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsxs)(fr,{children:[s.domains.map((function(t){return Object(a.jsxs)(pr,{"data-selected":f(t),onClick:p(t),children:[Object(a.jsx)("span",{children:t.label}),Object(a.jsx)($t.a,{icon:Xt.q})]},t.code)})),s.hasMore?Object(a.jsx)(br,{onClick:n.show,children:"Explore More..."}):null]}),Object(a.jsxs)(N,{children:[Object(a.jsx)(P,{}),Object(a.jsx)(O.a,{inkType:v,onClick:function(){t.push(Object(h.f)(h.a.GUIDE_IMPORT_DATA,e.getDomain().code))},children:b})]})]})},vr=e(324),mr=e.n(vr),gr=e(379),jr=e.n(gr),Or=function(){var t=Object(W.a)(B.a.mark((function t(n){var e,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.name.endsWith(".csv")){t.next=2;break}throw new Error("Not a CSV file.");case 2:return t.next=4,n.text();case 4:return e=t.sent,r=mr.a.createHash("md5").update(e).digest("hex"),t.abrupt("return",new Promise((function(t,a){jr()(e,(function(e,i){e?a(e):t({hash:r,filename:n.name,data:i.reduce((function(t,n,e){return 0===e?t.columns=n.map((function(t){return(t||"").trim()})):0!==n.length&&t.data.push(n.reduce((function(n,e,r){return n[t.columns[r]]=e,n}),{})),t}),{columns:[],data:[]}).data})}))})));case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),xr=function(){var t=Object(W.a)(B.a.mark((function t(n){var e,r,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.name.endsWith(".json")){t.next=2;break}throw new Error("Not a JSON file.");case 2:return t.next=4,n.text();case 4:if(e=t.sent,r=mr.a.createHash("md5").update(e).digest("hex"),a=JSON.parse(e),!Array.isArray(a)){t.next=11;break}return t.abrupt("return",{hash:r,data:a,filename:n.name});case 11:return t.abrupt("return",{hash:r,data:[a],filename:n.name});case 12:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),_r=function(){var t=Object(W.a)(B.a.mark((function t(n){var e,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([Or,xr].map(function(){var t=Object(W.a)(B.a.mark((function t(e){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(n){return t.apply(this,arguments)}}()));case 2:if(e=t.sent,!(r=e.find((function(t){return null!=t})))){t.next=8;break}return t.abrupt("return",r);case 8:throw new Error("Given file[".concat(n.name,"] is not supported yet."));case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),yr=e(387),Er=function(t,n){return Dr([t],n)},wr=function(t,n){return(t||[]).reduce((function(t,n){return Er(n,t)}),n)},Dr=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce((function(t,n){var e=t.filter((function(t){return t.native})).reduce((function(t,n){return t[n.name]=n,t}),{});return Object.keys(n||{}).forEach((function(r){var a=e[r]||{name:r,native:!0};switch(a.type){case at.a.OBJECT:case at.a.ARRAY:case at.a.TEXT:break;default:var i=Object(yr.a)(n[r]);a.type=i,t.includes(a)||t.push(a)}switch(a.type){case at.a.OBJECT:a.childTypes=Er(n[r],a.childTypes||[]);break;case at.a.ARRAY:a.childTypes=wr(n[r],a.childTypes||[])}})),t}),n).map((function(n){return t.forEach((function(t){var e=t[n.name];switch(!0){case n.type===at.a.NUMERIC&&null!=e&&"number"!==typeof e:var r=parseFloat(e);t[n.name]=isNaN(r)?null:r;break;case n.type===at.a.BOOLEAN&&"boolean"!==typeof e:t[n.name]=["TRUE","T","YES","Y"].includes("".concat(e).toUpperCase())}})),n}))};function Cr(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tposition: relative;\n\tmargin: 0 var(--margin);\n\tborder: var(--border);\n\tborder-radius: calc(var(--border-radius) * 2);\n\tmin-height: 350px;\n\tcursor: pointer;\n\ttransition: all 300ms ease-in-out;\n\t&[data-has-data=true] {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t\tmin-height: ","px;\n\t\t@media (max-width: ","px) {\n\t\t\tmin-height: ","px;\n\t\t}\n\t\t&:after {\n\t\t\topacity: 0.7;\n\t\t}\n\t\t> div {\n\t\t\topacity: 0;\n\t\t}\n\t}\n\t@media (max-width: ","px) {\n\t\tgrid-template-columns: 1fr;\n\t}\n\t&:before {\n\t\tcontent: 'Select data files...';\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\ttransform-origin: center;\n\t\tfont-size: 1.2em;\n\t\tfont-weight: var(--font-bold);\n\t\ttext-decoration: underline;\n\t\ttransition: transform 300ms ease-in-out;\n\t}\n\t&:hover:before {\n\t\ttransform: translate(-50%, -50%) scale(1.05);\n\t}\n\t&:after {\n\t\tcontent: 'According to security reason, same file cannot be addressed correctly when it is selected in two or more times, try to avoid this please.';\n\t\ttransform: scale(0.7);\n\t\ttransform-origin: right;\n\t\topacity: 0;\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tpadding-right: var(--margin);\n\t\ttransition: all 300ms ease-in-out;\n\t}\n\t> div {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\tfont-size: 1.2em;\n\t\tfont-weight: var(--font-bold);\n\t\tline-height: 2em;\n\t\tpadding: 0 var(--margin);\n\t\tborder-top: var(--border);\n\t\tcursor: pointer;\n\t\ttransition: all 300ms ease-in-out;\n\t\t&:hover {\n\t\t\tbackground-color: var(--hover-color);\n\t\t\ttext-decoration: underline;\n\t\t}\n\t\t> svg {\n\t\t\tmargin-right: calc(var(--margin) / 2);\n\t\t}\n\t}\n"]);return Cr=function(){return t},t}function Mr(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tpadding: 0 var(--margin);\n\theight: var(--height);\n\talign-items: center;\n\ttransition: all 300ms ease-in-out;\n\t&:not(:last-child) {\n\t\tborder-bottom: var(--border);\n\t}\n\t&:hover {\n\t\tbackground-color: var(--hover-color);\n\t}\n\t> div:first-child {\n\t\twhite-space: nowrap;\n\t    text-overflow: ellipsis;\n\t    overflow: hidden;\n\t    direction: rtl;\n\t}\n\t> div:nth-child(2) {\n\t\tflex-grow: 1;\n\t\tfont-size: 0.8em;\n\t\tpadding-left: calc(var(--margin) / 2);\n\t\ttransform-origin: bottom left;\n\t    transform: scale(0.7);\n\t    opacity: 0.7;\n\t}\n\t> div:last-child {\n\t\t> button {\n\t\t\tborder: 0;\n\t\t\tmargin-right: calc(var(--margin) * -0.5);\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--danger-hover-color);\n\t\t\t}\n\t\t}\n\t}\n"]);return Mr=function(){return t},t}function kr(){var t=Object(r.a)(["\n\tmargin: 0 var(--margin);\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-top-left-radius: calc(var(--border-radius) * 2);\n\tborder-top-right-radius: calc(var(--border-radius) * 2);\n\theight: 0;\n\toverflow: hidden;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=true] {\n\t\theight: calc(1px + var(--height) * ",");\n\t\tborder: var(--border);\n\t\tborder-bottom: 0;\n\t}\n"]);return kr=function(){return t},t}function Ar(){var t=Object(r.a)(["\n\tmargin: var(--margin) var(--margin) 0;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-top-left-radius: calc(var(--border-radius) * 2);\n\tborder-top-right-radius: calc(var(--border-radius) * 2);\n\theight: 0;\n\toverflow: hidden;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=true] {\n\t\theight: calc(1px + var(--height) * ",");\n\t\tborder: var(--border);\n\t\tborder-bottom: 0;\n\t\t& ~ div {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-top-right-radius: 0;\n\t\t}\n\t}\n"]);return Ar=function(){return t},t}var Tr=s.c.div(Ar(),(function(t){return t.itemCount})),Ir=s.c.div(kr(),(function(t){return t.itemCount})),Rr=s.c.div(Mr()),Nr=s.c.div(Cr(),(function(t){var n=t.itemCount;return Math.max(100,350-32*n)}),(function(t){return t.theme.maxMobileWidth}),(function(t){var n=t.itemCount;return Math.max(160,350-32*n)}),(function(t){return t.theme.maxMobileWidth})),Pr=function(){var t=Object(c.g)(),n=Object(x.b)(),e=Ht(),r=Object(i.useState)([]),o=Object(g.a)(r,2),s=o[0],l=o[1],u=function(t){var n=e.getData()||{},r=Object.values(n).map((function(t){return t.hash})),a=Object(m.a)(new Set(t.map((function(t){return t.hash})))).reduce((function(t,n){return t[n]=!0,t}),{});e.setData(t.sort((function(t,n){return t.filename.localeCompare(n.filename)})).filter((function(t){return!r.includes(t.hash)&&(!!a[t.hash]&&(delete a[t.hash],!0))})).reduce((function(t,n){for(var e=n.filename.replace(/^(.*)\.(json|csv)$/,"$1")||"Noname",r=1;t[e];)e=n.filename.replace(/^(.*)\.(json|csv)$/,"$1_".concat(r)),r+=1;return t[e]={data:n.data,columns:Dr(n.data),hash:n.hash},t}),n))},d=function(){var r=Object(W.a)(B.a.mark((function r(){var a;return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==s.length){r.next=3;break}return 0!==Object.keys(e.getData()||{}).length?t.push(Object(h.f)(h.a.GUIDE_MAPPING_FACTOR,e.getDomain().code)):n.show("No data file selected."),r.abrupt("return");case 3:return r.next=5,Promise.all(s.map(function(){var t=Object(W.a)(B.a.mark((function t(n){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_r(n.file);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()));case 5:a=r.sent,u(a),t.push(Object(h.f)(h.a.GUIDE_MAPPING_FACTOR,e.getDomain().code));case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),f=e.getData()||{},p=Object.keys(f).length,b=function(t){return function(){e.setData(Object.keys(f).filter((function(n){return n!==t})).reduce((function(t,n){return t[n]=f[n],t}),{}))}},v=function(){var t=Object(W.a)(B.a.mark((function t(r){var a,i,o;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.stopPropagation(),a=e.getDomain(),i=a.demo||{},0!==Object.keys(i).length){t.next=6;break}return n.show("No sample data found for this domain."),t.abrupt("return");case 6:return t.next=8,Promise.all(Object.keys(i).map(function(){var t=Object(W.a)(B.a.mark((function t(n){var e,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i[n],r=e.substr(e.lastIndexOf(".")+1),t.next=4,_r({name:"".concat(n,".").concat(r),text:function(){var t=Object(W.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qt(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()));case 8:0!==(o=t.sent).length&&(e.clearData(),u(o));case 10:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),j=0!==p||0!==s.length;return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsx)(Tr,{"data-visible":0!==p,itemCount:p,children:Object.keys(f).sort((function(t,n){return t.localeCompare(n)})).map((function(t,n){return Object(a.jsxs)(Rr,{children:[Object(a.jsx)("div",{children:t}),Object(a.jsxs)("div",{children:[(f[t].data||[]).length," item(s)"]}),Object(a.jsx)("div",{children:Object(a.jsx)(O.c,{onClick:b(t),children:Object(a.jsx)($t.a,{icon:Xt.Gb})})})]},"".concat(t,"-").concat(n))}))}),Object(a.jsx)(Ir,{"data-visible":0!==s.length,itemCount:s.length,children:s.map((function(t,n){return Object(a.jsxs)(Rr,{children:[Object(a.jsx)("div",{children:t.name}),Object(a.jsx)("div",{children:t.size}),Object(a.jsx)("div",{children:Object(a.jsx)(O.c,{onClick:(e=t,function(){l(s.filter((function(t){return t!==e})))}),children:Object(a.jsx)($t.a,{icon:Xt.Gb})})})]},"".concat(t.name,"-").concat(n));var e}))}),Object(a.jsx)(Nr,{"data-has-data":j,itemCount:p+s.length,onClick:function(){var t=document.createElement("input");t.type="file",t.multiple=!0,t.accept=".json,.csv",t.onchange=function(t){return Object(W.a)(B.a.mark((function n(){var e,r,a,i,o;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=t.files||[],r=[],a=0,i=e.length;a<i;a++)r.push(e[a]);o=s.map((function(t){return t.name})),l([].concat(Object(m.a)(s),Object(m.a)(r.map((function(t){for(var n=t.name,e=n,r=1;o.includes(n);)n=e.replace(/(.*)\.(json|csv)$/,"$1_".concat(r,".$2")),r+=1;return o.push(n),{name:n,size:Object(U.d)(t.size),file:t}})))));case 5:case"end":return n.stop()}}),n)})))}(t),t.click()},children:Object(a.jsxs)("div",{onClick:v,children:[Object(a.jsx)($t.a,{icon:Xt.i}),Object(a.jsx)("span",{children:"Or learning from samples."})]})}),Object(a.jsxs)(N,{children:[Object(a.jsx)(O.a,{onClick:function(){t.push(h.a.GUIDE_DOMAIN_SELECT)},children:"Change Domain"}),Object(a.jsx)(P,{}),Object(a.jsx)(O.a,{inkType:O.b.PRIMARY,onClick:d,children:"Next"})]})]})};function Sr(){var t=Object(r.a)(["\n\theight: 27px;\n\tmargin-left: calc(var(--input-indent) * -1);\n\tborder-color: transparent;\n\ttransition: all 300ms ease-in-out;\n\tfont-size: 0.8em;\n\twidth: calc(100% + var(--input-indent));\n\t> div:last-child > span {\n\t\theight: 27px;\n\t}\n\t&:hover {\n\t\tborder-color: var(--primary-color);\n\t\t> svg {\n\t\t\tcolor: var(--primary-color);\n\t\t}\n\t}\n\t&:focus {\n\t\tborder-color: var(--border-color);\n\t\t> div:last-child {\n\t\t\tborder-color: var(--border-color);\n\t\t}\n\t\t> svg {\n\t\t\tcolor: var(--border-color);\n\t\t}\n\t}\n"]);return Sr=function(){return t},t}var Ur=Object(s.c)(Hn.a)(Sr());function Lr(){var t=Object(r.a)(["\n\theight: 27px;\n\tmargin-left: calc(var(--input-indent) * -1);\n\tborder-color: transparent;\n\ttransition: all 300ms ease-in-out;\n\tfont-size: 0.8em;\n\twidth: calc(100% + var(--input-indent));\n\t&:hover {\n\t\tborder-color: var(--primary-color);\n\t}\n\t&:focus {\n\t\tborder-color: var(--border-color);\n\t}\n"]);return Lr=function(){return t},t}var Br=Object(s.c)(oe.a)(Lr());function Wr(){var t=Object(r.a)(["\n\theight: 31px;\n\tpadding: 0 calc(var(--margin) / 2);\n\tdisplay: flex;\n\talign-items: center;\n\toverflow-x: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n"]);return Wr=function(){return t},t}function zr(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tborder-bottom: var(--border);\n\tfont-size: 0.8em;\n\t&:nth-child(n + 10):last-child {\n\t\tborder-bottom-color: transparent;\n\t}\n\t&:hover {\n\t\tbackground-color: var(--hover-color);\n\t\t> div {\n\t\t\t> input:hover:focus,\n\t\t\t> div[data-widget=dropdown]:hover:focus {\n\t\t\t\tborder-color: var(--primary-color);\n\t\t\t\t> div:last-child {\n\t\t\t\t\tborder-color: var(--primary-color);\n\t\t\t\t}\n\t\t\t\t> svg {\n\t\t\t\t\tcolor: var(--primary-color);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return zr=function(){return t},t}function Gr(){var t=Object(r.a)(["\n\theight: 31px;\n\tpadding: 0 calc(var(--margin) / 2);\n\tdisplay: flex;\n\talign-items: center;\n"]);return Gr=function(){return t},t}function Kr(){var t=Object(r.a)(["\n\tdisplay: grid;\n\tborder-bottom: var(--border);\n\talign-items: center;\n"]);return Kr=function(){return t},t}function Fr(){var t=Object(r.a)(["\n\twidth: 70%;\n\tdisplay: flex;\n\tflex-direction: column;\n\topacity: 0;\n\ttransition: all 300ms ease-in-out;\n\t&[data-visible=true] {\n\t\topacity: 1;\n\t}\n"]);return Fr=function(){return t},t}var qr=s.c.div(Fr()),Yr=s.c.div(Kr()),Vr=s.c.div(Gr()),Hr=s.c.div(zr()),Xr=s.c.div(Wr()),$r=function(t){var n=t.name||"";return-1!==n.indexOf(".")?n.split(".").reverse()[0]:n||"Noname"},Jr=function(t,n,e){return t.filter((function(t){return t!==n})).reduce((function(t,n){return t[n[e]]=n,t}),{})},Qr=function(t,n,e,r){for(var a=t,i=1;n[a];)a=t.replace(e,r(i)),i+=1;return a},Zr=function(t,n,e){return Qr(e,Jr(t,n,"name"),/^(.*)(_{\d}+)*$/,(function(t){return"$1_".concat(t)}))},ta=function(t,n,e){return Qr(e,Jr(t,n,"label"),/^(.*)(\s{\d}+)*$/,(function(t){return"$1 ".concat(t)}))};function na(){var t=Object(r.a)(["\n\ttext-indent: calc(0.8em * ",");\n\t&:last-child {\n\t\ttext-transform: capitalize;\n\t}\n"]);return na=function(){return t},t}function ea(){var t=Object(r.a)(["\n\tgrid-template-columns: 40% 35% 25%;\n"]);return ea=function(){return t},t}function ra(){var t=Object(r.a)(["\n\tgrid-template-columns: 40% 35% 25%;\n"]);return ra=function(){return t},t}var aa=Object(s.c)(Yr)(ra()),ia=Object(s.c)(Hr)(ea()),oa=Object(s.c)(Xr)(na(),(function(t){return t.indent||0})),ca=Object.keys(at.a).filter((function(t){var n;return"number"===typeof at.a[t]||at.a[t]===t||(null===(n=at.a[at.a[t]])||void 0===n?void 0:n.toString())!==t})).map((function(t){return{value:at.a[t],label:at.a[t]}})),sa=function(){var t=Object(c.g)(),n=Object(x.b)(),e=Ht(),r=e.getData()||{},o=Object.keys(r).sort((function(t,n){return t.localeCompare(n)})),s=Object(i.useState)(0!==o.length?o[0]:null),l=Object(g.a)(s,2),u=l[0],d=l[1],f=function(t){return function(){return d(t)}},p=u?r[u]:null,b=function(t){return function(n){t.label=n.target.value,e.setData(e.getData())}},v=function(t){return function(){var n=Object(W.a)(B.a.mark((function n(r){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.type=r.value,e.setData(e.getData());case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()};return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsxs)(C,{children:[Object(a.jsxs)(M,{"data-has-data":0!==o.length,"data-has-active":null!=u,children:[o.map((function(t){return Object(a.jsx)(k,{onClick:f(t),"data-active":t===u,children:t},t)})),Object(a.jsxs)(A,{onClick:function(){return t.push(Object(h.f)(h.a.GUIDE_IMPORT_DATA,e.getDomain().code))},children:["No valid data imported, back and ",Object(a.jsx)("span",{children:"Import Data"})," again."]})]}),Object(a.jsxs)(qr,{"data-visible":null!=u,children:[Object(a.jsxs)(aa,{children:[Object(a.jsx)(Vr,{children:"Name"}),Object(a.jsx)(Vr,{children:"Label"}),Object(a.jsx)(Vr,{children:"Type"})]}),function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n.map((function(n){var r=$r(n),o=n.label,c=n.childTypes||[];return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsxs)(ia,{children:[Object(a.jsx)(oa,{indent:e,children:r}),Object(a.jsx)(oa,{children:Object(a.jsx)(Br,{type:"text",value:o,placeholder:r,onChange:b(n)})}),Object(a.jsx)(oa,{children:Object(a.jsx)(Ur,{options:ca,onChange:v(n),value:n.type})})]}),0!==c.length?t(c,e+1):null]},n.name)}))}(null===p||void 0===p?void 0:p.columns.filter((function(t){return t.native})))]})]}),Object(a.jsxs)(N,{children:[Object(a.jsx)(O.a,{onClick:function(){return t.push(Object(h.f)(h.a.GUIDE_IMPORT_DATA,e.getDomain().code))},children:"Reimport Data"}),Object(a.jsx)(P,{}),Object(a.jsx)(O.a,{inkType:O.b.PRIMARY,onClick:function(){0!==o.length?t.push(Object(h.f)(h.a.GUIDE_MEASURE_INDICATOR,e.getDomain().code)):n.show("No factor described.")},children:"Next"})]})]})},la={code:"custom",name:"customIndicator",label:"Custom Indicator",body:""},ua=e(752);function da(){var t=Object(r.a)(["\n\theight: var(--height);\n\tborder-top: var(--border);\n\tborder-top-color: transparent;\n\tgrid-column: span 4;\n\tposition: relative;\n\toverflow: hidden;\n\ttransition: all 300ms ease-in-out;\n\t> svg {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 16px;\n\t\ttransform: translateY(-50%);\n\t\topacity: 0.5;\n\t\tfont-size: 0.7em;\n\t}\n\t> input {\n\t\tmargin-right: calc(var(--input-indent) * -1);\n\t\twidth: calc(100% + var(--input-indent) * 2);\n\t\tpadding-left: 22px;\n\t}\n"]);return da=function(){return t},t}function fa(){var t=Object(r.a)(["\n\tjustify-content: center;\n\tpadding: 0;\n\t> button {\n\t\tborder: 0;\n\t\tborder-radius: 100%;\n\t\twidth: 27px;\n\t\theight: 27px;\n\t\tpadding: 0;\n\t\t&:hover {\n\t\t\tbackground-color: var(--primary-hover-color);\n\t\t\tcolor: var(--invert-color);\n\t\t}\n\t}\n"]);return fa=function(){return t},t}function pa(){var t=Object(r.a)(["\n\tgrid-template-columns: 30% calc(35% - 32px) calc(35% - 32px) 32px 32px;\n\t"," {\n\t\t&:not(:focus-within) {\n\t\t\t> div:last-child:not(:first-child) {\n\t\t\t\theight: 0;\n\t\t\t\tborder-top: 0;\n\t\t\t}\n\t\t}\n\t}\n\t> div:nth-child(4) {\n\t\t> svg {\n\t\t\ttransition: all 300ms linear;\n\t\t}\n\t\t> svg:first-child {\n\t\t\tcolor: var(--danger-color);\n\t\t\twidth: 0;\n\t\t}\n\t\t> svg:last-child {\n\t\t\tcolor: var(--success-color);\n\t\t\twidth: 1em;\n\t\t}\n\t}\n\t&[data-incorrect=true] {\n\t\t> div:nth-child(4) {\n\t\t\t> svg:first-child {\n\t\t\t\twidth: 1em;\n\t\t\t}\n\t\t\t> svg:last-child {\n\t\t\t\twidth: 0;\n\t\t\t}\n\t\t}\n\t}\n"]);return pa=function(){return t},t}var ba=Object(s.c)(Hr)(pa(),"@supports selector(:focus-within)"),ha=Object(s.c)(Xr)(fa()),va=Object(s.c)(Xr)(da()),ma=function(t){var n=t.column,e=t.topic,r=t.typeOptions,o=Ht(),c=Object(i.useState)(!1),s=Object(g.a)(c,2),l=s[0],u=s[1],d=Object(i.useState)(null),f=Object(g.a)(d,2),p=f[0],b=f[1];if(n.native)return null;var h=n,v=$r(n),m=n.label,j=e.columns.includes(n),x=Object(ua.b)(e,h),_=function(){p&&clearTimeout(p),b(setTimeout((function(){return Object(ua.a)(e,h)}),1e3))};return Object(a.jsxs)(ba,{"data-incorrect":x,children:[Object(a.jsx)(Xr,{children:Object(a.jsx)(Ur,{options:r,value:h.expressionCode,please:"New Indicator...",onChange:function(t,n){return function(){var e=Object(W.a)(B.a.mark((function e(r){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r,n.expressionCode=r.value,n.name=Zr(t,n,n.name||a.name),n.label=ta(t,n,n.label||a.label),n.expression=a.body,t.includes(n)||t.push(n),_(),o.setData(o.getData());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e.columns,h)})}),j?Object(a.jsx)(Xr,{children:Object(a.jsx)(Br,{type:"text",placeholder:v,value:l?"":v,onChange:function(t){var r=n.name;n.name=t.target.value,0===(n.name||"").trim().length?(n.name=Zr(e.columns,n,$r(n)),u(!0)):u(!1),(e.data||[]).forEach((function(t){t[n.name]=t[r],delete t[r]})),o.setData(o.getData())}})}):null,j?Object(a.jsx)(Xr,{children:Object(a.jsx)(Br,{type:"text",placeholder:m||v||"",value:m||"",onChange:function(t){n.label=t.target.value,o.setData(o.getData())}})}):null,j?Object(a.jsxs)(Xr,{children:[Object(a.jsx)($t.a,{icon:Xt.H,title:"Something incorrect."}),Object(a.jsx)($t.a,{icon:Xt.q})]}):null,j?Object(a.jsx)(ha,{children:Object(a.jsx)(O.c,{title:"Delete",onClick:function(){e.columns=e.columns.filter((function(t){return t!==n})),(e.data||[]).forEach((function(t){return delete t[n.name]})),o.setData(o.getData())},children:Object(a.jsx)($t.a,{icon:Xt.Gb})})}):null,j?Object(a.jsxs)(va,{children:[Object(a.jsx)($t.a,{icon:Xt.F}),Object(a.jsx)(Br,{type:"text",placeholder:"Expression...",value:h.expression,onChange:function(t){h.expression=t.target.value,_(),o.setData(o.getData())}})]}):null]})};function ga(){var t=Object(r.a)(["\n\tcursor: default;\n\ttext-indent: calc(0.8em * ",");\n\tfont-size: 0.8em;\n\t&:hover {\n\t\tbackground-color: var(--hover-color);\n\t}\n\t&[data-visible=false] {\n\t\theight: 0;\n\t\tborder-bottom: 0;\n\t}\n\t> span:last-child {\n\t\ttransform: scale(0.8);\n\t\ttransform-origin: bottom;\n\t\ttext-transform: capitalize;\n\t}\n"]);return ga=function(){return t},t}var ja=Object(s.c)(k)(ga(),(function(t){return(t.indent||0)+1})),Oa=function t(n){var e=n.column,r=n.visible,o=n.indent,c=void 0===o?0:o;if(!e.native)return null;var s=$r(e),l=e.label,u=function(t){return t.type}(e);return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsxs)(ja,{indent:c,"data-visible":r,children:[Object(a.jsx)("span",{children:l||s}),Object(a.jsx)("span",{children:u?"(".concat(u,")"):null})]}),(e.childTypes||[]).map((function(n){return Object(a.jsx)(t,{column:n,visible:r,indent:c+1},n.name)}))]},e.name)};function xa(){var t=Object(r.a)(["\n\tgrid-template-columns: 30% calc(35% - 32px) calc(35% - 32px) 32px 32px;\n"]);return xa=function(){return t},t}function _a(){var t=Object(r.a)(["\n\t&[data-active=false] + div {\n\t\theight: 0;\n\t}\n\t&[data-active=true] {\n\t\t> svg {\n\t\t\ttransform: rotateX(180deg);\n\t\t}\n\t}\n\t> span {\n\t\tflex-grow: 1;\n\t}\n\t> svg {\n\t\ttransition: all 300ms ease-in-out;\n\t}\n"]);return _a=function(){return t},t}var ya,Ea=Object(s.c)(k)(_a()),wa=Object(s.c)(Yr)(xa()),Da=function(){var t=Object(c.g)(),n=Object(x.b)(),e=Ht(),r=e.getData()||{},o=Object.keys(r).sort((function(t,n){return t.localeCompare(n)})),s=Object(i.useState)(0!==o.length?o[0]:null),l=Object(g.a)(s,2),u=l[0],d=l[1],f=function(t){return function(){d(t===u?null:t)}};return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsxs)(C,{children:[Object(a.jsxs)(M,{"data-has-data":0!==o.length,"data-has-active":null!=u,children:[o.map((function(t){var n=t===u;return Object(a.jsxs)(i.Fragment,{children:[Object(a.jsxs)(Ea,{onClick:f(t),"data-active":t===u,children:[Object(a.jsx)("span",{children:t}),Object(a.jsx)($t.a,{icon:Xt.c})]}),(r[t].columns||[]).map((function(t){return Object(a.jsx)(Oa,{column:t,visible:n},t.name)}))]},t)})),Object(a.jsxs)(A,{onClick:function(){return t.push(Object(h.f)(h.a.GUIDE_IMPORT_DATA,e.getDomain().code))},children:["No valid data imported, back and ",Object(a.jsx)("span",{children:"Import Data"})," again."]})]}),Object(a.jsxs)(qr,{"data-visible":null!=u,children:[Object(a.jsxs)(wa,{children:[Object(a.jsx)(Vr,{children:"Calc."}),Object(a.jsx)(Vr,{children:"Name"}),Object(a.jsx)(Vr,{children:"Label"})]}),u?function(t){var n=[].concat(Object(m.a)(e.getDomain().expressions||[]),[la]).map((function(t){return Object(S.a)(Object(S.a)({},t),{},{value:t.code})})),r=(t.columns||[]).map((function(e,r){return Object(a.jsx)(ma,{column:e,topic:t,typeOptions:n},r)}));return Object(a.jsxs)(i.Fragment,{children:[r,Object(a.jsx)(ma,{column:{native:!1},topic:t,typeOptions:n})]})}(r[u]):null]})]}),Object(a.jsxs)(N,{children:[Object(a.jsx)(O.a,{onClick:function(){return t.push(Object(h.f)(h.a.GUIDE_MAPPING_FACTOR,e.getDomain().code))},children:"Check Factors"}),Object(a.jsx)(P,{}),Object(a.jsx)(O.a,{inkType:O.b.PRIMARY,onClick:function(){0!==o.length?t.push(Object(h.f)(h.a.GUIDE_BUILD_METRICS,e.getDomain().code)):n.show("No factor described.")},children:"Next"})]})]})},Ca=e(13);function Ma(){var t=Object(r.a)(["\n\tposition: absolute;\n\tleft: calc((8px + var(--margin) * 2) * "," - 1px);\n\ttransition: left 300ms ease-in-out;\n"]);return Ma=function(){return t},t}function ka(){var t=Object(r.a)(["\n\theight: 8px;\n\twidth: 8px;\n\tborder-radius: 100%;\n\tbackground-color: var(--border-color);\n\tcolor: var(--border-color);\n\tborder: var(--border);\n\tfont-size: 12px;\n\ttransition: all 300ms 100ms ease-in-out;\n\t&:not(:first-child) {\n\t\tposition: relative;\n\t\tmargin-left: calc(var(--margin) * 2);\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\tleft: calc(var(--margin) * -2 - 1px);\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t\twidth: calc(var(--margin) * 2);\n\t\t\theight: 1px;\n\t\t\tbackground-color: var(--border-color);\n\t\t\tz-index: -1;\n\t\t\ttransition: background-color 300ms ease-in-out;\n\t\t}\n\t}\n\t&[data-performed=true] {\n\t\tbackground-color: var(--font-color);\n\t\tborder-color: var(--font-color);\n\t}\n\t&[data-current=true],\n\t&[data-performed=true] {\n\t\t&:before {\n\t\t\tbackground-color: var(--font-color);\n\t\t}\n\t}\n\t&:nth-last-child(2),\n\t&[data-current=true] {\n\t\tborder-color: transparent;\n\t\tbackground-color: transparent;\n\t}\n\t&[data-current=true] {\n\t\t&:nth-last-child(2) {\n\t\t\t> svg {\n\t\t\t\topacity: 1;\n\t\t\t\tcolor: var(--font-color);\n\t\t\t}\n\t\t}\n\t\t> svg {\n\t\t\topacity: 0;\n\t\t}\n\t\t+ div {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\t> svg {\n\t\tcolor: var(--border-color);\n\t\topacity: 1;\n\t\ttransform: translateY(-4px);\n\t\ttransition: all 300ms ease-in-out;\n\t}\n"]);return ka=function(){return t},t}function Aa(){var t=Object(r.a)(["\n\tlist-style-type: none;\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n\tpadding-inline-start: 0;\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n"]);return Aa=function(){return t},t}function Ta(){var t=Object(r.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t> span:first-child {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\topacity: 0.5;\n\t\twhite-space: nowrap;\n\t\t> span > a {\n\t\t\ttext-decoration: none;\n\t\t\tcolor: var(--font-color);\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t\t> span:not(:first-child) {\n\t\t\t&:before {\n\t\t\t\tcontent: '/';\n    \t\t\tpadding: 0.5em;\n\t\t\t}\n\t\t}\n\t\t> span:last-child {\n\t\t\tuser-select: none;\n\t\t\ttext-overflow: ellipsis;\n    \t\toverflow: hidden;\n\t\t}\n\t}\n\t> span:last-child {\n\t\tfont-size: 1.7em;\n\t\tline-height: 1.7em;\n\t\tfont-weight: var(--font-boldest);\n\t\tuser-select: none;\n\t}\n"]);return Ta=function(){return t},t}function Ia(){var t=Object(r.a)(["\n\tposition: relative;\n\tpadding: 0 var(--margin);\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding-bottom: 1em;\n"]);return Ia=function(){return t},t}!function(t){t[t.DOMAIN_SELECT=0]="DOMAIN_SELECT",t[t.IMPORT_DATA=1]="IMPORT_DATA",t[t.MAPPING_FACTORS=2]="MAPPING_FACTORS",t[t.MEASURE_INDICATORS=3]="MEASURE_INDICATORS",t[t.BUILD_METRICS=4]="BUILD_METRICS"}(ya||(ya={}));var Ra=["Domain Select","Import Data","Mapping Factors","Measure Indicators","Build & Export Metrics"],Na=s.c.div.attrs({"data-widget":"guide-steps"})(Ia()),Pa=s.c.div(Ta()),Sa=s.c.ul(Aa()),Ua=s.c.li(ka()),La=s.c.div(Ma(),(function(t){return t.step})),Ba=function(t){var n=t.step,e=Object(c.h)(),r=!Object(c.f)(e.pathname,h.a.GUIDE_DOMAIN_SELECT),i=Ht().getDomain();return Object(a.jsxs)(Na,{children:[Object(a.jsxs)(Pa,{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("span",{children:Object(a.jsx)(Ca.b,{to:h.a.HOME,children:"Home"})}),Object(a.jsx)("span",{children:r?Object(a.jsx)(Ca.b,{to:h.a.GUIDE_DOMAIN_SELECT,children:"Step by Step Guide"}):"Step by Step Guide"}),r?Object(a.jsx)("span",{children:i.label}):null]}),Object(a.jsx)("span",{children:Ra[n]})]}),Object(a.jsxs)(Sa,{children:[Ra.map((function(t,e){return Object(a.jsx)(Ua,{title:t,"data-current":e===n,"data-performed":e<n,children:e===ya.BUILD_METRICS?Object(a.jsx)($t.a,{icon:Xt.M}):null},t)})),Object(a.jsx)(La,{step:n,children:Object(a.jsx)($t.a,{icon:Xt.Ib})})]})]})};function Wa(){var t=Object(r.a)(["\n\t> main {\n\t\twidth: ",";\n\t\toverflow: hidden;\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tleft: calc(var(--margin) * 3);\n\t\t\tbottom: calc(var(--margin) * 3);\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tz-index: -1;\n\t\t\tpointer-events: none;\n\t\t\tuser-select: none;\n\t\t\tfilter: brightness(1.5) opacity(0.1);\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-position: left bottom;\n\t\t\tbackground-size: 200px;\n\t\t\tbackground-image: url(",");\n\t\t}\n\t\t@media (max-width: ","px) {\n\t\t\twidth: 100vw;\n\t\t}\n\t}\n"]);return Wa=function(){return t},t}var za=[u,f,p,b,l,d],Ga=Object(s.c)(v.a)(Wa(),(function(t){return t.step===ya.BUILD_METRICS?"calc(100% - var(--margin) * 2)":"1000px"}),(function(t){var n=t.step;return za[n]}),(function(t){return t.theme.maxMobileWidth})),Ka=function(t){var n=Object(c.i)().domain;if(Ht().getDomain().code!==n)return Object(a.jsx)(c.a,{to:h.a.GUIDE_DOMAIN_SELECT});var e=t.children;return Object(a.jsx)(i.Fragment,{children:e})};n.default=function(){var t=ya.DOMAIN_SELECT,n=Object(c.h)();return Object(c.f)(n.pathname,h.a.GUIDE_DOMAIN_SELECT)?t=ya.DOMAIN_SELECT:Object(c.f)(n.pathname,h.a.GUIDE_IMPORT_DATA)?t=ya.IMPORT_DATA:Object(c.f)(n.pathname,h.a.GUIDE_MAPPING_FACTOR)?t=ya.MAPPING_FACTORS:Object(c.f)(n.pathname,h.a.GUIDE_MEASURE_INDICATOR)?t=ya.MEASURE_INDICATORS:Object(c.f)(n.pathname,h.a.GUIDE_BUILD_METRICS)&&(t=ya.BUILD_METRICS),Object(a.jsx)(Vt,{children:Object(a.jsxs)(Ga,{step:t,children:[Object(a.jsx)(Ba,{step:t}),Object(a.jsxs)(c.d,{children:[Object(a.jsx)(c.b,{path:h.a.GUIDE_DOMAIN_SELECT,children:Object(a.jsx)(hr,{})}),Object(a.jsx)(c.b,{path:h.a.GUIDE_IMPORT_DATA,children:Object(a.jsx)(Ka,{children:Object(a.jsx)(Pr,{})})}),Object(a.jsx)(c.b,{path:h.a.GUIDE_MAPPING_FACTOR,children:Object(a.jsx)(Ka,{children:Object(a.jsx)(sa,{})})}),Object(a.jsx)(c.b,{path:h.a.GUIDE_MEASURE_INDICATOR,children:Object(a.jsx)(Ka,{children:Object(a.jsx)(Da,{})})}),Object(a.jsx)(c.b,{path:h.a.GUIDE_BUILD_METRICS,children:Object(a.jsx)(Ka,{children:Object(a.jsx)(cr,{})})}),Object(a.jsx)(c.b,{children:Object(a.jsx)(c.a,{to:h.a.GUIDE_DOMAIN_SELECT})})]})]})})}},78:function(t,n,e){"use strict";e.d(n,"c",(function(){return s})),e.d(n,"a",(function(){return l})),e.d(n,"b",(function(){return u})),e.d(n,"d",(function(){return f})),e.d(n,"e",(function(){return p})),e.d(n,"f",(function(){return b}));var r=e(9),a=e(135),i=e.n(a),o=["#60acfc","#32d3eb","#5bc49f","#feb64d","#ff7c7c","#9287e7"],c=["#238ee4","#42B1C2","#8DD86F","#FD8C56","#E14D7C","#6163D9"],s=o,l=[].concat(o,c),u=[].concat(o,c,["#31A3E5","#39C6BB","#CCED48","#F66B5B","#CA4697","#5057D6"],["#2EB1D9","#55CEA3","#FED535","#F75559","#A542AF","#5479CD"]),d=u.map((function(t){return i()(t)})),f=d.map((function(t){return t.darken(.1).rgb().toString()})),p=d.map((function(t){return t.lighten(.2).rgb().toString()})),b=d.map((function(t){return t.lighten(.4).rgb().toString()})),h=[f,p,b].map((function(t){return t.filter((function(t,n){return n%2===0}))})),v=Object(r.a)(h,3),m=(v[0],v[1],v[2],[f,p,b].map((function(t){return t.filter((function(t,n){return n%4===0}))}))),g=Object(r.a)(m,3);g[0],g[1],g[2]},79:function(t,n,e){"use strict";var r=e(19),a=e.n(r),i=e(23),o=e(28),c=e(9),s=e(117),l=e(3),u=e(0),d=e(18),f=e(14),p=e(1),b=e(2);function h(){var t=Object(l.a)(["\n\tposition: fixed;\n\tmax-height: calc(var(--height) * 8 + 2px);\n\tpointer-events: none;\n\topacity: 0;\n\tbackground-color: var(--bg-color);\n\tborder: var(--border);\n\ttransition: opacity 300ms ease-in-out;\n\tz-index: 999;\n\toverflow-y: auto;\n\t> span {\n\t\theight: var(--height);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 6px var(--input-indent);\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\t&:hover {\n\t\t\tbackground-color: var(--hover-color);\n\t\t}\n\t}\n"]);return h=function(){return t},t}function v(){var t=Object(l.a)(["\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\toverflow-x: hidden;\n\tflex-grow: 1;\n"]);return v=function(){return t},t}var m=b.c.div.attrs((function(){return{"data-widget":"dropdown"}}))((function(t){var n=t.theme,e=t.top,r=t.height,a=t.itemCount,i=e+r+Math.min(a,8)*n.height+2<window.innerHeight;return"\n\t\tposition: relative;\n\t\tpadding: 6px var(--input-indent);\n\t\toutline: none;\n\t\tappearance: none;\n\t\tborder: var(--border);\n\t\tborder-radius: var(--border-radius);\n\t\tfont-size: var(--font-size);\n\t\theight: var(--height);\n\t\tline-height: var(--line-height);\n\t\tcolor: var(--font-color);\n\t\tbackground-color: transparent;\n\t\ttransition: all 300ms ease-in-out;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\t\twidth: 100%;\n\t\t> svg {\n\t\t\topacity: 0;\n\t\t\tmargin-left: var(--letter-gap);\n\t\t\ttransition: all 300ms ease-in-out;\n\t\t}\n\t\t&:hover,\n\t\t&:focus {\n\t\t\t> svg {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t\t&[data-options-visible=true]:focus {\n\t\t\tborder-bottom-left-radius: ".concat(i?0:"var(--border-radius)",";\n\t\t\tborder-bottom-right-radius: ").concat(i?0:"var(--border-radius)",";\n\t\t\tborder-top-left-radius: ").concat(i?"var(--border-radius)":0,";\n\t\t\tborder-top-right-radius: ").concat(i?"var(--border-radius)":0,";\n\t\t\t> div:last-child {\n\t\t\t\topacity: 1;\n\t\t\t\tpointer-events: auto;\n\t\t\t}\n\t\t}\n\t")})),g=b.c.span(v()),j=b.c.div.attrs((function(t){var n=t.theme,e=t.top,r=t.left,a=t.height,i=t.minWidth,o=t.itemCount,c=e+a+Math.min(o,8)*n.height+2<window.innerHeight;return{style:{top:c?e+a-1:"unset",bottom:c?"unset":"calc(100vh - ".concat(e+1,"px)"),left:r,minWidth:i,borderTopLeftRadius:c?0:"var(--border-radius)",borderTopRightRadius:c?0:"var(--border-radius)",borderBottomLeftRadius:c?"var(--border-radius)":0,borderBottomRightRadius:c?"var(--border-radius)":0}}}))(h()),O=function(t){var n=t.getBoundingClientRect();return{top:n.top,left:n.left,width:n.width,height:n.height}};n.a=function(t){var n,e=t.className,r=t.options,l=void 0===r?[]:r,b=t.onChange,h=t.value,v=t.please,x=void 0===v?"":v,_=t.select,y=Object(s.a)(t,["className","options","onChange","value","please","select"]),E=Object(p.useRef)(null),w=Object(p.useState)({active:!1,top:0,left:0,width:0,height:0,minWidth:0}),D=Object(c.a)(w,2),C=D[0],M=D[1];if(Object(p.useEffect)((function(){var t=function(){if(C.active){var t=O(E.current),n=t.top,e=t.left,r=t.width,a=t.height;M(Object(o.a)(Object(o.a)({},C),{},{top:n,left:e,width:r,height:a,minWidth:r}))}};return window.addEventListener("scroll",t,!0),function(){window.removeEventListener("scroll",t,!0)}})),null==h)n=x;else if(_)n=_(h)||x;else{var k=l.find((function(t){return t.value===h}));n=k?k.label:x}var A=function(t){return Object(i.a)(a.a.mark((function n(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(t);case 2:e=n.sent,M(e?Object(o.a)(Object(o.a)({},C),{},{active:e.active}):Object(o.a)(Object(o.a)({},C),{},{active:!1}));case 4:case"end":return n.stop()}}),n)})))};return Object(u.jsxs)(m,Object(o.a)(Object(o.a)(Object(o.a)({className:e,"data-options-visible":C.active},C),y),{},{itemCount:l.length,ref:E,role:"input",tabIndex:0,onClick:function(){var t=O(E.current),n=t.top,e=t.left,r=t.width,a=t.height;M({active:!0,top:n,left:e,width:r,height:a,minWidth:r})},onBlur:function(){return M(Object(o.a)(Object(o.a)({},C),{},{active:!1}))},children:[Object(u.jsx)(g,{children:n}),Object(u.jsx)(f.a,{icon:d.j}),Object(u.jsx)(j,Object(o.a)(Object(o.a)({},C),{},{itemCount:l.length,children:l.map((function(t){return Object(u.jsx)("span",{onClick:A(t),children:t.label},"".concat(t.value))}))}))]}))}},99:function(t,n,e){"use strict";var r;e.d(n,"a",(function(){return r})),function(t){t.TEXT="text",t.NUMERIC="numeric",t.BOOLEAN="boolean",t.DATE="date",t.TIME="time",t.DATETIME="datetime",t.OBJECT="object",t.ARRAY="array",t.UNKNOWN="unknown"}(r||(r={}))}}]);
//# sourceMappingURL=guide.b080188d.chunk.js.map